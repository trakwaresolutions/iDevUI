(function(){var a=!1;this.Class=function(){};Class.extend=function(b){function c(){!a&&this.init&&this.init.apply(this,arguments)}var d=this.prototype;a=!0;var f=new this;a=!1;for(var g in b)f[g]="function"==typeof b[g]&&"function"==typeof d[g]?function(a,b){return function(){var c=this._super;this._super=d[a];var f=b.apply(this,arguments);this._super=c;return f}}(g,b[g]):b[g];c.prototype=f;c.prototype.constructor=c;c.extend=arguments.callee;return c}})();
var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){a=String(a);for(b=b||2;a.length<b;)a="0"+a;return a};return function(f,g,j){var l=dateFormat;1==arguments.length&&("[object String]"==Object.prototype.toString.call(f)&&!/\d/.test(f))&&(g=f,f=void 0);f=f?new Date(f):new Date;if(isNaN(f))throw SyntaxError("invalid date");
g=String(l.masks[g]||g||l.masks["default"]);"UTC:"==g.slice(0,4)&&(g=g.slice(4),j=!0);var m=j?"getUTC":"get",k=f[m+"Date"](),h=f[m+"Day"](),r=f[m+"Month"](),o=f[m+"FullYear"](),n=f[m+"Hours"](),q=f[m+"Minutes"](),y=f[m+"Seconds"](),m=f[m+"Milliseconds"](),u=j?0:f.getTimezoneOffset(),v={d:k,dd:d(k),ddd:l.i18n.dayNames[h],dddd:l.i18n.dayNames[h+7],m:r+1,mm:d(r+1),mmm:l.i18n.monthNames[r],mmmm:l.i18n.monthNames[r+12],yy:String(o).slice(2),yyyy:o,h:n%12||12,hh:d(n%12||12),H:n,HH:d(n),M:q,MM:d(q),s:y,
ss:d(y),l:d(m,3),L:d(99<m?Math.round(m/10):m),t:12>n?"a":"p",tt:12>n?"am":"pm",T:12>n?"A":"P",TT:12>n?"AM":"PM",Z:j?"UTC":(String(f).match(b)||[""]).pop().replace(c,""),o:(0<u?"-":"+")+d(100*Math.floor(Math.abs(u)/60)+Math.abs(u)%60,4),S:["th","st","nd","rd"][3<k%10?0:(10!=k%100-k%10)*k%10]};return g.replace(a,function(a){return a in v?v[a]:a.slice(1,a.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",uDateTime:"yyyymmddHHMMss"};dateFormat.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(a,b){return dateFormat(this,a,b)};
var _language={sLanguage:"english",words:null,setLanguage:function(a){this.sLanguage=a},load:function(){if("english"!=this.sLanguage){var a=document.createElement("script");a.type="text/javascript";a.src=_preferences.languagepath+this.sLanguage+".js";-1==navigator.userAgent.toLowerCase().indexOf("msie 7")||-1==navigator.userAgent.toLowerCase().indexOf("msie 8")?a.onreadystatechange=function(){"loaded"==this.readyState&&$debug("Loaded:"+_language.sLanguage)}:a.onload=function(){$debug("Loaded:"+_language.sLanguage)};
document.getElementsByTagName("head")[0].appendChild(a)}},translate:function(a){var b=!1;if(null==a)return"";if(null==this.words)return a;if(""==a)return"";if("english"==this.sLanguage)return a;65<=a.charCodeAt(0)&&97>=a.charCodeAt(0)&&(b=!0);sForeignWord=this.words[a.toLowerCase()];null==sForeignWord&&(sForeignWord=a);b&&(sForeignWord=idev.utils.ucwords(sForeignWord));return sForeignWord}},idevObject=Class.extend({}),idevColors=idevObject.extend({init:function(){this.colors=[];this.colors.blue={startColor:"#000011",
endColor:"#0099dd:45-#06c",borderColor:"#06c",fontColor:"#fff",border:!0};this.colors.silver={startColor:"#ccc",endColor:"#ededed:45-#ddd",borderColor:"#ddd",fontColor:"#222",border:!0};this.colors.red={startColor:"#440000",endColor:"#d00:45-#a00",borderColor:"#a00",fontColor:"#fff",border:!0};this.colors.purple={startColor:"#110000",endColor:"#aa0066:45-#550022",borderColor:"#550022",fontColor:"#fff",border:!0};this.colors.black={startColor:"#000",endColor:"#555:45-#333",borderColor:"#333",fontColor:"#fff",
border:!0};this.colors.green={startColor:"#001100",endColor:"#00cc00:45-#090",borderColor:"#090",fontColor:"#fff",border:!0};this.colors.orange={startColor:"#551100",endColor:"#ff6600:45-#FF6600",borderColor:"#99aa00",fontColor:"#fff",border:!0}},gradientColors:function(a){var b=this.colors[a.color.toLowerCase()];b&&(a.startColor=b.startColor,a.endColor=b.endColor,a.borderColor=b.borderColor,a.fontColor=b.fontColor,a.border=b.border)},addColor:function(a,b){this.colors[a.toLowerCase()]=b},removeColor:function(a){this.colors[a.toLowerCase()]=
null}}),idevResize=idevObject.extend({init:function(a){this.widget=a;this.resizable=!0;this.resizing=!1;this.rsh=this.rsw=8;this.resizeColor="#000";this.handlers="nw,n,ne,w,e,sw,s,se,"},isResizing:function(){return this.resizing},add:function(){if(!this.resizing){this.widget.beforeResize();idev._isDraggable=this.widget.isDraggable();idev._resizeTarget=this.widget;var a=parseInt($("#"+this.widget.id).width())-this.rsw,b=parseInt($("#"+this.widget.id).height())-this.rsh,c="<div id='"+this.widget.id+
"-drframe' style='position:absolute;top:"+this.rsh/2+"px;left:"+this.rsw/2+"px;border:1px dashed "+this.resizeColor+";width:"+a+"px;height:"+b+"px;z-index:990;'></div>";this.resizable&&(-1!=this.handlers.indexOf("nw,")&&(c+="<div id='"+this.widget.id+"-drhandlenw' style='position:absolute;top:0px;left:0px;width:"+this.rsw+"px;height:"+this.rsh+"px;border:1px solid #000;background-color:#fff;z-index:999;cursor:nw-resize;'></div>"),-1!=this.handlers.indexOf("ne,")&&(c+="<div id='"+this.widget.id+"-drhandlene' style='position:absolute;top:0px;left:"+
(a-2)+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;border:1px solid #000;background-color:#fff;z-index:999;cursor:ne-resize;'></div>"),-1!=this.handlers.indexOf("se,")&&(c+="<div id='"+this.widget.id+"-drhandlese' style='position:absolute;top:"+(b-2)+"px;left:"+(a-2)+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;border:1px solid #000;background-color:#fff;z-index:999;cursor:se-resize;'></div>"),-1!=this.handlers.indexOf("sw,")&&(c+="<div id='"+this.widget.id+"-drhandlesw' style='position:absolute;top:"+
(b-2)+"px;left:0px;width:"+this.rsw+"px;height:"+this.rsh+"px;border:1px solid #000;background-color:#fff;z-index:999;cursor:sw-resize;'></div>"),-1!=this.handlers.indexOf("n,")&&(c+="<div id='"+this.widget.id+"-drhandlen' style='position:absolute;top:0px;left:"+a/2+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;border:1px solid #000;background-color:#fff;z-index:999;cursor:n-resize;'></div>"),-1!=this.handlers.indexOf("w,")&&(c+="<div id='"+this.widget.id+"-drhandlew' style='position:absolute;top:"+
b/2+"px;left:0px;width:"+this.rsw+"px;height:"+this.rsh+"px;border:1px solid #000;background-color:#fff;z-index:999;cursor:w-resize;'></div>"),-1!=this.handlers.indexOf("e,")&&(c+="<div id='"+this.widget.id+"-drhandlee' style='position:absolute;top:"+b/2+"px;left:"+(a-2)+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;border:1px solid #000;background-color:#fff;z-index:999;cursor:e-resize;'></div>"),-1!=this.handlers.indexOf("s,")&&(c+="<div id='"+this.widget.id+"-drhandles' style='position:absolute;top:"+
(b-2)+"px;left:"+a/2+"px;width:"+this.rsw+"px;height:"+this.rsh+"px;border:1px solid #000;background-color:#fff;z-index:999;cursor:s-resize;'></div>"));$("#"+this.widget.id).append(c);$("#"+this.widget.id).attr("draggable","Y");$("#"+this.widget.id).attr("resizable","Y");this.resizing=!0}},remove:function(){this.resizing&&($("#"+this.widget.id+"-drframe").remove(),this.resizable&&(-1!=this.handlers.indexOf("nw,")&&$("#"+this.widget.id+"-drhandlenw").remove(),-1!=this.handlers.indexOf("ne,")&&$("#"+
this.widget.id+"-drhandlene").remove(),-1!=this.handlers.indexOf("se,")&&$("#"+this.widget.id+"-drhandlese").remove(),-1!=this.handlers.indexOf("sw,")&&$("#"+this.widget.id+"-drhandlesw").remove(),-1!=this.handlers.indexOf("w,")&&$("#"+this.widget.id+"-drhandlew").remove(),-1!=this.handlers.indexOf("e,")&&$("#"+this.widget.id+"-drhandlee").remove(),-1!=this.handlers.indexOf("n,")&&$("#"+this.widget.id+"-drhandlen").remove(),-1!=this.handlers.indexOf("s,")&&$("#"+this.widget.id+"-drhandles").remove()),
$("#"+this.widget.id).attr("draggable","N"),$("#"+this.widget.id).attr("resizable","N"),this.widget.setDraggable(idev._isDraggable),this.resizing=!1,this.widget.afterResize())},syncSize:function(){if(this.resizable){var a=parseInt($("#"+this.widget.id).width())-this.rsw,b=parseInt($("#"+this.widget.id).height())-this.rsh;$("#"+this.widget.id+"-drframe").width(a);$("#"+this.widget.id+"-drframe").height(b);$("#"+this.widget.id+"-drhandlene").css("left",a-2);$("#"+this.widget.id+"-drhandlee").css("left",
a-2);$("#"+this.widget.id+"-drhandlee").css("top",b/2);$("#"+this.widget.id+"-drhandlew").css("top",b/2);$("#"+this.widget.id+"-drhandlese").css("left",a-2);$("#"+this.widget.id+"-drhandlese").css("top",b-2);$("#"+this.widget.id+"-drhandles").css("top",b-2);$("#"+this.widget.id+"-drhandles").css("left",a/2);$("#"+this.widget.id+"-drhandlen").css("left",a/2);$("#"+this.widget.id+"-drhandlesw").css("top",b-2)}},change:function(a,b,c,d){$("#"+this.widget.id);$("#"+this.widget.id).css("left",a);$("#"+
this.widget.id).css("top",b);this.resizable&&($("#"+this.widget.id).css("width",c),$("#"+this.widget.id).css("height",d),$("#"+this.widget.id).css("max-width",c),$("#"+this.widget.id).css("max-height",d),this.syncSize(),this.widget.doLayout())}}),idevDD=idevObject.extend({init:function(a){this.widget=a;this.allowDrag=a.config.allowDrag;this.allowDrop=a.config.allowDrop;this.dragText=a.config.dragText||"Dragging";this.tpl=new idev.wTemplate("<div id='{id}' style='position:absolute;left:{x}px;top:{y}px;width:{width}px;height:{height}px;z-index:999;{style}'>",
"<img id='{id}-drag' src='{drag}' style='display:none;'/><img id='{id}-nodrop' src='{nodrop}' style='display:none;'/>","{text}","</div>");this.bShowDragTip=!1},startDD:function(a){if(this.widget.events.onDrag){var b=this.widget.events.onDrag(this.widget,a);null!=b&&(this.dragText=b)}this.tx=a.clientX;this.ty=a.clientY;this.bShowDragTip=!0;idev.dropWidget=null},move:function(a){if(this.bShowDragTip){var b=[];b.id=this.widget.id+"-dd";b.x=this.tx-50;b.y=this.ty-14;b.width=100;b.height=20;b.style="background:#fff;border:2px solid #ccc;cursor:pointer;font-size:10pt;font-family:sans_serif;";
b.text=this.dragText;b.drag=_preferences.libpath+"images/drag.png";b.nodrop=_preferences.libpath+"images/nodrop.png";b=this.tpl.render(b);$("#container").append(b);this.allowDrop?$("#"+this.widget.id+"-dd-drag").show():$("#"+this.widget.id+"-dd-nodrop").show()}this.bShowDragTip=!1;var a=idev.utils.mousePosition(a),c=a.x-idev._sX,d=a.y-idev._sY,f=document.getElementById(this.widget.id+"-dd");f&&(idev._sX=a.x,idev._sY=a.y,$delay(100,function(){var a=parseInt(f.style.top.replace("px","")),b=parseInt(f.style.left.replace("px",
""));f.style.left=b+c+"px";f.style.top=a+d+"px"},f))},canDrop:function(a){if(null!=a){var b=a.id+"-dd";this.widget.dd.allowDrop||($("#"+b+"-drag").hide(),$("#"+b+"-nodrop").show(),idev.dropWidget=null);if(this.widget.events.canDrop)try{this.widget.events.canDrop(a,this.widget)?($("#"+b+"-drag").show(),$("#"+b+"-nodrop").hide(),idev.dropWidget=this.widget):($("#"+b+"-drag").hide(),$("#"+b+"-nodrop").show(),idev.dropWidget=null)}catch(c){$debug("CanDrop Error:"+c.message),$("#"+b+"-drag").hide(),$("#"+
b+"-nodrop").show(),idev.dropWidget=null}else this.widget.dd.allowDrop?($("#"+b+"-drag").show(),$("#"+b+"-nodrop").hide(),idev.dropWidget=this.widget):($("#"+b+"-drag").hide(),$("#"+b+"-nodrop").show(),idev.dropWidget=null)}},onDrop:function(){if(idev.dropWidget.events.onDrop)try{idev.dropWidget.events.onDrop(idev.dropWidget,this.widget)}catch(a){$debug("onDrop Error:"+a.message)}},endDD:function(){if(idev.dropWidget)try{this.onDrop()}catch(a){$debug("onDrop Error:"+a.message)}$("#"+this.widget.id+
"-dd").css("cursor","default");$delay(100,function(a){$("#"+a.id+"-dd").remove()},this.widget)}}),idevLayoutManager=idevObject.extend({init:function(a){this.widget=a;this.id=a.id;this.layout=a.layout;this.area=a.area;this.events=a.events;this.parent=a.parent;this.title=a.title;this.tbar=a.tbar;this.bbar=a.bbar},collapseArea:function(){if(this.widget.expanded)if("west"==this.area){var a=this.widget.width-18;this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-expand-w");
$("#"+this.id+"-expand").removeClass("ui-panel-btn-collapse-w");$("#"+this.parent.id+"-content-west").attr("width","18");$("#"+this.id).css("margin-left",0-a);$("#"+this.id+"-filler").css("visibility","visible");for(var b=0;b<this.parent.widgets.length;b++){var c=this.parent.widgets[b].id,d=this.parent.widgets[b].area;"center"==d&&(d=$("#"+c).width()+a,$("#"+c).width(d),$("#"+c).css("max-width",d),(c=$get(c))&&c.doLayout())}this.widget.expanded=!1}else if("east"==this.area){a=this.widget.width-18;
this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse-e");$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand-e");$("#"+this.parent.id+"-content-east").attr("width","18");$("#"+this.id+"-filler").css("visibility","visible");for(b=0;b<this.parent.widgets.length;b++)c=this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d&&(d=$("#"+c).width()+a,$("#"+c).width(d),$("#"+c).css("max-width",d),(c=$get(c))&&c.doLayout());this.widget.expanded=
!1}else if("south"==this.area){var f=$("#"+this.id+"-title").height(),a=this.widget.height-f;$("#"+this.id).css("height",f);this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand");$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse");$("#"+this.parent.id+"-content-row-south").attr("height",f);for(b=0;b<this.parent.widgets.length;b++)if(c=this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d||"west"==d||"east"==d){f=$("#"+
c).height()+a;$("#"+c).css("height",f);$("#"+c).css("max-height",f);f=$("#"+c+"-body").height()+a;$("#"+c+"-body").css("height",f);$("#"+c+"-body").css("max-height",f);if("west"==d||"east"==d)f=$("#"+c+"-filler").height()+a,$("#"+c+"-filler").css("height",f);(c=$get(c))&&c.doLayout()}this.widget.expanded=!1}else{f=$("#"+this.id+"-title").height();a=this.widget.height-f;$("#"+this.id).css("height",f);this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-expand");
$("#"+this.id+"-expand").removeClass("ui-panel-btn-collapse");$("#"+this.parent.id+"-content-row-north").attr("height",f);this.widget.expanded=!1;for(b=0;b<this.parent.widgets.length;b++)if(c=this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d||"west"==d||"east"==d){f=$("#"+c).height()+a;$("#"+c).css("height",f);$("#"+c).css("max-height",f);f=$("#"+c+"-body").height()+a;$("#"+c+"-body").css("height",f);$("#"+c+"-body").css("max-height",f);if("west"==d||"east"==d)f=$("#"+c+"-filler").height()+
a,$("#"+c+"-filler").css("height",f);(c=$get(c))&&c.doLayout()}}},expandArea:function(){if(!this.widget.expanded){if("west"==this.area){var a=this.widget.width-18;$("#"+this.parent.id+"-content-west").attr("width",this.widget.width);$("#"+this.id).css("margin-left",0);this.events.expanded&&this.events.expanded(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse-w");$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand-w");$("#"+this.id+"-filler").css("visibility","hidden");for(var b=
0;b<this.parent.widgets.length;b++){var c=this.parent.widgets[b].id,d=this.parent.widgets[b].area;"center"==d&&(d=$("#"+c).width()-a,$("#"+c).width(d),$("#"+c).css("max-width",d),(c=$get(c))&&c.doLayout())}}else if("east"==this.area){a=this.widget.width-18;$("#"+this.parent.id+"-content-east").attr("width",this.widget.width);this.events.expanded&&this.events.expanded(this.widget);$("#"+this.id+"-expand").removeClass("ui-panel-btn-collapse-e");$("#"+this.id+"-expand").addClass("ui-panel-btn-expand-e");
$("#"+this.id+"-filler").css("visibility","hidden");for(b=0;b<this.parent.widgets.length;b++)c=this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d&&(d=$("#"+c).width()-a,$("#"+c).width(d),$("#"+c).css("max-width",d),(c=$get(c))&&c.doLayout())}else{if("south"==this.area){var f=$("#"+this.id+"-title").height(),a=this.widget.height-f;$("#"+this.id).css("height",this.widget.height);this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-expand");
$("#"+this.id+"-expand").removeClass("ui-panel-btn-collapse");$("#"+this.parent.id+"-content-row-south").attr("height",this.height)}else f=$("#"+this.id+"-title").height(),a=this.widget.height-f,$("#"+this.id).css("height",this.widget.height),this.events.collapsed&&this.events.collapsed(this.widget),$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand"),$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse"),$("#"+this.parent.id+"-content-row-north").attr("height",this.widget.height);for(b=
0;b<this.parent.widgets.length;b++)if(c=this.parent.widgets[b].id,d=this.parent.widgets[b].area,"center"==d||"west"==d||"east"==d){f=$("#"+c).height()-a;$("#"+c).css("height",f);$("#"+c).css("max-height",f);f=$("#"+c+"-body").height()-a;$("#"+c+"-body").css("height",f);$("#"+c+"-body").css("max-height",f);if("west"==d||"east"==d)f=$("#"+c+"-filler").height()-a,$("#"+c+"-filler").css("height",f);(c=$get(c))&&c.doLayout()}}this.widget.expanded=!0}},collapsePanel:function(){if(this.widget.expanded){var a=
$("#"+this.id+"-title").height();$("#"+this.id).css("height",a);$("#"+this.id).css("max-height",a);this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").addClass("ui-panel-btn-plus");$("#"+this.id+"-expand").removeClass("ui-panel-btn-minus");this.widget.expanded=!1}},expandPanel:function(){if(!this.widget.expanded){var a=$("#"+this.parent.id).height(),b=$("#"+this.parent.id+"-title").height(),a=a-b-24*(this.parent.widgets.length-1);$("#"+this.id).css("height",a);$("#"+
this.id).css("max-height",a);this.events.collapsed&&this.events.collapsed(this.widget);$("#"+this.id+"-expand").removeClass("ui-panel-btn-plus");$("#"+this.id+"-expand").addClass("ui-panel-btn-minus");for(a=0;a<this.parent.widgets.length;a++)b=$get(this.parent.widgets[a].id),b.expanded&&b.layoutManager.collapsePanel();this.widget.expanded=!0;this.widget.doLayout()}},expand:function(){"frame"==this.parent.layout?this.expandArea():"accordion"==this.parent.layout?this.expandPanel():this.widget.expand()},
collapse:function(){"frame"==this.parent.layout?this.collapseArea():"accordion"==this.parent.layout?this.collapsePanel():this.widget.collapse(this.widget.titleHeight)},resizePanel:function(){var a=this.widget.height,b=this.widget.width;this.widget.title&&(a-=this.widget.titleHeight);this.widget.tbar&&(a-=this.widget.tbarHeight);this.widget.bbar&&(a-=this.widget.bbarHeight);$("#"+this.id+"-body").css("width",b);$("#"+this.id+"-body").css("max-width",b);$("#"+this.id+"-content").css("width",b);$("#"+
this.id+"-content").css("max-width",b);this.widget.expanded&&$("#"+this.id+"-body").css("height",a);this.widget.title&&($("#"+this.id+"-title").css("width",b),$("#"+this.id+"-title").css("max-width",b));this.widget.tbar&&($("#"+this.id+"-tbar").css("width",b),$("#"+this.id+"-tbar").css("max-width",b),this.widget.tbar.doLayout());this.widget.bbar&&($("#"+this.id+"-bbar").css("width",b),$("#"+this.id+"-bbar").css("max-width",b),this.widget.bbar.doLayout());return a},doLayout:function(){var a=$("#"+
this.id).width(),b=$("#"+this.id).height();this.widget.width=a;this.widget.height=b;if("fit"==this.layout)b=this.resizePanel(),this.widget.children[0].resize(a,b),this.widget.children[0].doLayout();else if("accordion"==this.layout){b=this.resizePanel();this.widget.children.length&&(b-=24*(this.widget.children.length-1));for(var c=0;c<this.widget.children.length;c++)this.widget.children[c].expanded&&($("#"+this.widget.children[c].id).css("height",b),$("#"+this.widget.children[c].id).css("max-height",
b)),$("#"+this.widget.children[c].id).css("width",a),$("#"+this.widget.children[c].id).css("max-width",a),this.widget.children[c].doLayout()}else{this.resizePanel();for(c=0;c<this.widget.children.length;c++)this.widget.children[c].doLayout()}}}),baseWidget=idevObject.extend({init:function(a){this.config=null==a?{}:a;this.deferredRender=this.rendered=!1;null!=this.config.id&&$get(this.config.id)&&(this.config.id=null,a.id=null);this.id=null==this.config.id?idev.internal.nextUIID():this.config.id;this.wtype=
this.config.wtype;this.page=this.config.page;this.parent=this.config.parent;this.tpl=new idev.wTemplate;this.fn=this.config.fn;this.data=this.config.data;this.dd=new idevDD(this);this.renderTo=this.config.renderTo;this.cls=null==this.config.cls?"":this.config.cls;this.style=null==this.config.style?"":this.config.style;this.labelStyle=null==this.config.labelStyle?"":this.config.labelStyle;this.x=this.config.x;this.y=this.config.y;this.width=this.config.width;this.height=this.config.height;this.autoDestroy=
null==this.config.autoDestroy?!1:this.config.autoDestroy;this.hidden=null==this.config.hidden?!1:this.config.hidden;this.hideType=null==this.config.hideType?"display":this.config.hideType;this.enabled=null==this.config.enabled?!0:this.config.enabled;this.padding=null==this.config.padding?0:this.config.padding;this.border=null==this.config.border?!1:this.config.border;this.borderStyle=null==this.config.borderStyle?"":this.config.borderStyle;this.borderColor=null==this.config.borderColor?"#ccc":this.config.borderColor;
this.ds=this.config.ds;this.fn=null==this.config.fn?{}:this.config.fn;this.events=null==this.config.events?{}:this.config.events;this.widgets=this.config.widgets||[];this.autoScroll=null==this.config.autoScroll?!1:this.config.autoScroll;this.html=null==this.config.html?"":this.config.html;this.text=null==this.config.text?"":this.config.text;this.color=null==this.config.color?"":this.config.color;this.value=null==this.config.value?"":this.config.value;this.animSpeed=null==this.config.animSpeed?1E3:
this.config.animSpeed;this.expandTime=this.config.expandTime||500;this.attr=this.config.attr;this.nofloat=this.config.nofloat;this.radius=idev.convertNulls(this.config.radius,4);this.expanded=!0;this.parent&&"string"==typeof this.x&&"@"==this.x.substr(0,1)&&(a=$("#"+this.parent.id).width(),this.x=null==a?parseInt(this.x.substr(1)):a-parseInt(this.x.substr(1)));this.config.right&&(a=$("#"+this.parent.id).width(),this.x=null==a?this.config.right:a-this.config.right);this.parent&&"string"==typeof this.y&&
"@"==this.y.substr(0,1)&&(a=$("#"+this.parent.id).height(),this.y=null==a?parseInt(this.y.substr(1)):a-parseInt(this.y.substr(1)));this.config.bottom&&(a=$("#"+this.parent.id).height(),this.y=null==a?this.config.bottom:a-this.config.bottom);this.border&&""==this.borderStyle&&(this.borderStyle="1px solid "+this.borderColor+";");null!=this.width&&(this.width=parseInt(this.width));null!=this.height&&("listbox"!=this.wtype&&"auto"==this.height?this.height=null:"auto"!=this.height&&(this.height=parseInt(this.height)));
null!=this.x&&(this.x=parseInt(this.x));null!=this.y&&(this.y=parseInt(this.y));null!=this.right&&(this.right=parseInt(this.right));null!=this.bottom&&(this.bottom=parseInt(this.bottom));"button"==this.wtype&&null==this.height&&(this.height=40);"button"==this.wtype&&null==this.width&&(this.width=80);this.calcElementStyle();this.roundCorners=null==this.config.roundCorners?!1:this.config.roundCorners;this.layout=null==this.config.layout?"":this.config.layout;this.labelCls=this.config.labelCls||"";this.resizer=
new idevResize(this);this.children=[];this.config.id=this.id;this.events.dblClick&&(this.events.dblclick=this.events.dblClick);this.events.afterRender&&(this.events.afterrender=this.events.afterRender);""!=this.cls&&(this.cls+="  ie9gradient");""!=this.labelCls&&(this.labelCls+="  ie9gradient");this.layoutConfig=this.config.layoutConfig},calcElementStyle:function(){this.elementStyle="";if(null!=this.x||null!=this.y)this.elementStyle+="position:absolute;";null!=this.x&&(this.elementStyle+="left:"+
this.x+"px;");null!=this.y&&(this.elementStyle+="top:"+this.y+"px;");null!=this.width&&(this.elementStyle+="max-width:"+this.width+"px;width:"+this.width+"px;");null!=this.height&&(this.elementStyle="auto"==this.height?this.elementStyle+("height:"+this.height+";"):this.elementStyle+("max-height:"+this.height+"px;height:"+this.height+"px;"));this.hidden&&"visibility"==this.hideType?this.elementStyle+="visibility:hidden;":this.hidden&&(this.elementStyle+="display:none;");this.nofloat&&(this.elementStyle+=
"float:none;")},setDraggable:function(a){a?$("#"+this.id).attr("draggable","Y"):$("#"+this.id).attr("draggable","N")},isDraggable:function(){return"Y"==$("#"+this.id).attr("draggable")?!0:!1},remove:function(){if(this.parent)for(var a=0;a<this.parent.widgets.length;a++)this.parent.widgets[a].id==this.id&&this.parent.widgets.splice(a,1)},destroy:function(a){this.events.destroy&&this.events.destroy(this);this.ondestroy();if(this.widgets)for(var b=0;b<this.widgets.length;b++){var c=idev.get(this.widgets[b].id);
try{c.destroy()}catch(d){}}this.tpl&&delete this.tpl;this.iScroll&&delete this.iScroll;idev.internal.remove(this.id);$delay(100,function(a){delete a},this);a&&this.remove()},getPosition:function(){var a={x:0,y:0},b=$("#"+this.id).position();a.x=b.left;a.y=b.top;return a},css:function(a,b){return $("#"+this.id).css(a,b)},attr:function(a,b){return $("#"+this.id).attr(a,b)},bringForward:function(){var a=$("#"+this.id).css("z-index"),a="auto"==a?0:parseInt(a);$("#"+this.id).css("z-index",a+1)},sendBack:function(){var a=
$("#"+this.id).css("z-index"),a="auto"==a?0:parseInt(a);$("#"+this.id).css("z-index",a-1)},hide:function(){this.onhide();this.events.hide&&this.events.hide(this);"visibility"==this.hideType?$("#"+this.id).css("visibility","hidden"):$("#"+this.id).hide()},show:function(){this.onshow();"visibility"==this.hideType?($("#"+this.id).css("visibility","visible"),idev.isIE8()&&"icon"==this.wtype&&this.refresh()):($("#"+this.id).css("visibility","visible"),$("#"+this.id).show());this.events.show&&this.events.show(this)},
isVisible:function(){return $("#"+this.id).is(":visible")},fadeOut:function(a,b,c){null==a&&(a=this.animSpeed);$("#"+this.id).fadeOut(a,b,c)},fadeIn:function(a,b,c){null==a&&(a=this.animSpeed);$("#"+this.id).fadeIn(a,b,c)},fadeToggle:function(a,b,c){$("#"+this.id).fadeToggle(speed,b,c)},moveTo:function(a,b,c,d,f){null==d&&(d="linear");null==c&&(c="fast");$("#"+this.id).animate({left:a,top:b},c,d,f)},moveBy:function(a,b,c,d,f){null==d&&(d="linear");null==c&&(c="fast");$("#"+this.id).animate({left:"+="+
a,top:"+="+b},c,d,f)},animate:function(a,b,c,d){null!=a&&(null==c&&(c="linear"),null==b&&(b="fast"),$("#"+this.id).animate(a,b,c,d))},focus:function(){("input"==this.wtype||"textarea"==this.wtype||"combo"==this.wtype)&&$delay(100,function(a){a=document.getElementById(a+"-input");a.focus();if(idev.isFF()){var b=a.value.length;a.focus();a.setSelectionRange(b,b)}else a.value=a.value},this.id)},widgetCount:function(){return this.widgets.length},enable:function(a){(this.enabled=a)&&"button"==this.wtype&&
this.textColor(this.fontColor)},isEnabled:function(){return this.enabled},getWidth:function(){return $("#"+this.id).width()},getHeight:function(){return $("#"+this.id).height()},getParent:function(){var a=this.renderTo,b=a.indexOf("-",3);-1!=b&&(a=a.substr(0,b));return idev.get(a)},getWidget:function(a){return 0>a||a>=this.widgets.length?null:this.children[a]},resize:function(a,b){$("#"+this.id).css("width",a);$("#"+this.id).css("max-width",a);$("#"+this.id).css("height",b);$("#"+this.id).css("max-height",
b)},doResize:function(a){a?this.resizer.add():this.resizer.remove()},collapse:function(a){$("#"+this.id).animate({height:a+"px"},this.expandTime);this.expanded=!1;$("#"+this.id+"-expand").addClass("ui-panel-btn-expand");$("#"+this.id+"-expand").removeClass("ui-panel-btn-collapse")},expand:function(){$("#"+this.id).animate({height:this.height+"px"},this.expandTime);this.expanded=!0;$("#"+this.id+"-expand").removeClass("ui-panel-btn-expand");$("#"+this.id+"-expand").addClass("ui-panel-btn-collapse")},
collapseWidth:function(a){$("#"+this.id).animate({width:a+"px"},this.expandTime);this.expanded=!1},expandWidth:function(){$("#"+this.id).animate({width:this.width+"px"},this.expandTime);this.expanded=!0},addEvent:function(a,b){$("#"+this.id).bind(a,b)},removeEvent:function(a){$("#"+this.id).unbind(a)},doLayout:function(){for(var a=0;a<this.children.length;a++)this.children[a].doLayout()},beforeResize:function(){},afterResize:function(){},ondestroy:function(){},onhide:function(){this.parent&&"form"==
this.parent.layout&&$("#"+this.renderTo+"-label").hide()},onshow:function(){this.parent&&"form"==this.parent.layout&&$("#"+this.renderTo+"-label").show()},refresh:function(){},setOpacity:function(a,b){if(!isNaN(a)){var c=this;b&&(c+="-"+b);c.css("opacity",a)}},getValue:function(){return""},setValue:function(){}}),idevCore=idevObject.extend({init:function(){this.body=document.body;this.pageManager=new this.pageManagerClass;this.agent=navigator.userAgent.toLowerCase();this.widgets=[];this.plugins=[];
this.pgHeight=this.pgWidth=null;this.heightadj=0;this.body="container";this.orient="profile";this.app=this.geoerror=this.geoposition=null;this.controlHeight=this.ey=this.sy=this.ex=this.sx=0;this.swipping=this.hasPopup=!1;this.path="js/idevui/";this.languagepath="js/";this.blankimage="images/s.gif";this.fadeInTime=this.fadeOutTime=1E3;this.animationTime=500;this.modals=this.uiid=0;this.charWidth=8;this._dragging=!1;this.designMode=!0;this.dependancy=[];this.loadedFiles=[];this.hideFN=this.hideWidget=
null;if(_preferences.meta)for(var a=0;a<_preferences.meta.length;a++)this.dependancy.push(_preferences.meta[a]);this.dependancy.push(_preferences.libpath+"idevui.css");_preferences.theme?-1==_preferences.theme.indexOf("/")?this.dependancy.push(_preferences.libpath+"themes/"+_preferences.theme+"/theme.css"):this.dependancy.push(_preferences.theme):this.dependancy.push(_preferences.libpath+"themes/default/theme.css");_preferences.styling&&this.dependancy.push(_preferences.styling);this.dependancy.push(_preferences.libpath+
"jquery17min.js");this.dependancy.push(_preferences.libpath+"jquerycookie.js");this.dependancy.push(_preferences.libpath+"roundcorners.js");this.dependancy.push(_preferences.libpath+"raphael.js");this.dependancy.push(_preferences.libpath+"iscroll.js");this.dependancy.push(_preferences.libpath+"icons.js");this.dependancy.push(_preferences.libpath+"jquery.animate-shadow.js");_preferences.title&&(document.title=_preferences.title);this.colors=new idevColors;this.url=String(window.location);this.rawUrl=
String(window.location);this.parameters=[];if(0<this.url.indexOf("?")){var b=this.url.indexOf("?"),c=this.url.substr(b+1);this.url=this.url.substr(0,b);b=c.split("&");for(a in b){if("string"!=typeof b[a])break;c=b[a].split("=");this.parameters[c[0]]=c[1]}}this.standaloneOffset=0;this.events={onstartdrag:null,ondrag:null,onenddrag:null,onmousemove:null,onmousedown:null,onmouseup:null};this.dataShare={};this.fn={};this.rkey=13;for(this.rAlphabet="";93>this.rAlphabet.length;)a=String.fromCharCode(Math.floor(95*
Math.random()+1)+32),"%"!=a&&"*"!=a&&-1==this.rAlphabet.indexOf(a)&&(this.rAlphabet+=a);this.defaultMWidth=250;this.defaultMHeight=150;this.defaultMPadding=10;this.defaultMBtnWidth=70;this.defaultMBtnHeight=26;this.defaultMIconSize=48;this.defaultMFontSize=14;this.defaultMBBarHeight=34;this.defaultMBGCls="ui-message-body";this.defaultMTitleCls="ui-message-title";this.defaultMTbarCls="ui-message-tbar";this.defaultMBbarCls="ui-message-bbar";this.focusHighlight=this.defaultMShadow=!1;this.highlightCSS=
"0px 0px 8px #336699"},funcs:{},internal:{killBackSpace:function(a){a=a?a:window.event;if(70==a.keyCode&&a.ctrlKey||114==a.keyCode)return a.preventDefault(),!1;var b=a.target?a.target:a.srcElement?a.srcElement:null;return b&&b.tagName&&b.type&&/(password)|(text)|(file)/.test(b.type.toLowerCase())||"textarea"==b.tagName.toLowerCase()?!0:8==(a.keyCode?a.keyCode:a.which?a.which:null)&&null==a.target?(a.preventDefault&&a.preventDefault(),!1):!0},load:function(){if(idev.dependancyIndex==idev.dependancy.length)idev.internal.prepare();
else if("object"==typeof idev.dependancy[idev.dependancyIndex])idev.internal.addMeta(idev.dependancy[idev.dependancyIndex]),idev.dependancyIndex++;else{var a=idev.dependancy[idev.dependancyIndex].toLowerCase();""==a?(idev.dependancyIndex++,idev.internal.load()):(-1!=a.indexOf(".css")?idev.internal.addStyleSheet(idev.dependancy[idev.dependancyIndex],idev.internal.load):idev.internal.addScript(idev.dependancy[idev.dependancyIndex],idev.internal.load),idev.dependancyIndex++)}},callback:function(){},
loadDependants:function(){_language.setLanguage(_preferences.language);idev.dependancyIndex=0;"english"!=_preferences.language&&idev.dependancy.push(_preferences.languagepath+_preferences.language+".js");idev.isIE7()&&idev.dependancy.push(_preferences.libpath+"/charts/excanvasmin.js");idev.isIE8()&&idev.dependancy.push(_preferences.libpath+"/charts/excanvasmin.js");_preferences.config.charts&&(idev.dependancy.push(_preferences.libpath+"charts/jqueryflotmin.js"),idev.dependancy.push(_preferences.libpath+
"charts/jqueryflotaxislabels.js"),idev.dependancy.push(_preferences.libpath+"charts/jqueryflotpiemin.js"));if(_preferences.ux)for(var a=0;a<_preferences.ux.length;a++)idev.dependancy.push(_preferences.libpath+"ux/"+_preferences.ux[a]);if(_preferences.imports)for(a=0;a<_preferences.imports.length;a++)idev.dependancy.push(_preferences.apppath+_preferences.imports[a]);_preferences.events&&("function"==typeof _preferences.events.beforeLoad&&_preferences.events.beforeLoad(),"function"==typeof _preferences.events.beforeload&&
_preferences.events.beforeload());idev.dependancy.push(_preferences.apppath+_preferences.app);idev.internal.load()},prepare:function(){idev.extensions();$(document).ready(function(){idev.dom=$;idev.pgHeight=$(document).height();idev.pgWidth=$(document).width();$("#container").html("");idev.internal.bind();idev.app.events&&("function"==typeof idev.app.events.beforeRender&&idev.app.events.beforeRender(),"function"==typeof idev.app.events.beforerender&&idev.app.events.beforerender());idev.internal.render();
idev.app.events&&(idev.isTouch()&&window.scrollTo(0,1),"function"==typeof idev.app.events.afterRender&&idev.app.events.afterRender(),"function"==typeof idev.app.events.afterrender&&idev.app.events.afterrender());idev.app.width&&$("#container").width(idev.app.width);idev.app.height&&$("#container").height(idev.app.height);idev.callback();if(idev.isIPad()||idev.isIPhone()||idev.isAndroid())"portrait"==_preferences.orientation||"landscape"==_preferences.orientation?"landscape"==_preferences.orientation?
$("body").attr("orient","landscape"):$("body").attr("orient","profile"):(idev.currentWidth=window.innerWidth,setInterval(idev.internal.onUpdateLayout,500))})},isLoaded:function(a){for(var b=0;b<idev.loadedFiles.length;b++)if(idev.loadedFiles[b]==a)return!0;return!1},addStyleSheet:function(a,b){if(idev.internal.isLoaded(a))b&&b();else{idev.loadedFiles.push(a);var c=document.createElement("link");c.rel="stylesheet";c.href=a;c.callback=b;$debug(a);idev.isIE7()||idev.isIE8()?c.onreadystatechange=function(){if("loaded"==
this.readyState||"complete"==this.readyState)idev.loadedFiles.push(a),this.callback()}:$delay(200,function(a){a&&a()},b);document.getElementsByTagName("head")[0].appendChild(c)}},addScript:function(a,b,c){if(idev.internal.isLoaded(a))$debug("Already Loaded"),b&&b(c);else{idev.loadedFiles.push(a);var d=document.createElement("script");d.type="text/javascript";d.src=a;d.callback=b;$debug(a);idev.isIE7()||idev.isIE8()?d.onreadystatechange=function(){if("loaded"==this.readyState||"complete"==this.readyState)"undefined"!=
typeof $&&null==idev.pgWidth&&(idev.pgHeight=$(document).height(),idev.pgWidth=$(document).width()),b&&this.callback(c)}:(d.onload=function(){"undefined"!=typeof $&&null==idev.pgWidth&&(idev.pgHeight=$(document).height(),window.navigator.standalone&&idev.isIPad()&&(idev.pgHeight-=20),idev.pgWidth=$(document).width());idev.loadedFiles.push(a);b&&this.callback(c)},d.onerror=function(){$debug("Failed to load script '"+a+"'");b&&this.callback(c)});document.getElementsByTagName("head")[0].appendChild(d)}},
addMeta:function(a,b){var c=document.createElement("meta");c.name=a.name;c.content=a.content;document.getElementsByTagName("head")[0].appendChild(c);b&&idev.utils.delay(100,function(a){$debug("Meta added");a()},b)},bind:function(){if("undefined"!=typeof document.addEventListener)document.addEventListener("keydown",idev.internal.killBackSpace,!1);else if("undefined"!=typeof document.attachEvent)document.attachEvent("onkeydown",idev.internal.killBackSpace);else if(null!=document.onkeydown){var a=document.onkeydown;
document.onkeydown=function(b){a(b);idev.internal.killBackSpace(b)}}else document.onkeydown=idev.internal.killBackSpace;null===_preferences.config.trapunload&&null===_preferences.config.trapUnload&&(_preferences.config.trapunload=!0);if(_preferences.config.trapunload||_preferences.config.trapUnload)window.onbeforeunload=function(){return false};$(window).resize(function(a){if(idev.app.events!=null)if(typeof idev.events.onResize=="function")idev.app.events.onResize(a);else if(typeof idev.events.onresize==
"function")idev.app.events.onresize(a)});if(_preferences.config.norightclick||_preferences.config.noRightClick)document.oncontextmenu=function(){return false};$(document).bind("mousedown",function(a){var c=0;idev.mousedowntime=new Date;idev.mousemoved=false;idev.mousestartx=a.pageX;idev.mousestarty=a.pageY;idev.mouseendx=a.pageX;idev.mouseendy=a.pageY;if(a==null)a=window.event;idev.isIE7()&&(c=1);idev.isIE8()&&(c=1);if(idev.events.onmousedown)idev.events.onmousedown(a);if(idev.hideFN){idev.hideFN(idev.hideWidget,
a);idev.hideFN=null;idev.hideWidget=null}idev.orgEvent=a;if(idev.hideWidget){var d=a.target!=null?a.target:a.srcElement;d&&d.id.substr(0,idev.hideWidget.id.length)!=idev.hideWidget.id&&$delay(300,function(){if(idev.hideWidget){if(idev.hideWidget.parent)idev.hideWidget.parent.visible=false;idev.hideWidget.hide();idev.hideWidget=null}})}if(a.button==c){d=a.target!=null?a.target:a.srcElement;c=false;if(!(d.id&&d.id.indexOf("-wrapper")!=-1)){idev.dd=false;idev.widgetMoved=false;for(idev._dragWidgetId=
d.id;d;){d.id&&d.id.indexOf("-title")!=-1&&(c=true);idev._dragWidget=idev.get(d.id);if(idev._dragWidget&&idev._dragWidget.dd.allowDrag){idev._dragWidget.dd.startDD(a);idev.dd=true;document.onselectstart=function(){return false};d.ondragstart=function(){return false};c=idev.utils.mousePosition(a);idev._sX=c.x;idev._sY=c.y;return false}var f=$("#"+d.id).attr("draggable");if(f=="Y"){!c&&idev._dragWidget&&idev._dragWidget.wtype!="window"&&(c=true);break}if(idev._dragWidget&&idev._dragWidget.wtype=="button"){f=
$("#"+d.id).attr("draggable");if(f!="Y")return}d=d.parentNode;if(d==null)return}if(idev._dragWidget.wtype!="window"||c){idev._resizable=false;if(idev._dragWidgetId.indexOf("-drhandle")!=-1)idev._resizable=$("#"+d.id).attr("resizable")=="Y"?true:false;if(idev._dragWidget.events.beforedrag&&idev._dragWidget.events.beforedrag(idev._dragWidget)===false)return false;if(idev._dragWidget.resizer.isResizing()||!(idev._dragWidget.wtype=="panel"&&idev._dragWidget.title&&idev._dragWidgetId.indexOf("-titletext")==
-1)){idev._cursor=null;f=idev.internal.getMouseOffset(d,a);c=idev.utils.mousePosition(a);idev._startX=f.x;idev._startY=f.y;idev._sX=c.x;idev._sY=c.y;idev._dragging=true;idev._offsetX=10;idev._offsetY=10;idev._oldZIndex=d.style.zIndex;d.style.zIndex=1E4;idev._dragElement=d;document.onselectstart=function(){return false};d.ondragstart=function(){return false};idev._dragWidget.events.startdrag&&idev._dragWidget.events.startdrag(idev._dragWidget,a);if(idev.events.onstartdrag)idev.events.onstartdrag(idev._dragWidget,
a);return false}}}}});$(document).bind("mousemove",function(a){if(a==null)a=window.event;idev.mousemoved=true;idev.mouseendx=a.pageX;idev.mouseendy=a.pageY;if(idev.dd){idev.dd=false;idev._dragElement=a.target!=null?a.target:a.srcElement;var c=idev._dragElement.id.indexOf("-",3);if(c!=-1&&idev._dragElement.id!=idev._dragWidget.id+"-dd"){c=idev._dragElement.id.substr(0,c);(c=$get(c))&&c.dd.canDrop(idev._dragWidget)}idev._dragWidget.dd.move(a);idev.dd=true;idev.widgetMoved=true;a.preventDefault()}else if(idev._dragging){if(idev._cursor==
null){idev._cursor=$("#"+idev._dragElement.id).css("cursor");$("#"+idev._dragElement.id).css("cursor","move")}var d=idev.utils.mousePosition(a),c=parseInt(d.x-idev._startX),f=parseInt(d.y-(idev._startY+idev.app.toolbar.height+idev._offsetY)),g=d.x-idev._sX,j=d.y-idev._sY;idev._sX=d.x;idev._sY=d.y;if(idev._resizable){var a=parseInt(idev._dragElement.style.left.replace("px","")),d=parseInt(idev._dragElement.style.top.replace("px","")),l=parseInt(idev._dragElement.style.width.replace("px","")),m=parseInt(idev._dragElement.style.height.replace("px",
""));idev._dragWidgetId.indexOf("-drhandlenw")!=-1?idev._dragWidget.resizer.change(c,f,l-g,m-j):idev._dragWidgetId.indexOf("-drhandlene")!=-1?idev._dragWidget.resizer.change(a,f,l+g,m-j):idev._dragWidgetId.indexOf("-drhandlen")!=-1?idev._dragWidget.resizer.change(a,f,l,m-j):idev._dragWidgetId.indexOf("-drhandlew")!=-1?idev._dragWidget.resizer.change(c,d,l-g,m):idev._dragWidgetId.indexOf("-drhandlese")!=-1?idev._dragWidget.resizer.change(a,d,l+g,m+j):idev._dragWidgetId.indexOf("-drhandlesw")!=-1?idev._dragWidget.resizer.change(c,
d,l-g,m+j):idev._dragWidgetId.indexOf("-drhandles")!=-1?idev._dragWidget.resizer.change(a,d,l,m+j):idev._dragWidgetId.indexOf("-drhandlee")!=-1&&idev._dragWidget.resizer.change(a,d,l+g,m)}else{c=parseInt(idev._dragElement.style.left.replace("px",""));f=parseInt(idev._dragElement.style.top.replace("px",""));idev._dragElement.style.left=c+g+"px";idev._dragElement.style.top=f+j+"px";a.preventDefault();if(g!=0||j!=0)idev.widgetMoved=true;if(idev._dragWidget.events.ondrag)idev._dragWidget.events.ondrag(idev._dragWidget,
a);if(idev.events.ondrag)idev.events.ondrag(idev._dragWidget,a)}}else if(idev.events.onmousemove)idev.events.onmousemove(a)});$(document).bind("mouseup",function(a){if(a==null)a=window.event;idev.mouseuptime=new Date;if(idev.events.onmouseup)idev.events.onmouseup(a);if(idev.dd){idev.dd=false;idev._dragWidget&&idev._dragWidget.dd.endDD();idev._dragWidget.dd.allowDrag&&!idev.widgetMoved&&idev._dragWidget.enabled&&idev._dragWidget.events.click&&idev._dragWidget.events.click(idev._dragWidget,idev.orgEvent);
document.onselectstart=null;a.preventDefault()}else if(idev._dragging){idev._dragElement.style.zIndex=idev._oldZIndex;idev._dragElement.ondragstart=function(){return true};idev._cursor!=null&&$("#"+idev._dragElement.id).css("cursor",idev._cursor);idev._dragElement=null;idev._dragging=false;document.onselectstart=null;idev._dragWidget&&(idev.widgetMoved?idev._dragWidget.events.afterdrag&&idev._dragWidget.events.afterdrag(idev._dragWidget,a):idev._dragWidget.enabled&&idev._dragWidget.events.click&&
idev._dragWidget.events.click(idev._dragWidget,idev.orgEvent));if(idev.events.onenddrag)idev.events.onenddrag(idev._dragWidget,a);a.preventDefault();a.stopPropagation();return false}});idev.isTouch()&&(document.addEventListener("touchstart",function(a){var c=a.target!=null?a.target:a.srcElement;idev.mousedowntime=new Date;idev.mousemoved=false;idev._swipping=false;idev.widgetMoved=false;var d=a.touches[0];idev.mousestartx=d.pageX;idev.mousestarty=d.pageY;idev.mouseendx=d.pageX;for(idev.mouseendy=
d.pageY;c;){idev._dragWidget=idev.get(c.id);var f=$("#"+c.id).attr("draggable");if(f=="Y")break;if(idev._dragWidget&&idev._dragWidget.wtype=="button"){f=$("#"+c.id).attr("draggable");if(f!="Y")return}c=c.parentNode;if(c==null){if(idev.pageManager.animationType=="slide"&&a.target.id.indexOf("-content")!=-1){idev._swipping=true;idev._startX=d.pageX;idev._startY=d.pageY}return}}if(idev._dragWidget.events.beforedrag&&idev._dragWidget.events.beforedrag(idev._dragWidget)===false)return false;var f=parseInt(c.style.left.replace("px",
"")),g=parseInt(c.style.top.replace("px",""));idev._startX=d.pageX-f;idev._startY=d.pageY-g;idev._dragging=true;idev._oldZIndex=c.style.zIndex;c.style.zIndex=1E4;idev._dragElement=c;idev._dragWidget.events.startdrag&&idev._dragWidget.events.startdrag(idev._dragWidget);if(idev.events.onstartdrag)idev.events.onstartdrag(idev._dragWidget,a);return false}),document.addEventListener("touchmove",function(a){var c=a.touches[0];idev.mouseendx=c.pageX;idev.mouseendy=c.pageY;idev.mousemoved=true;if(idev.events.onmousemove)idev.events.onmousemove(a);
idev.mousemoved=true;if(idev._dragging){idev._dragElement.style.left=c.pageX-idev._startX+"px";idev._dragElement.style.top=c.pageY-idev._startY+"px";a.preventDefault();idev.widgetMoved=true;idev._endX=c.pageX;idev._endY=c.pageY;if(idev._dragWidget.events.ondrag)idev._dragWidget.events.ondrag(idev._dragWidget,a)}if(idev._swipping){c=a.touches[0];idev._endX=c.pageX;idev._endY=c.pageY}if(idev.events.onmousemove)idev.events.onmousemove(a)}),document.addEventListener("touchend",function(a){idev.mouseuptime=
new Date;if(idev.mouseendx-idev.mousestartx<20&&idev.mouseendy-idev.mousestarty<20&&!idev._dragging)idev.mousemoved=false;if(idev.events.onmouseup)idev.events.onmouseup(a);if(idev._dragging){idev._dragElement.style.zIndex=idev._oldZIndex;idev._dragElement=null;idev._dragging=false;document.onselectstart=null;idev._dragWidget&&idev._dragWidget.events.afterdrag&&idev._dragWidget.events.afterdrag(idev._dragWidget);if(idev.events.onenddrag)idev.events.onenddrag(idev._dragWidget,a)}if(idev._swipping){a=
idev._endX-idev._startX;a>100&&idev.prevPage();a<-100&&idev.nextPage();idev._swipping=false}}))},onUpdateLayout:function(){if(window.innerWidth!=idev.currentWidth){idev.currentWidth=window.innerWidth;var a=idev.currentWidth<$(document).width()?"profile":"landscape";idev.orient=a;if(idev.app.events&&idev.app.events.onOrientation)idev.app.events.onOrientation(idev.orient)}},onHoverIn:function(a){null==a&&(a=window.event);var b=this.id.indexOf("_");if(-1==b){var c=idev.get(this.id);null!=c.events&&null!=
c.events.click&&(c.resizer.resizing||c.enabled&&c.events.click(c,a))}else c=this.id.substr(0,b),b=this.id.substr(b+1),c=idev.get(c),null!=c.events&&null!=c.events.click&&(c.dsIndex=parseInt(b),c.resizer.resizing||c.enabled&&c.events.hover(!0,c,b,c.selected,a))},onHoverOut:function(a){null==a&&(a=window.event);var b=this.id.indexOf("_");if(-1==b){var c=idev.get(this.id);null!=c.events&&null!=c.events.click&&(c.resizer.resizing||c.enabled&&c.events.click(c,a))}else c=this.id.substr(0,b),b=this.id.substr(b+
1),c=idev.get(c),null!=c.events&&null!=c.events.click&&(c.dsIndex=parseInt(b),c.resizer.resizing||c.enabled&&c.events.hover(!1,c,b,c.selected,a))},onClick:function(a){null==a&&(a=window.event);if(!idev.widgetMoved){var b=this.id.indexOf("_",1);if(-1==b){var c=idev.get(this.id);null!=c.events&&null!=c.events.click&&(c.resizer.resizing||c.enabled&&c.events.click(c,a))}else if(c=this.id.substr(0,b),b=this.id.substr(b+1),c=idev.get(c),null!=c.events&&(c.dsIndex=parseInt(b),!c.resizer.resizing&&c.enabled)){c.autoSelect&&
(-1!=c.selected&&($("#"+c.id+"_"+c.selected).addClass(c.entryCls),$("#"+c.id+"_"+c.selected).removeClass(c.selectCls),""!=c.selectColor&&c.updateItem(c.selected,"background-color","transparent")),""!=c.selectCls&&($("#"+this.id).removeClass(c.entryCls),$("#"+this.id).addClass(c.selectCls)),""!=c.selectColor&&c.updateItem(b,"background-color",c.selectColor));var d=c.selected;c.selected=b;c.events.click&&c.events.click(c,b,d,a)}}},onDblClick:function(a){null==a&&(a=window.event);var b=this.id.indexOf("_");
if(-1==b){var c=idev.get(this.id);null!=c.events&&null!=c.events.dblclick&&(c.resizer.resizing||c.enabled&&c.events.dblclick(c,a))}else c=this.id.substr(0,b),b=this.id.substr(b+1),c=idev.get(c),null!=c.events&&null!=c.events.dblclick&&(c.dsIndex=parseInt(b),!c.resizer.resizing&&c.enabled&&(c.events.dblclick(c,b,c.selected,a),c.selected=b))},onContextMenu:function(a){null==a&&(a=window.event);var b=idev.get(this.id);b.events.contextMenu?b.events.contextMenu(b,a):b.events.contextmenu&&b.events.contextmenu(b,
a)},onChange:function(a){null==a&&(a=window.event);var b=idev.get(this.id);b.events.change(b,a)},onLostFocus:function(a){null==a&&(a=window.event);var b=idev.get(this.id.replace("-input",""));b&&(""!=b.watermark&&""==($("#"+b.id+"-input").val()||"")&&b.setValue(""),idev.focusHighlight&&idev.dom("#"+b.id).css("box-shadow",""),b.events.lostfocus&&b.events.lostfocus(b,a))},onFocus:function(a){null==a&&(a=window.event);var b=idev.get(this.id.replace("-input",""));b&&(""!=b.watermark&&b.watermark==$("#"+
b.id+"-input").val()&&($("#"+b.id+"-input").val(""),$("#"+b.id+"-input").css("color","")),idev.focusHighlight&&idev.dom("#"+b.id).css("box-shadow",idev.highlightCSS),b.events.focus&&b.events.focus(b,a))},onKeypress:function(a){var b=idev.get(this.id);b.events.keypress&&b.events.keypress(b,a)},beforeRender:function(a){null!=a.events&&("function"==typeof a.events.beforeRender?a.events.beforeRender(a):"function"==typeof a.events.beforerender&&a.events.beforerender(a))},afterRender:function(a){null!=
a.events&&("function"==typeof a.events.afterRender?a.events.afterRender(a):"function"==typeof a.events.afterrender&&a.events.afterrender(a))},remove:function(a){for(var b=0;b<idev.widgets.length;b++){var c=idev.widgets[b];if(null!=c.id&&c.id==a){if(c.parent&&c.parent.children)for(a=0;a<c.parent.children.length;a++)if(c.parent.children[a]==c){c.parent.children.splice(a,1);break}$("#"+c.id).remove();idev.widgets.splice(b,1);return!0}}return!1},nextUIID:function(a){idev.uiid++;for(sID=idev.uiid.toString();6>
sID.length;)sID="0"+sID;return null!=a?a+sID:"ID"+sID},renderWidget:function(a,b){var c=null;b.page=a;null==b.renderTo?b.renderTo=a.id:""==b.renderTo&&(b.renderTo=a.id);if(!b.deferredRender){if(b instanceof baseWidget)return b.render(),b.parent&&b.parent.children&&b.parent.children.push(b),b.id;switch(b.wtype){case "checkbox":c=new idev.ui.widgetCheckbox(b);break;case "radio":c=new idev.ui.widgetRadio(b);break;case "element":c=new idev.ui.widgetElement(b);break;case "html":c=new idev.ui.widgetHTML(b);
break;case "spacer":c=new idev.ui.widgetSpacer(b);break;case "image":c=new idev.ui.widgetImage(b);break;case "input":case "textfield":c=new idev.ui.widgetTextField(b);break;case "textarea":c=new idev.ui.widgetTextArea(b);break;case "combo":c=new idev.ui.widgetComboBox(b);break;case "label":c=new idev.ui.widgetLabel(b);break;case "button":c=new idev.ui.widgetButton(b);break;case "buttonfwd":c=new idev.ui.widgetButtonFwd(b);break;case "buttonrwd":c=new idev.ui.widgetButtonRwd(b);break;case "switch":c=
new idev.ui.widgetSwitch(b);break;case "icon":c=new idev.ui.widgetIcon(b);break;case "listbox":c=new idev.ui.widgetListbox(b);break;case "panel":c=new idev.ui.widgetPanel(b);break;case "list":c=new idev.ui.widgetList(b);break;case "dataview":c=new idev.ui.widgetDataView(b);break;case "canvas":c=new idev.ui.widgetCanvas(b);break;case "chart":c=new idev.ui.widgetChart(b);break;case "slider":c=new idev.ui.widgetSlider(b);break;case "progressbar":c=new idev.ui.widgetProgress(b);break;case "iframe":c=
new idev.ui.widgetIFrame(b);break;case "grid":c=new idev.ui.widgetGrid(b);break;case "tabpanel":c=new idev.ui.widgetTabPanel(b);break;case "sound":c=new idev.ui.widgetSound(b);break;case "composite":c=new idev.ui.widgetComposite(b);break;default:var d=idev.plugins[b.wtype];d?c=new d(b):$debug("NULL PLUGIN FOR:["+b.wtype+"]")}if(null!=c)return c.render(),b.parent&&b.parent.children&&b.parent.children.push(c),c.id;$debug("Unknown widget '"+b.wtype+"'");return""}},renderWidgets:function(a,b,c,d,f,g){var j;
if(null!=c)if(null==f&&(f=0),"table"==d){var l=0,m=0;if(null!=g&&null!=g.columns&&0!=g.columns){d=$("#"+g.id).width()-2;g.attr=null==g.attr?" cellspacing=0 cellpadding=0":g.attr;d="<table class='ui-table' id='"+b+"-table' "+g.attr+" border=0 width='"+d+"px;'><tbody id='"+b+"-body'></tbody></table>";$("#"+b).append(d);j=b+"-body";for(var k=0;k<c.length;k++){var h=c[k];if("undefined"==typeof h)break;if(null!=h.wtype){h.page=a;h.parent=g;if(0==l){var r=h.attr||"",d="<tr>";0<g.rowHeight&&(d="<tr height="+
g.rowHeight+" >");for(f=0;f<g.columns;f++){var o="",n=c[k+f];if(null!=n){if(null!=n.wtype&&n.cellStyle&&(o=n.cellStyle),b=j+"-cell"+(m+f),d+="<td valign='top' id='"+b+"' "+r+" style='"+o+"'></td>",b=r.toLowerCase().indexOf("colspan"),-1!=b){b=r.substr(b+7);b=idev.utils.ltrim(b);b=b.replace("=","");try{var q=parseIn(b);1<q&&(f+=q-1)}catch(y){f++}}}else b=j+"-cell"+(m+f),d+="<td valign='top' id='"+b+"' "+r+"></td>"}d+="</tr>";$("#"+j).append(d)}b=j+"-cell"+m;try{h.wtype=h.wtype.toLowerCase(),h.renderTo=
b,h.id=idev.internal.renderWidget(a,h)}catch(u){alert("error0:"+u.message)}l++;l==g.columns&&(l=0);m++}}}}else if("column"==d){d="";q=m=0;h=null==g.rowHeight?"":g.rowHeight;g.attr=null==g.attr?" cellspacing=0 cellpadding=0":g.attr;if(g.width){q=g.width;g.padding&&(q-=2*g.padding);for(k=0;k<c.length;k++)"string"==typeof c[k]&&">>"!=c[k]&&(q-=c[k].length*idev.charWidth)}else if(g.id)for(k=0;k<c.length;k++)">>"==c[k]?q=d=$("#"+g.id).width():"string"==typeof c[k]&&(q-=c[k].length*idev.charWidth);d="<table class='ui-table' id='"+
b+"-table' border=0 "+g.attr+"><tbody id='"+b+"-body'></tbody></table>";g&&"composite"==g.wtype&&g.width&&(d="<table class='ui-table' id='"+b+"-table' border=0 width='"+g.width+"px' "+g.attr+"><tbody id='"+b+"-body'></tbody></table>");$("#"+b).append(d);j=b+"-body";l=null;if(0<c.length){d="<tr id='"+b+"-row' height='"+h+"px'>";0<g.rowHeight&&(d="<tr height="+g.rowHeight+" >",l=g.rowHeight);g.layoutConfig&&(l=g.height-2*g.padding,"panel"==g.wtype&&(l=g.bodyheight-2*g.padding),g.layoutConfig.fit&&(d=
"<tr height="+l+" >"));for(f=0;f<c.length;f++)h=c[f],o="",null!=h.wtype&&h.cellStyle&&(o=h.cellStyle),b=j+"-cell"+(m+f),d="center"==g.columnAlign?d+("<td valign='center' id='"+b+"' style='"+o+"'></td>"):"bottom"==g.columnAlign?d+("<td valign='bottom' id='"+b+"' style='"+o+"'></td>"):d+("<td valign='top' id='"+b+"' style='"+o+"'></td>"),c[f].width&&(q-=c[f].width);$("#"+j).append(d+"</tr>")}for(k=0;k<c.length;k++){h=c[k];if(null!=h.wtype){h.page=a;h.parent=g;l&&(h.height=l-(h.border?2:0));b=j+"-cell"+
m;try{h.wtype=h.wtype.toLowerCase(),h.renderTo=b,h.id=idev.internal.renderWidget(a,h)}catch(v){alert("error 1:"+v.message)}}else">>"==h?(b=j+"-cell"+m,n={wtype:"spacer",renderTo:b,width:q},idev.internal.renderWidget(a,n)):(b=j+"-cell"+m,"string"==typeof h&&(n={wtype:"html",renderTo:b,html:h},idev.internal.renderWidget(a,n)));m++}}else if("frame"==d){g.padding=g.padding||0;j=$("#"+g.id).width();m=$("#"+g.id).height();"panel"==g.wtype&&(m=$("#"+g.id+"-content").height(),j=$("#"+g.id+"-content").width());
m=null==m?g.height-g.padding:m-g.padding;j=null==j?g.width-2*g.padding:j-2*g.padding;j-=0;g.attr=null==g.attr?" cellspacing=0 cellpadding=0":g.attr;for(var d="<table class='ui-table' id='"+b+"-table' border=0 width='"+j+"' height='{FH}px' "+g.attr+"><tbody id='"+b+"-body'>",r=l=o=q=n="",w=h=k=0,s=0,x=0,t=0,f=0;f<c.length;f++)if("north"==c[f].area&&""==n&&(k=c[f].height||0,n="<tr id='"+b+"-row-north' height='"+k+"px'>",n+="<td id='"+b+"-north' colspan='{CS}'></td></tr>"),"west"==c[f].area&&""==o&&
(w=c[f].width||0,c[f].height>s&&(s=c[f].height),o+="<td id='"+b+"-west' width="+w+"></td>",t++),"center"==c[f].area&&""==l&&(c[f].height>s&&(s=c[f].height),l+="<td id='"+b+"-center'></td>",t++),"east"==c[f].area&&""==r&&(x=c[f].width||0,c[f].height>s&&(s=c[f].height),r+="<td id='"+b+"-east' width="+x+"></td>",t++),"south"==c[f].area&&""==q)h=c[f].height||0,q="<tr id='"+b+"-row-south' height='"+h+"px'>",q+="<td id='"+b+"-south' colspan='{CS}'></td></tr>";0==t&&(t=1);s=m-0-(k+h);d=d.replace("{FH}",
k+s+h);n=n.replace("{CS}",t);q=q.replace("{CS}",t);d+=n;if(""!=o||""!=l||""!=r)d+="<tr >"+o+l+r+"</tr>";$("#"+b).append(d+q+"</tbody></table>");r=l=o=q=n="";for(k=0;k<c.length;k++)if(h=c[k],h.page=a,h.parent=g,null!=h.wtype)try{if("north"==h.area&&""==n&&(h.wtype=h.wtype.toLowerCase(),h.width=j,h.renderTo=b+"-north",h.id=idev.internal.renderWidget(a,h),n=h.id),"south"==h.area&&""==q&&(h.wtype=h.wtype.toLowerCase(),h.width=j,h.renderTo=b+"-south",h.id=idev.internal.renderWidget(a,h),q=h.id),"west"==
h.area&&""==o&&(h.width=w,h.padding&&(h.width-=2),h.height=s,h.wtype=h.wtype.toLowerCase(),h.renderTo=b+"-west",h.id=idev.internal.renderWidget(a,h),o=h.id),"center"==h.area&&""==l&&(h.width=j-(w+x),h.padding&&(h.width-=2),h.height=s,h.wtype=h.wtype.toLowerCase(),h.renderTo=b+"-center",h.id=idev.internal.renderWidget(a,h),l=h.id),"east"==h.area&&""==r)h.width=x,h.padding&&(h.width-=2),h.height=s,h.wtype=h.wtype.toLowerCase(),h.renderTo=b+"-east",h.id=idev.internal.renderWidget(a,h),r=h.id}catch(z){alert("error 1:"+
z.message)}}else if("accordion"==d){g.attr=null==g.attr?" cellspacing=0 cellpadding=0":g.attr;d="<table class='ui-table' id='"+b+"-table' "+g.attr+" border=0 width='100%'><tbody id='"+b+"-body'></tbody></table>";$("#"+b).append(d);j=b+"-body";for(k=f=0;k<c.length;k++)h=c[k],null==h?$debug("NULL Width @ "+k+" for layout"):"panel"==h.wtype&&f++;if(0==f)$debug("Panels for accordion layout");else for(k=0;k<c.length;k++)if(h=c[k],null==h)$debug("NULL Width @ "+k+" For accordion layout");else if(h.page=
a,h.parent=g,"panel"==h.wtype){o="";b=j+"-cell"+k;d="<tr>";d+="<td id='"+b+"' style='"+o+"'></td>";d+="</tr>";$("#"+j).append(d);try{h.wtype=h.wtype.toLowerCase(),null==h.style&&(h.style=""),h.style+="border:0px;",h.titleHeight=24,h.width=g.width,h.height=g.height-24*(f-1),h.collaped=0<k?!0:!1,h.nofloat=!0,h.expandable=!0,h.renderTo=b,h.id=idev.internal.renderWidget(a,h)}catch(A){alert("error2:"+A.message)}}}else if("row"==d){g.rowHeight=null==g.rowHeight?"":g.rowHeight;g.center=g.center||!1;g.attr=
null==g.attr?" cellspacing=0 cellpadding=0":g.attr;d="<table class='ui-table' id='"+b+"-table' "+g.attr+" border=0 width='100%'><tbody id='"+b+"-body'></tbody></table>";g&&"composite"==g.wtype&&g.width&&(d="<table class='ui-table' id='"+b+"-table' "+g.attr+" border=0 width='"+g.width+"px'><tbody id='"+b+"-body'></tbody></table>");$("#"+b).append(d);j=b+"-body";for(k=0;k<c.length;k++)if(h=c[k],null==h)$debug("NULL Width @ "+k+" For row layout");else if(h.page=a,h.parent=g,null!=h.wtype){o="";null!=
h.wtype&&h.cellStyle&&(o=h.cellStyle);b=j+"-cell"+k;d=""!=g.rowHeight?"<tr style='height:"+g.rowHeight+"px'>":"<tr>";g.config?g.config.center?d+="<td width='"+g.width+"' style='"+o+"'><center><div id='"+b+"'></div></center></td>":g.layoutConfig?g.layoutConfig.fit&&(d+="<td  id='"+b+"' width='"+(g.width-2*g.padding)+"' style='"+o+"'></td>"):d+="<td id='"+b+"' style='"+o+"'></td>":d=g.center?d+("<td width='"+g.width+"' style='"+o+"'><center><div id='"+b+"'></div></center></td>"):d+("<td id='"+b+"' style='"+
o+"'></td>");d+="</tr>";$("#"+j).append(d);try{h.wtype=h.wtype.toLowerCase(),null==h.style&&(h.style=""),h.nofloat=!0,h.renderTo=b,h.id=idev.internal.renderWidget(a,h)}catch(B){alert("error2:"+B.message)}}}else if("form"==d){g.attr=null==g.attr?"":g.attr;d="<table class='ui-table' id='"+b+"-table' "+g.attr+" border=0 width='100%' style=''><tbody id='"+b+"-body'></tbody></table>";g&&"composite"==g.wtype&&g.width&&(d="<table class='ui-table' id='"+b+"-table' "+g.attr+" border=0 width='"+g.width+"px'><tbody id='"+
b+"-body'></tbody></table>");$("#"+b).append(d);j=b+"-body";for(k=0;k<c.length;k++)if(h=c[k],null==h)$debug("NULL Width @ "+k+" For form layout");else if(h.page=a,h.parent=g,null==h.wtype)"string"==typeof h&&(n=new idev.ui.widgetHTML({renderTo:b,html:h}),n.render());else{o="";null!=h.wtype&&h.cellStyle&&(o=h.cellStyle);b=j+"-cell"+k;d="<tr><td valign='top' width='"+f+"px' style='width:"+f+"px;"+o+"'><span  id='"+b+"-label' class='ui-labeltext "+g.labelCls+"' style='"+h.labelStyle+"'>"+h.label+"</span></td><td id='"+
b+"'></td></tr>";null==h.label&&(d="<tr><td id='"+b+"' colspan=2></td><td></td></tr>");$("#"+j).append(d);try{h.wtype=h.wtype.toLowerCase(),h.renderTo=b,h.id=idev.internal.renderWidget(a,h)}catch(C){alert("error3:"+C.message)}}}else if("fit"==d){j=$("#"+g.id).width();m=$("#"+g.id).height();d=0;null==m&&(m=g.height);null==j&&(j=g.width);g.title&&(d=$("#"+g.id+"-title").height(),m-=d);g.tbar&&(d=$("#"+g.id+"-tbar").height(),m-=d);g.bbar&&(m-=g.bbarHeight);for(k=d=0;k<c.length;k++)if(h=c[k],null==h)$debug("NULL Width @ "+
k+" For form layout");else{if(0<j&&(h.width=j,g.padding&&(h.width-=2*g.padding),h.x=0,g.padding))h.x=g.padding;if(0<m&&(h.height=m,g.padding&&(h.height-=2*g.padding),h.y=0,g.padding))h.y=g.padding;h.page=a;h.parent=g;if(null==h.wtype)"string"==typeof h&&(n=new idev.ui.widgetHTML({renderTo:b,html:h}),n.render());else try{h.wtype=h.wtype.toLowerCase(),0<d&&(h.hidden=!0),h.renderTo=b,h.hideType="visibility",h.id=idev.internal.renderWidget(a,h),d++}catch(D){alert("error4:"+D.message)}}}else for(k=0;k<
c.length;k++)if(h=c[k],null==h)$debug("NULL Width @ "+k+" For form layout");else if(h.page=a,h.parent=g,null==h.wtype)"string"==typeof h&&(n=new idev.ui.widgetHTML({renderTo:b,html:h}),n.render());else try{h.wtype=h.wtype.toLowerCase(),h.renderTo=b,h.id=idev.internal.renderWidget(a,h)}catch(E){alert(h.wtype),alert("error5:"+E.message)}},add:function(a){idev.widgets.push(a)},render:function(){window.navigator.standalone&&idev.isIPhone()&&(document.body.style.marginTop=30);if(_preferences.config.fitDocument||
_preferences.config.fitdocument){var a=$(document).innerHeight(),b=$(document).innerWidth();window.navigator.standalone&&(a-=idev.standaloneOffset);$("#container").width(b);$("#container").height(a)}b=null==idev.app.theme?"":idev.app.theme;""!=b&&(b="-"+b);var c=$("#container").width();idev.app.toolbar?(null==idev.app.toolbar.height&&(idev.app.toolbar.height=40),$("#container").append("<div id='ui-toolbar' class='ui-app-toolbar"+b+"' style='height:"+idev.app.toolbar.height+"px;'></div>"),null!=idev.app.toolbar&&
idev.app.toolbar.widgets&&(idev.app.toolbar.id="ui-toolbar",idev.internal.renderWidgets(null,"ui-toolbar",idev.app.toolbar.widgets,"column",70,idev.app.toolbar)),idev.app.toolbar.height=$("#ui-toolbar").height()):idev.app.toolbar={height:0};idev.app.statusbar?(null==idev.app.statusbar.height&&(idev.app.statusbar.height=40),a=$("#container").height(),idev.app.toolbar&&(a-=$("#ui-toolbar").height()+idev.app.statusbar.height),$("#container").append("<div id='content' class='ui-body' style='width:"+c+
"px;height:"+a+"px;'></div>")):$("#container").append("<div id='content' class='ui-body' style='width:"+c+"px;'></div>");idev.app.statusbar?(null==idev.app.statusbar.height&&(idev.app.statusbar.height=40),idev.app.statusbar.visible=!0,$("#container").append("<div id='ui-statusbar' class='ui-app-statusbar"+b+"' style='height:"+idev.app.statusbar.height+"px;max-height:"+idev.app.statusbar.height+"px;z-index:10;'></div>"),null!=idev.app.statusbar&&idev.app.statusbar.widgets&&(idev.app.statusbar.id="ui-statusbar",
idev.internal.renderWidgets(null,"ui-statusbar",idev.app.statusbar.widgets,"column",70,idev.app.statusbar)),idev.app.statusbar.height=$("#ui-statusbar").height()):idev.app.statusbar={height:0}},ExtractNumber:function(a){a=parseInt(a);return null==a||isNaN(a)?0:a},getPosition:function(a){var b=0,c=0;if(a){for(;a.offsetParent;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;b+=a.offsetLeft;c+=a.offsetTop}return{x:b,y:c}},mouseMove:function(a){a=a||window.event;idev.utils.mousePosition(a)},getMouseOffset:function(a,
b){var b=b||window.event,c=idev.internal.getPosition(a),d=idev.utils.mousePosition(b);return{x:d.x-c.x,y:d.y-c.y}}},getParameter:function(a,b){null==b&&(b="");if("string"==typeof a)return idev.convertNulls(this.parameters[a],b);if(0<=a)for(var c in idev.parameters){if(0==a)return idev.convertNulls(idev.parameters[c],b);a--}return b},getParameterKey:function(a,b){null==b&&(b="");if("number"!=typeof a)return b;if(0<=a)for(var c in idev.parameters){if(0==a)return c;a--}return b},syncSize:function(){$debug("syncSize");
idev.pgHeight=$(document).height();idev.pgWidth=$(document).width();$debug($(window).height());if(_preferences.config.fitDocument||_preferences.config.fitdocument){var a=$(window).height();$(document).innerWidth();window.navigator.standalone&&(a-=idev.standaloneOffset);$("#container").height(a)}idev.app.statusbar&&$delay(100,function(){var a=$("#container").height();idev.app.toolbar&&(a-=$("#ui-toolbar").height()+$("#ui-statusbar").height());$("#content").height(a)})},isIE:function(){return-1!=this.agent.indexOf("ie")?
!0:!1},isIE7:function(){return-1!=this.agent.indexOf("msie 7")?!0:!1},isIE8:function(){return-1!=this.agent.indexOf("msie 8")?!0:!1},isIE9:function(){return-1!=this.agent.indexOf("msie 9")?!0:!1},isWebkit:function(){return-1!=this.agent.indexOf("webkit")?!0:!1},isFF:function(){return-1!=this.agent.indexOf("firefox")?!0:!1},isIEMobile:function(){return-1!=this.agent.indexOf("iemobile")?!0:!1},isPalm:function(){return-1!=this.agent.indexOf("webos")?!0:!1},isBlackberry:function(){return-1!=this.agent.indexOf("blackberry")?
!0:!1},isIPad:function(){return-1!=this.agent.indexOf("ipad")?!0:!1},isIPhone:function(){return-1!=this.agent.indexOf("iphone")?!0:!1},isAndroid:function(){return-1!=this.agent.indexOf("android")?!0:!1},isTouch:function(){return-1!=this.agent.indexOf("ipad")||-1!=this.agent.indexOf("iphone")||-1!=this.agent.indexOf("android")?!0:!1},isMobile:function(){return-1!=this.agent.indexOf("ipad")||-1!=this.agent.indexOf("iphone")||-1!=this.agent.indexOf("android")||-1!=this.agent.indexOf("iemobile")||-1!=
this.agent.indexOf("blackberry")?!0:!1},isStandAlone:function(){return window.navigator.standalone},isMobile:function(){return-1!=this.agent.indexOf("ipad")||-1!=this.agent.indexOf("iphone")||-1!=this.agent.indexOf("android")||-1!=this.agent.indexOf("iemobile")||-1!=this.agent.indexOf("blackberry")?!0:!1},convertNulls:function(a,b){return null==a||"undefinded"==typeof a?b:a},isClass:function(a){return a instanceof baseWidget?!0:!1},hideStatusbar:function(){if(idev.app.statusbar&&idev.app.statusbar.visible){var a=
idev.contentHeight+idev.app.statusbar.height,b=idev.pageHeight+idev.app.statusbar.height;$("#ui-statusbar").hide();$("#ui-statusbar").height(0);$("#content").height(a);this.pageManager.currentPage&&($("#"+this.pageManager.currentPage.id).height(b),$("#"+this.pageManager.currentPage.id+"-content").height(b));idev.app.statusbar.visible=!1}},showStatusbar:function(){idev.app.statusbar&&!idev.app.statusbar.visible&&($("#ui-statusbar").show(),$("#ui-statusbar").height(idev.app.statusbar.height),$("#content").height(idev.contentHeight),
$("#"+this.pageManager.currentPage.id).height(idev.pageHeight),idev.app.statusbar.visible=!0)},addTouchScroll:function(a,b){"H"==b&&(b={hScroll:!0,bounce:!0,momentum:!0});return new iScroll(document.getElementById(a),b)},createWorker:function(a,b){if("undefined"==typeof Worker)return idev.ui.message("Worker Not Supported"),null;var c=new Worker(_preferences.apppath+a);null!=c&&(c.onmessage=b);return c},get:function(a){if(""==a)return null;for(var b=0;b<this.widgets.length;b++){var c=this.widgets[b];
if(null!=c.id&&c.id==a)return c}return null},lastPage:function(){return this.pageManager.lastPage},currentPage:function(){return this.pageManager.currentPage},currentPageName:function(){return this.pageManager.currentPage.name},removePageWidgets:function(a){for(var b=0;b<this.widgets.length;b++){var c=this.widgets[b];c.page&&c.page.id==a&&(c.destroy(),b--)}return null},list:function(){for(var a="",b=0;b<this.widgets.length;b++)a+=this.widgets[b].id+"\r\n";return a},addWidgetToPageContent:function(a,
b){for(var c=0;c<this.app.pages.length;c++){var d=this.app.pages[c];if(d.id==a){if(null==d.content)break;if(null==d.content.widgets)break;d.content.widgets.push(b);return!0}}return!1},homePage:function(){this.pageManager.showPage(0);null==idev.contentHeight&&(idev.contentHeight=$("#content").height(),idev.pageHeight=$("#"+this.pageManager.currentPage.id).height())},gotoPage:function(a){this.pageManager.showPage(a);null==idev.contentHeight&&(idev.contentHeight=$("#content").height(),idev.pageHeight=
$("#"+this.pageManager.currentPage.id).height())},nextPage:function(){this.pageManager.nextPage();null==idev.contentHeight&&(idev.contentHeight=$("#content").height(),idev.pageHeight=$("#"+this.pageManager.currentPage.id).height())},prevPage:function(){this.pageManager.prevPage();null==idev.contentHeight&&(idev.contentHeight=$("#content").height(),idev.pageHeight=$("#"+this.pageManager.currentPage.id).height())},register:function(a,b){null==b?$debug("register null widget:"+a):idev.plugins[a.toLowerCase()]=
b},bodyHeight:function(){var a=idev.pgHeight;$("#ui-toolbar").height()?a-=$("#ui-toolbar").height():idev.isIE()||(a+=17);$("#ui-statusbar").height()?a-=$("#ui-statusbar").height():idev.isIE()||(a+=17);return a},bodyWidth:function(){return idev.pgWidth},autoHide:function(a,b){if(0!=arguments.length){if(null==b)return;idev.hideFN&&idev.hideFN(idev.hideWidget,null)}idev.hideFN=b;idev.hideWidget=a},findID:function(a){for(;""==a.id&&null!=a.parentNode;)a=a.parentNode;return a},extractIndex:function(a){for(;""==
a.id&&null!=a.parentNode;)a=a.parentNode;var b=a.id.lastIndexOf("_");return-1==b?-1:parseInt(a.id.substr(b+1))},wTemplate:idevObject.extend({init:function(){this.sTemplate="";for(var a=0;a<arguments.length;a++)this.sTemplate+=arguments[a]},render:function(a){var b=this.sTemplate;try{if("object"!=typeof a||!a.constructor==Array)return b;for(var c in a)if("string"==typeof a[c]||"number"==typeof a[c])b=idev.utils.replaceAll(b,"{"+c+"}",a[c]);return b}catch(d){$debug("Template Data Error, data type"+
typeof a)}return b},get:function(){return this.sTemplate}}),local:{successLocation:function(a){this.position=a},failedLocation:function(a){switch(a.code){case 0:alert(a.message);break;case 1:alert(a.message)}this.position=null},currentLocation:function(a,b){try{null==a&&(a=this.successLocation),null==b&&(a=this.failedLocation),navigator.geolocation.getCurrentPosition(function(b){idev.geoposition=b;idev.geoerror=null;a!=null&&a(b)},function(a){idev.geoposition=null;idev.geoerror=a;b!=null&&b()})}catch(c){idev.geoposition=
null,idev.geoerror="Geo Location Not Supported",null!=b&&b()}},localSupport:function(){return localStorage?!0:!1},storeLocal:function(a,b){if(!this.localSupport())return!1;localStorage[a]=b;return!0},removeLocal:function(a){if(!this.localSupport())return!1;localStorage.removeItem(a);return!0},countLocal:function(){return!this.localSupport()?0:localStorage.length},clearLocal:function(){if(!this.localSupport())return!1;localStorage.clear();return!0},getLocal:function(a,b){if(!this.localSupport())return b;
var c=localStorage[a];return null==c?b:c},dbSupport:function(){return window.openDatabase?!0:!1},dbOpen:function(a,b,c){if(!this.databaseSupport())return null;null==b&&(b=1E5);null==c&&(c="1.0");return openDatabase(a,c,a,b)},dbExecute:function(a,b,c,d,f){if(!this.databaseSupport())return!1;null==c&&(c=[]);a.transaction(function(a){a.executeSql(b,c,d,f)})}},data:{column:idevObject.extend({init:function(a){null==a&&(a={});this.header=null==a.header?"":a.header;this.field=a.field;this.renderer=a.renderer;
this.width=a.width||30;this.tpl=a.tpl;this.cls=a.cls||"";this.style=a.style||"";this.events=a.events;this.editor=a.editor;this.editID="";null==this.tpl&&(this.tpl=new idev.wTemplate("<div id='{id}-cell-{row}-{col}' class='ui-cell {cls}' style='{style};width:{width}px;max-width:{width}px;height:{height}px;' row='{row}' col='{col}'>","{value}","</div>"));""!=this.cls&&(this.cls+="  ie9gradient")},render:function(a){null==a.cls&&(a.cls=this.cls);null==a.value&&(a.value="");if(null==a.style||""==a.style)a.style=
this.style;null==a.height&&(a.height="");null!=this.events&&this.events.click&&(a.style+=";cursor:pointer;");return this.tpl.render(a)},edit:function(a,b){if(null!=this.editor){this.editRow=a;this.editCol=b;var c=this.parent.id+"_"+a+"_"+b,d=$("#"+c).width(),f=$("#"+c).height(),g=this.parent.ds.getAt(a);this.parent.events.beforeEdit&&!1===this.parent.events.beforeEdit(this.parent,a,b,g)||(this.editor.width=d-2,this.editor.height=f-2,this.editor.roundCorners=!1,this.editor.value=g.get(this.field),
this.editor.renderTo=c,this.editor.style="background-color:#fff;color:#000;",$("#"+c).html(""),this.editID=idev.internal.renderWidget(this.parent.page,this.editor))}},endEdit:function(){idev.utils.showBusy();if(""!=this.editID){var a=$get(this.editID),b=a.getValue(),c=this.parent.ds.getAt(this.editRow),d=[],f=$("#"+this.parent.id+"-data").scrollTop(),g=$("#"+this.parent.id+"-data").scrollLeft();a.destroy();c.set(this.field,b);d.value=null!=this.renderer?this.renderer(c.get(this.field),c,this.editRow,
this.editCol,this):c.get(this.field);d.id=this.parent.id;d.style=this.style||"";d.cls="";this.editRow%2&&(d.cls=" ui-cell-alt");d.row=this.editRow;d.col=this.editCol;d.width=this.width-5;d.height=this.parent.rowHeight;this.render(d,c,this.editRow,this.editCol);this.editID="";if(0<f||0<g)$("#"+this.parent.id+"-data").scrollTop(f),$("#"+this.parent.id+"-data").scrollLeft(g);this.parent.events.afterEdit&&this.parent.events.afterEdit(this.parent,this.editRow,this.editCol,c,this.field,this.editor.value,
d.value);idev.utils.hideBusy()}}}),columnModel:idevObject.extend({init:function(a){this.columns=null==a.columns?[]:a.columns;for(a=0;a<this.columns.length;a++){var b=this.columns[a];b instanceof idev.data.column||(this.columns[a]=new idev.data.column(b))}},getCount:function(){return this.columns.length},getAt:function(a){return this.columns[a]}}),dataRecord:idevObject.extend({init:function(a){this.fields=[];this.data=[];this.modified=!1;this.store=a.store;for(var b=0;b<a.fields.length;b++)this.fields.push(a.fields[b])},
load:function(a){this.data=[];for(var b=0;b<this.fields.length;b++){var c=a instanceof Array?a[b]:a[this.fields[b]];null==c&&(c="");this.data.push(c)}},getStore:function(){return this.store},loadText:function(a,b){if("string"==typeof a){null==b&&(b=",");var c=a.split(b);this.data=[];for(var d=0;d<this.fields.length&&d<c.length;d++)this.data.push(c[d])}},set:function(a,b){for(var c in this.fields)if(this.fields[c]==a)return this.data[c]=b,this.modified=!0,this.store&&this.store.updateBinds(),!0;return!1},
get:function(a){for(var b in this.fields)if(this.fields[b]==a)return null==this.data[b]?"":this.data[b];return""},isModified:function(){return this.modified},commit:function(){this.modified=!1},asString:function(a,b){b=b||",";switch((a||"").toLowerCase()){case "csv":var c="",d;for(d in this.fields){var f=null==this.data[d]?"":this.data[d];0<d&&(c+=b);c+=f}return c;default:c="{";for(d in this.fields)f=null==this.data[d]?"":this.data[d],0<d&&(c+=","),c="string"===typeof f?c+('"'+this.fields[d]+'":"'+
f+'"'):c+('"'+this.fields[d]+'":'+f);return c+"}"}}}),dataStore:idevObject.extend({init:function(a){this.records=[];this.fields=null==a.fields?[]:a.fields;this.separator=null==a.separator?",":a.separator;this.binds=[];a.data&&this.load(a.data);this.url=a.url||"";this.params=a.params||{};this.results=a.results;this.autoDestroy=null==a.autoDestroy?!1:a.autoDestroy;this.events=a.events||{}},onload:function(a){this.events.load=a},load:function(a,b){this.records=[];if("string"==typeof a)try{a=recs=$.parseJSON(a)}catch(c){}for(var d in a){var f=
new idev.data.dataRecord({fields:this.fields,store:this});"string"==typeof a[d]?f.loadText(a[d],this.separator):f.load(a[d]);this.records.push(f)}b||this.updateBinds(!0)},fetch:function(a){if(this.url){var b=this;idev.utils.ajax({dataType:"json",url:this.url,params:this.params,success:function(c,d,f){b.jqXHR=f;!c.success&&b.events.loadexception&&b.events.loadexception(b,"Success False",c);c.total&&!isNaN(c.total)&&(b.total=c.total);b.results?b.load(c[b.results]):b.load(c.results);a&&a(b)},error:function(a,
d,f){b.jqXHR=a;b.events.loadexception&&b.events.loadexception(b,d,f)}})}},updateBinds:function(a){for(var a=a||!1,b=0;b<this.binds.length;b++)try{this.binds[b].refresh(a)}catch(c){}null!=this.events&&"function"==typeof this.events.load&&this.events.load(this)},commitAll:function(){for(var a=0;a<this.records.length;a++)this.records[a].commit()},getModified:function(){for(var a=[],b=0;b<this.records.length;b++)this.records[b].isModified()&&a.push(this.records[b]);return a},getFieldName:function(a){return this.fields[a]},
fieldCount:function(){return this.fields.length},getAt:function(a){return this.records[a]},blankRec:function(){return new idev.data.dataRecord({fields:this.fields,store:null})},add:function(a,b,c){if(null==a)return!1;if(a instanceof idevObject){if(null!=a.store)return!1;a.store=this;!0===c?this.records.unshift(a):this.records.push(a)}else{var d=new idev.data.dataRecord({fields:this.fields,store:this});"string"==typeof a?d.loadText(a):d.load(a);!0===c?this.records.unshift(d):this.records.push(d)}if(!b)return this.updateBinds(),
!0},removeAll:function(){for(var a in this.records)delete this.records[a];this.records=[];this.updateBinds()},removeAt:function(a){if(0>a||a>=this.records.length)return!1;this.records.splice(a,1);this.updateBinds();return!0},removeLast:function(){this.removeAt(this.records.length-1)},setParam:function(a,b){this.params[a]=b},getCount:function(){return this.records.length},bind:function(a){this.binds.push(a)},asString:function(a,b){a=a||"";switch(a.toLowerCase()){case "csv":var c="",d;for(d in this.records)0<
d&&(c+="\r\n"),c+=this.records[d].asString(a,b);return c;default:c="[";for(d in this.records)0<d&&(c+=","),c+=this.records[d].asString();return c+"]"}},sort:function(a,b){null==b&&(b=!0);this.records.sort(function(c,d){return b?c.get(a)<d.get(a)?-1:0:c.get(a)>d.get(a)?-1:0});this.updateBinds()},find:function(a,b,c,d,f){null==c&&(c=0);null==d&&(d=!0);null==f&&(f=!0);for(f||"string"==typeof b&&(b=b.toLowerCase());c<this.records.length;c++){var g=this.records[c].get(a);f||"string"==typeof g&&(g=g.toLowerCase());
if(d)if("string"==typeof g){if(-1!=g.indexOf(b))return c}else{if(g==b)return c}else if(g==b)return c}return-1},getTotal:function(){return this.total}})},page:idevObject.extend({init:function(a){null==a.id&&(a.id=idev.internal.nextUIID("pg"));this.name=a.name;this.id=a.id;this.data=null==a.data?{}:a.data;this.fn=null==a.fn?{}:a.fn;this.labelWidth=a.labelWidth||70;this.orientation=a.orientation||"";this.target=a.target||"";this.header=a.header;this.content=a.content;this.footer=a.footer;null==a.pagestyle&&
(a.pagestyle="");null==a.cls&&(a.cls="");null!=a.style&&(a.pagestyle=a.style);""!=a.cls&&(a.cls+="  ie9gradient");null==a.headerstyle&&(a.headerstyle="");null==a.contentstyle&&(a.contentstyle="");null==a.footerstyle&&(a.footerstyle="");null==a.headerHTML&&(a.headerHTML="Header");null==a.contentHTML&&(a.contentHTML="Content");null==a.footerHTML&&(a.footerHTML="Footer");null!=a.height&&(a.pagestyle+="height:"+a.height+";");null==a.header&&(a.header={height:0,hidden:!0,cls:"",style:""});null==a.content&&
(a.content={height:0,hidden:!0,cls:"",style:""});null==a.footer&&(a.footer={height:0,hidden:!0,cls:"",style:""});null==a.header.cls&&(a.header.cls="");null==a.content.cls&&(a.content.cls="");null==a.footer.cls&&(a.footer.cls="");""!=a.header.cls&&(a.header.cls+="  ie9gradient");""!=a.content.cls&&(a.content.cls+="  ie9gradient");""!=a.footer.cls&&(a.footer.cls+="  ie9gradient");this.controlledContent=!1;a.content.padding=0;if(0<idev.controlHeight)a.content.height=idev.controlHeight-(idev.app.toolbar.height+
idev.app.statusbar.height+a.header.height+a.footer.height),a.contentstyle+="overflow:auto;",controlledContent=!0;else if(_preferences.config.pageFit||_preferences.config.pagefit){var b=idev.convertNulls($("#ui-toolbar").height(),0),c=idev.convertNulls($("#ui-statusbar").height(),0);a.content.height=$("#container").height()-(b+c+a.header.height+a.footer.height);a.content.width=$("#container").width();idev.isIPad()&&(a.content.height+=10)}a.header.padding=0;null==a.header.hidden&&(a.header.hidden=!1);
null==a.header.html?a.header.html="":a.data&&(null!=a.data.header&&""!=a.header.html)&&(b=new idev.wTemplate(a.header.html),a.content.html=b.render(a.data.header));null!=a.header.height?a.headerstyle+="height:"+a.header.height+"px;":a.header.height=0;null!=a.header.padding&&(a.headerstyle+="padding:"+a.header.padding+"px;");null!=a.header.style&&(a.headerstyle+=a.header.style);a.header.hidden&&(a.headerstyle+="display:none;");a.headerstyle+="padding:0;";null==a.content.layout&&(a.content.layout="");
a.content.layout=a.content.layout.toLowerCase();a.contentstyle+="position:relative;";a.content.padding&&(a.contentstyle+="padding:"+a.content.padding+"px;");null==a.content.html?a.content.html="":a.data&&(null!=a.data.content&&""!=a.content.html)&&(b=new idev.wTemplate(a.content.html),a.content.html=b.render(a.data.content));null!=a.content.height&&(a.contentstyle+="height:"+a.content.height+"px;max-height:"+a.content.height+"px;");null!=a.content.padding&&(a.contentstyle+="padding:"+a.content.padding+
";");null!=a.content.style&&(a.contentstyle+=a.content.style);a.contentstyle+="padding:0;";a.footer.padding=0;null==a.footer.hidden&&(a.footer.hidden=!1);null==a.footer.html?a.footer.html="":a.data&&(null!=a.data.footer&&""!=a.footer.html)&&(b=new idev.wTemplate(a.footer.html),a.footer.html=b.render(a.data.footer));a.footerstyle+="position:relative;";null!=a.footer.height&&(a.footerstyle+="height:"+a.footer.height+"px;");null!=a.footer.padding&&(a.footerstyle+="padding:"+a.footer.padding+"px;");null!=
a.footer.style&&(a.footerstyle+=a.footer.style);a.footer.hidden&&(a.footerstyle+="display:none;");a.footerstyle+="padding:0;";this.config=a},render:function(){var a="",b=this.config.content.padding||0;idev.isIE()||(b=0);b=$("#container").innerWidth()-b;a+="<div id='"+this.config.id+"' class='ui-page "+this.config.cls+"' style='width:"+b+"px;"+this.config.pagestyle+"'>";null!=this.config.header&&(a+="<div id='"+this.config.id+"-header' class='ui-page-header "+this.config.header.cls+"' style='"+this.config.headerstyle+
";width:"+b+"px;'>",a+=this.config.header.html,a+="</div>");a+="<div id='"+this.config.id+"-content' class='ui-page-content "+this.config.content.cls+"' style='"+this.config.contentstyle+";width:"+b+"px;'>";this.controlledContent&&idev.isTouch()&&(a+="<div id='"+this.config.id+"-scroller'>");a+=this.config.content.html;this.controlledContent&&idev.isTouch()&&(a+="</div>");a+="</div>";null!=this.config.footer&&(a+="<div id='"+this.config.id+"-footer' class='ui-page-footer "+this.config.footer.cls+
"' style='"+this.config.footerstyle+";width:"+b+"px;'>",a+=this.config.footer.html,a+="</div>");$("#content").append(a+"</div>");this.controlledContent&&idev.isTouch()&&(widget.iScroll=new iScroll(document.getElementById(this.id+"-scroller")));idev.swipping&&($("#"+this.config.id+"-content").mousedown(function(){idev.sx=-1;idev.sy=-1;idev.ex=-1;idev.ey=-1}),$("#"+this.config.id+"-content").mousemove(function(a){if(idev.sx==-1){idev.sx=a.pageX;idev.sy=a.pageY}idev.ex=a.pageX;idev.ey=a.pageY}),$("#"+
this.config.id+"-content").mouseup(function(){idev.sx>idev.ex?Math.abs(idev.sx-idev.ex)>100&&idev.nextPage():Math.abs(idev.ex-idev.sx)>100&&idev.prevPage();idev.sx=-1;idev.sy=-1;idev.ex=-1}),a=document.getElementById(this.config.id+"-content"),a.ontouchstart=function(){idev.sx=-1;idev.sy=-1;idev.ex=-1;idev.ey=-1},a.ontouchmove=function(a){if(idev.sx==-1){idev.sx=a.changedTouches[0].pageX;idev.sy=a.changedTouches[0].pageY}idev.ex=a.changedTouches[0].pageX;idev.ey=a.changedTouches[0].pageY},a.ontouchend=
function(){idev.sx>idev.ex?Math.abs(idev.sx-idev.ex)>100&&idev.nextPage():Math.abs(idev.ex-idev.sx)>100&&idev.prevPage();idev.sx=-1;idev.sy=-1;idev.ex=-1})},getHeaderWidget:function(a){return 0>a||null==this.header||a>=this.header.widgets.length?null:idev.get(this.header.widgets[a].id)},getContentWidget:function(a){return 0>a||a>=this.content.widgets.length?null:idev.get(this.content.widgets[a].id)},getFooterWidget:function(a){return 0>a||null==this.footer||a>=this.footer.widgets.length?null:idev.get(this.footer.widgets[a].id)}}),
pageManagerClass:idevObject.extend({init:function(){this.pages=[];this.activeIndex=-1;this.lastPage=this.currentPage=null;this.animation=!0;this.animationType="fade";this.canNavigate=!0},createWidgets:function(a,b){null!=a.header&&(a.header.id=b.config.id+"-footer",null!=a.header.widgets&&(a.header.id=b.config.id+"-header",idev.internal.renderWidgets(b,b.config.id+"-header",a.header.widgets,a.header.layout,a.header.labelWidth,a.header)));null!=a.content.widgets&&(a.content.id=b.config.id+"-content",
idev.internal.renderWidgets(b,b.config.id+"-content",a.content.widgets,a.content.layout,a.content.labelWidth,a.content));null!=a.footer&&(a.footer.id=b.config.id+"-footer",null!=a.footer.widgets&&(a.footer.id=b.config.id+"-footer",idev.internal.renderWidgets(b,b.config.id+"-footer",a.footer.widgets,a.footer.layout,a.footer.labelWidth,a.footer)));null!=a.events&&"function"==typeof a.events.afterRender&&a.events.afterRender(b)},addPage:function(a,b){null==a&&(a={});var c=new idev.page(a);null==c&&alert("Failed To Create Page "+
b);null==b?(c.pageindex=this.pages.length,this.pages.push(c)):(this.pages[b]=c,c.pageindex=b);c.name=a.name;c.events=a.events;c.render();return c},add:function(a){if(null==idev.app)return!1;idev.app.pages.push(a);return!0},getPage:function(a){for(var b=0;b<this.pages.length;b++){var c=this.pages[b];if(c&&c.name.toLowerCase()==a)return c}return null},pageCount:function(){return this.pages.length},remove:function(a){if(1==this.pages.length)return!1;if("string"==typeof a){for(var b=0;b<this.pages.length;b++){var c=
this.pages[b];if(c&&c.name.toLowerCase()==a.toLowerCase()){a=b;break}}if(b==idev.app.pages.length)return!1}c=this.pages[a];if(null==c)return!1;c.events.destroy&&c.events.destroy(c);idev.removePageWidgets(c.id);$("#"+c.id).remove();this.activeIndex==b&&(this.activeIndex=-1);this.pages[a]=null;c.iScroll&&delete c.iScroll;delete c;return!0},remove2:function(a){if(1==idev.app.pages.length)return!1;if("string"==typeof a){if(""==a)return!1;for(var a=a.toLowerCase(),b=0;b<idev.app.pages.length;b++){var c=
idev.app.pages[b];if(c.name.toLowerCase()==a){idev.app.pages.splice(b,1);break}}for(b=0;b<this.pages.length;b++)if(c=this.pages[b],null!=c&&null!=c.name&&c.name.toLowerCase()==a){c.events.destroy&&c.events.destroy(c);idev.removePageWidgets(c.id);$("#"+c.id).remove();this.pages[b]=null;this.activeIndex==b&&(this.activeIndex=-1);delete c;break}}return!0},showPage:function(a){if(null==idev.app||null==a||!this.canNavigate||"number"==typeof a&&a==idev.pageManager.activeIndex)return!1;var b=this.createPage(a);
if(null==b)return!1;b.events.beforeShow&&b.events.beforeShow(this);null!=idev.pageManager.currentPage&&idev.pageManager.currentPage.events.beforeHide&&idev.pageManager.currentPage.events.beforeHide(this);idev.pageManager.lastPage=idev.pageManager.currentPage;if(!(null!=idev.pageManager.currentPage&&(a==idev.pageManager.currentPage.name||a==idev.pageManager.activeIndex))){if(idev.pageManager.animation){if("fade"==idev.pageManager.animationType){if(null==idev.pageManager.currentPage){$("#"+b.id).show();
idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b);idev.pageManager.activeIndex=this.pageIndex;idev.pageManager.currentPage=b;null!=b.events&&"function"==typeof b.events.show&&b.events.show(b);return}idev.pageManager.newPage&&idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b);idev.pageManager.canNavigate=!1;$("#"+idev.pageManager.currentPage.id).fadeOut(idev.fadeOutTime,function(){null!=idev.pageManager.currentPage.events&&"function"==typeof idev.pageManager.currentPage.events.hide&&
idev.pageManager.currentPage.events.hide(b)});idev.pageManager.activeIndex=idev.pageManager.pageIndex;idev.pageManager.currentPage=b;$("#"+b.id).fadeIn(idev.fadeInTime,function(){idev.pageManager.activeIndex==idev.app.pages.length-1?$("#idNext").css("visibility","hidden"):$("#idNext").css("visibility","visible");0==idev.pageManager.activeIndex?$("#idBack").css("visibility","hidden"):$("#idBack").css("visibility","visible");null!=b.events&&"function"==typeof b.events.show&&b.events.show(b);idev.pageManager.canNavigate=
!0});return!0}if("slide"==idev.pageManager.animationType){if(null==idev.pageManager.currentPage){$("#"+b.id).show();idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b);idev.pageManager.activeIndex=this.pageIndex;idev.pageManager.currentPage=b;null!=b.events&&"function"==typeof b.events.show&&b.events.show(b);return}idev.pageManager.canNavigate=!1;idev.pageManager.newPage&&idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b);a=$("#"+b.id).css("left");
"auto"==a&&(a=0);idev.pageManager.pageIndex>idev.pageManager.activeIndex&&0<=a?($("#"+b.id).css("z-index",0),$("#"+idev.pageManager.currentPage.id).css("z-index",10),$("#"+b.id).show(),idev.utils.delay(100,function(){var a=0-(idev.pgWidth+10);$("#"+idev.pageManager.currentPage.id).animate({left:a},idev.animationTime,"linear",function(){idev.pageManager.activeIndex=idev.pageManager.pageIndex;$("#"+idev.pageManager.currentPage.id).hide();idev.pageManager.currentPage=b;idev.pageManager.canNavigate=!0;
null!=b.events&&"function"==typeof b.events.show&&b.events.show(b)})})):($("#"+idev.pageManager.currentPage.id).css("z-index",0),$("#"+b.id).css("z-index",2),$("#"+b.id).show(),idev.utils.delay(100,function(){$("#"+b.id).animate({left:0},idev.animationTime,"linear",function(){var a=0-(idev.pgWidth+10);$("#"+idev.pageManager.currentPage.id).css("left",a);$("#"+idev.pageManager.currentPage.id).hide();idev.pageManager.activeIndex=idev.pageManager.pageIndex;idev.pageManager.currentPage=b;idev.pageManager.canNavigate=
!0;null!=b.events&&"function"==typeof b.events.show&&b.events.show(b)})}))}}else null==this.currentPage?(this.currentPage=b,this.activeIndex=this.pageIndex,$("#"+b.id).show(),idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b)):($("#"+this.currentPage.id).hide(),this.currentPage=b,this.activeIndex=this.pageIndex,$("#"+b.id).show(),idev.pageManager.newPage&&idev.pageManager.createWidgets(idev.app.pages[idev.pageManager.pageIndex],b)),null!=b.events&&"function"==typeof b.events.show&&
b.events.show(b);return!0}},createPage:function(a){if(null==idev.app||null==a)return!1;idev.pageManager.newPage=!1;if("string"==typeof a){if(""==a)return!1;for(var a=a.toLowerCase(),b=0;b<idev.app.pages.length;b++){var c=idev.app.pages[b];if(c.name.toLowerCase()==a){c=this.pages[b];if(null==c)return c=idev.app.pages[b],this.pageIndex=b,this.newPage=!0,idev.pageManager.addPage(c,b);this.pageIndex=b;return c}}}else{if(0>a||a>=idev.app.pages.length)return!1;c=this.pages[a];if(null==c)return c=idev.app.pages[a],
this.pageIndex=a,this.newPage=!0,idev.pageManager.addPage(c,a);this.pageIndex=a;return c}return null},prevPage:function(){0!=idev.pageManager.activeIndex&&this.showPage(idev.pageManager.activeIndex-1)},nextPage:function(){idev.pageManager.activeIndex!=idev.app.pages.length-1&&this.showPage(idev.pageManager.activeIndex+1)}}),utils:{ajax:function(a){try{null!=a.url&&(null==a.dataType&&(a.dataType="json"),null==a.type&&(a.type="POST"),a.data=a.params,a.error&&(a.failed=a.error,a.error=function(b,d,f){a.failed(b,
d,f)}),$.ajax(a))}catch(b){return alert("AJAX Error"),null}},loadCSS:function(a,b){try{null==b&&(b=idev.internal.callback),idev.internal.addStyleSheet(a,b)}catch(c){$debug(c.message)}},loader:function(a,b,c){try{var d={};d.url=a;null!=d.url&&""!=d.url&&(d.dataType="text",d.data=c,d.success=function(a){$("head").append("<script type='text/javascript'>"+a+"<\/script>");"function"==typeof b&&b()},d.error&&(d.failed=d.error,d.error=function(a,b,c){d.failed(c)}),$.ajax(d))}catch(f){alert("AJAX Load Error")}},
S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},guid:function(){return(idev.utils.S4()+idev.utils.S4()+"-"+idev.utils.S4()+"-"+idev.utils.S4()+"-"+idev.utils.S4()+"-"+idev.utils.S4()+idev.utils.S4()+idev.utils.S4()).toUpperCase()},json:function(a){try{return jQuery.parseJSON(a)}catch(b){return alert("JSON Decode Error: "+a),null}},eval:function(a,b){try{var c=eval(a);return null==c?a:c}catch(d){return b&&b(d),a}},parseJSON:function(a){try{var b=eval("tmp="+a);return null==
b?a:b}catch(c){return a}},cssOpacity:function(a){return"filter:alpha(opacity="+100*a+");-moz-opacity:"+a+";-khtml-opacity: "+a+";opacity: "+a+";"},ellipsis:function(a,b){for(a+="...";a.length>b&&" "!=a.substr(a.length-3,1);)a=a.substr(0,a.length-4)+"...";return a},showBusy:function(){null==document.getElementById("_busy")&&$("#container").append("<div id='_busy' class='ui-busy'></div>");var a=$("#container").width(),b=$("#container").height(),c=$("#_busy").width(),d=$("#_busy").height();$("#_busy").css("left",
a/2-c/2);$("#_busy").css("top",b/2-d/2);$("#_busy").show()},hideBusy:function(){null!=$("#_busy")&&$("#_busy").hide()},delay:function(a,b,c){"function"==typeof b&&setTimeout(function(){b(c)},a)},replaceAll:function(a,b,c){if(b!=c&&""!=b)for(;-1!=a.indexOf(b);)a=a.replace(b,c);return a},round:function(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)},ucwords:function(a){return(a+"").replace(/^(.)|\s(.)/g,function(a){return a.toUpperCase()})},dateAdd:function(a,b,c){if("string"==typeof a){if(a=
new Date(a),isNaN(a))throw"DateAdd: Date is not a valid date";}else if("object"!=typeof a||-1==a.constructor.toString().indexOf("Date()"))throw"DateAdd: First parameter must be a date object";if("M"!=b&&"D"!=b&&"Y"!=b&&"h"!=b&&"m"!=b&&"uM"!=b&&"uD"!=b&&"uY"!=b&&"uh"!=b&&"um"!=b&&"us"!=b)throw"DateAdd: Second parameter must be M, D, Y, h, m, uM, uD, uY, uh, um or us";if("number"!=typeof c)throw"DateAdd: Third parameter must be a number";switch(b){case "M":a.setMonth(parseInt(a.getMonth())+parseInt(c));
break;case "D":a.setDate(parseInt(a.getDate())+parseInt(c));break;case "Y":a.setYear(parseInt(a.getYear())+parseInt(c));break;case "h":a.setHours(parseInt(a.getHours())+parseInt(c));break;case "m":a.setMinutes(parseInt(a.getMinutes())+parseInt(c));break;case "s":a.setSeconds(parseInt(a.getSeconds())+parseInt(c));break;case "uM":a.setUTCMonth(parseInt(a.getUTCMonth())+parseInt(c));break;case "uD":a.setUTCDate(parseInt(a.getUTCDate())+parseInt(c));break;case "uY":a.setUTCFullYear(parseInt(a.getUTCFullYear())+
parseInt(c));break;case "uh":a.setUTCHours(parseInt(a.getUTCHours())+parseInt(c));break;case "um":a.setUTCMinutes(parseInt(a.getUTCMinutes())+parseInt(c));break;case "us":a.setUTCSeconds(parseInt(a.getUTCSeconds())+parseInt(c))}return a},isNumeric:function(a){var b=!0,c;if(""==a)return!1;for(i=0;i<a.length&&!0==b;i++)c=a.charAt(i),-1=="0123456789".indexOf(c)&&(b=!1);return b},trim:function(a,b){return null==a||"string"!=typeof a?a:this.ltrim(this.rtrim(a,b),b)},ltrim:function(a,b){return null==a||
"string"!=typeof a?a:a.replace(RegExp("^["+(b||"\\s")+"]+","g"),"")},rtrim:function(a,b){return null==a||"string"!=typeof a?a:a.replace(RegExp("["+(b||"\\s")+"]+$","g"),"")},urldecode:function(a){return decodeURIComponent((a+"").replace(/\+/g,"%20"))},urlencode:function(a){return encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},JSON2string:function(a){var b=typeof a;if("object"!=b||null===a)return"string"==
b&&(a='"'+a+'"'),String(a);var c,d,f=[],g=a&&a.constructor==Array;for(c in a)d=a[c],b=typeof d,"string"==b?d='"'+d+'"':"object"==b&&null!==d&&(d=idev.utils.JSON2string(d)),f.push((g?"":'"'+c+'":')+String(d));return(g?"[":"{")+String(f)+(g?"]":"}")},mousePos:function(a){return{x:a.clientX+document.body.scrollLeft,y:a.clientY+document.body.scrollTop-(idev.app.toolbar?idev.app.toolbar.height:0)}},mousePosition:function(a){return idev.isTouch()?{x:idev._endX+document.body.scrollLeft-document.body.clientLeft,
y:idev._endY+document.body.scrollTop-document.body.clientTop}:{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}},clone:function(a){try{return $().extend(!0,{},a)}catch(b){return $debug(b.message),null}},generatePassword:function(a,b){a=a||9;b=b||0;vowels="aeuy";constants="bdghjmnpqrstvz";b&1&&(constants+="BDGHJLMNPQRSTVWXZ");b&2&&(vowels+="AEUY");b&4&&(constants+="23456789");b&8&&(constants+="@#$!");password="";alt=(new Date).getTime()%
2;for(var c=0;c<a;c++)1==alt?(p=parseInt(327678*Math.random()%constants.length),password+=constants[p],alt=0):(p=parseInt(327678*Math.random()%vowels.length),password+=vowels[p],alt=1);return password},findID:function(a){for(;a;){if(null!=a.id&&""!=a.id)return a.id;a=a.parentNode}return""},extractIndex:function(a){for(;a;){if(null!=a.id&&""!=a.id){var b=a.id.lastIndexOf("_");if(-1==b)break;return parseInt(a.id.substr(b+1))}a=a.parentNode}return-1},scrypt:function(a,b,c){var d="";if(!c){for(var f=
"",g=0;g<a.length;g++)var j=idev.rAlphabet.indexOf(a.substr(g,1))+32,f=f+String.fromCharCode(j);a=f}for(g=0;g<a.length;g++)f=a.charCodeAt(g),f=65<=f&&90>=f?String.fromCharCode((f-65+b)%26+65):97<=f&&127>=f?String.fromCharCode((f-97+b)%26+97):a.charAt(g),c&&(f=idev.rAlphabet.substr(f.charCodeAt(0)-32,1)),d+=f;return d}},ui:{addMask:function(a){var b=$(document).width(),c=$(document).height();$("body").append("<div id='"+a+"' class='ui-mask' style='left:0px;top:0px;width:"+(b-1)+"px;height:"+(c-1)+
"px;z-index:100'>&nbsp;</div>")},removeMask:function(a){$("#"+a).remove()},addEvent:function(a,b,c){$("#"+a).bind(b,c)},removeEvent:function(a,b,c){$("#"+a).unbind(b,c)},message:function(a){"string"==typeof a?a={text:a,type:"OK"}:(null==a.type&&(a.type="OK"),a.type=a.type.toUpperCase());if(null!=a.text&&("object"==typeof a.text&&(a=a.text),null!=a.text)){null==a.iconsize&&(a.iconsize=idev.defaultMIconSize);null==a.width&&(a.width=idev.defaultMWidth);null==a.height&&(a.height=idev.defaultMHeight);
null==a.bbarHeight&&(a.bbarHeight=idev.defaultMBBarHeight);null==a.padding&&(a.padding=idev.defaultMPadding);null==a.cls&&(a.cls="");null==a.title&&(a.title=" ");a.btnWidth=a.btnWidth||idev.defaultMBtnWidth;a.btnHeight=a.btnHeight||idev.defaultMBtnHeight;a.closable=!0;a.titleHeight=22;a.bodyCls="";null==a.shadow&&(a.shadow=idev.defaultMShadow);null==a.shadowSize&&(a.shadowSize=idev.defaultMShadowSize);null==a.shadowColor&&(a.shadowColor=idev.defaultMShadowColor);null==a.titleCls&&(a.titleCls=idev.defaultMTitleCls);
null==a.tbarCls&&(a.tbarCls=idev.defaultMTbarCls);null==a.bbarCls&&(a.bbarCls=idev.defaultMBbarCls);null==a.backgroundCls&&(a.backgroundCls=idev.defaultMBGCls);null==a.fontSize&&(a.fontSize=idev.defaultMFontSize);null==a.buttonYESColor&&(a.buttonYESColor=a.buttonColor);null==a.buttonNOColor&&(a.buttonNOColor=a.buttonColor);null==a.buttonCANCELColor&&(a.buttonCANCELColor=a.buttonColor);""!==a.backgroundCls&&(a.backgroundCls+=" ie9gradient");a.padding=0;null!=a.icon?(a.icon=a.icon.toLowerCase(),"warning"==
a.icon?a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0><tr><td width='{iconsize}px' valign=top><img src='{iconpath}warning.png' style='width:{iconsize}px;height:{iconsize}px;;'></td><td>{text}</td></tr></table>"):"info"==a.icon||"information"==a.icon?a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0><tr><td width='{iconsize}px' valign=top><img src='{iconpath}information.png' style='width:{iconsize}px;height:{iconsize}px;'></td><td>{text}</td></tr></table>"):
"error"==a.icon?a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0><tr><td width='{iconsize}px' valign=top><img src='{iconpath}error.png' style='width:{iconsize}px;height:{iconsize}px;'></td><td>{text}</td></tr></table>"):"question"==a.icon?a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0><tr><td width='{iconsize}px' valign=top><img src='{iconpath}question.png' style='width:{iconsize}px;height:{iconsize}px;'></td><td>{text}</td></tr></table>"):null==
a.tpl&&(a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0><tr><td width='{iconsize}px' valign=top><img src='{iconpath}question.png' style='width:{iconsize}px;height:{iconsize}px;'></td><td>{text}</td></tr></table>"))):null==a.tpl&&(a.tpl=new idev.wTemplate("<table width={width} cellpadding=5 cellspacing=0><tr><td>{text}</td></tr></table>"));null==a.data&&(a.data=[]);a.data.iconpath=_preferences.libpath+"images/";a.data.iconsize=a.iconsize;a.data.width=a.width-2*a.padding-
2;a.data.text=a.text;var b;b="YESNO"==a.type?[">>",{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"YES",fontSize:a.fontSize,color:a.buttonYESColor,border:a.border,borderColor:a.borderColor,events:{click:function(){c.callback&&c.callback("YES");c.close()}}},{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"NO",fontSize:a.fontSize,color:a.buttonNOColor,border:a.border,borderColor:a.borderColor,events:{click:function(){c.callback&&c.callback("NO");c.close()}}},{wtype:"spacer",
width:2}]:"OKCANCEL"==a.type?[">>",{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"OK",fontSize:a.fontSize,color:a.buttonColor,border:a.border,borderColor:a.borderColor,events:{click:function(){c.callback&&c.callback("OK");c.close()}}},{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"CANCEL",fontSize:a.fontSize,color:a.buttonCANCELColor,border:a.border,borderColor:a.borderColor,events:{click:function(){c.callback&&c.callback("CANEL");c.close()}}},{wtype:"spacer",
width:10}]:"OK"==a.type?[">>",{wtype:"button",width:a.btnWidth,height:a.btnHeight,radius:4,text:"OK",fontSize:a.fontSize,color:a.buttonColor,border:a.border,borderColor:a.borderColor,events:{click:function(){c.callback&&c.callback("OK");c.close()}}},{wtype:"spacer",width:10}]:[];var c=new idev.ui.widgetWindow({title:a.title,x:a.x,y:a.y,width:a.width,height:a.height,titleHeight:a.titleHeight,titleStyle:a.titleStyle,tbarCls:a.tbarCls,bbarCls:a.bbarCls,titleCls:a.titleCls,bodyCls:a.bodyCls,backgroundCls:a.backgroundCls,
shadow:a.shadow,shadowSize:a.shadowSize,shadowColor:a.shadowColor,panelCls:"ui-message",padding:a.padding,closable:!1,cls:a.cls,style:a.style,radius:a.radius,modal:!0,hidden:!0,html:a.tpl.render(a.data),bbar:b,bbarHeight:a.bbarHeight});c.callback=a.callback;a.popup&&!a.animate&&(a.animate="moveto");a.animate?(null==a.animSpeed&&(a.animSpeed=500),"fadein"==a.animate)?(c.fadeIn(a.animSpeed),a.delay&&$delay(a.delay,function(){c.fadeOut(a.animSpeed,null,function(){c.close()})},a)):"moveto"==a.animate&&
null!=a.ax&&null!=a.ay?(c.show(),c.moveTo(a.ax,a.ay,a.animSpeed),a.delay&&$delay(a.delay,function(){c.moveTo(a.x,a.y,a.animSpeed,null,function(){c.close()})},a)):c.show():c.show();return c}},imessage:function(a){var b=$(document).width(),c=$(document).height(),d=$("#container").width(),f=$("#container").height(),g=(d-320)/2,j=(f-150)/2;if(!idev.hasPopup&&("string"==typeof a?a={text:a,type:"OK"}:(null==a.type&&(a.type="OK"),a.type=a.type.toUpperCase()),null!=a.text))$("body").append("<div id='idmmask' class='ui-mask' style='left:0px;top:0px;width:"+
b+"px;height:"+c+"px;'>&nbsp;</div>"),$delay(100,function(a){var b;b=""+("<div id='idmpopup' class='ui-popup' style='height:150;left:"+g+"px;top:"+j+"px;'>");b=b+"<div class='ui-popup-top'>&nbsp;</div>"+("<div class='ui-popup-middle' style='position:relative;height:80px;'><center>"+a.text+"</center>");b=b+"</div>";a.type=="OK"&&(b=b+"<div id='idmOK' class='ui-popup-ok' style='position:relative;left:100px;top:-24px;cursor:pointer;'><table><tr height=40><td width=120 align=center style='color:#fff;'>OK</td></tr></table></div>");
a.type=="YESNO"&&(b=b+"<div id='idmYES' class='ui-popup-yes' style='position:relative;left:32px;top:-24px;cursor:pointer;'><table><tr height=40><td width=120 align=center style='color:#fff;'>YES</td></tr></table></div><div id='idmNO' class='ui-popup-no' style='position:relative;left:36px;top:-24px;cursor:pointer;'><table><tr height=40><td width=120 align=center style='color:#fff;'>NO</td></tr></table></div>");$("body").append(b+"<div class='ui-popup-bottom'>&nbsp;</div></div>");idev.hasPopup=true;
a.type=="OK"&&$("#idmOK").click(function(){$("#idmpopup").remove();$("#idmmask").remove();a.callback&&a.callback("OK");idev.hasPopup=false});if(a.type=="YESNO"){$("#idmYES").click(function(){$("#idmpopup").remove();$("#idmmask").remove();a.callback&&a.callback("YES");idev.hasPopup=false});$("#idmNO").click(function(){$("#idmpopup").remove();$("#idmmask").remove();a.callback&&a.callback("NO");idev.hasPopup=false})}},a)},widgetPanel:baseWidget.extend({init:function(a){this._super(a);this.wtype="panel";
this.labelWidth=null==this.config.labelWidth?70:this.config.labelWidth;this.columns=null==this.config.columns?1:this.config.columns;this.columnAlign=null==this.config.columnAlign?"top":this.config.columnAlign;this.rowHeight=null==this.config.rowHeight?0:this.config.rowHeight;this.padding=null==this.config.padding?0:this.config.padding;this.hScroll=this.config.hScroll;this.title=this.config.title;this.frame=null==this.config.frame?!1:this.config.frame;this.modal=null==this.config.modal?!1:this.config.modal;
this.draggable=null==this.config.draggable?!1:this.config.draggable;this.resizable=null==this.config.resizable?!1:this.config.resizable;this.closable=null==this.config.closable?!1:this.config.closable;this.minisable=null==this.config.minisable?!1:this.config.minisable;this.maxisable=null==this.config.maxisable?!1:this.config.maxisable;this.expandable=null==this.config.expandable?!1:this.config.expandable;this.collapsed=null==this.config.collapsed?!1:this.config.collapsed;this.bodyStyle=null==this.config.bodyStyle?
"":this.config.bodyStyle;this.titleHeight=this.config.titleHeight||28;this.tbarHeight=this.config.tbarHeight||34;this.tbarStyle=this.config.tbarStyle||"";this.titleStyle=this.config.titleStyle||"";this.tbarCls=this.config.tbarCls||"";this.tbarConfig=this.config.tbarConfig||{};this.bbarCls=this.config.bbarCls||"";this.bbarConfig=this.config.bbarCls||{};this.titleCls=idev.convertNulls(this.config.titleCls,"");this.panelCls=this.config.panelCls||"";this.shadow=this.config.shadow;this.shadowSize=this.config.shadowSize||
3;this.shadowColor=this.config.shadowColor||"#ccc";this.autoFocus=this.config.autoFocus;this.focusID=this.config.focusID||"";this.bodyCls=this.config.bodyCls||"";this.tbar=this.config.tbar;this.bbarHeight=this.config.bbarHeight||34;this.bbarStyle=this.config.bbarStyle||"";this.icon=this.config.icon||"";this.area=this.config.area||"";this.collaped=this.config.collaped||!1;this.bbar=this.config.bbar;this.bbCreated=this.tbCreated=!1;this.layoutManager=new idevLayoutManager(this);this.backgroundStyle=
this.config.backgroundStyle||"";this.backgroundCls=this.config.backgroundCls||"";if("accordion"==this.layout||"frame"==this.layout)this.autoScroll=!1;this.expandable&&!this.title&&"center"!=this.area?this.title="   ":this.title||(this.expandable=!1);"center"==this.area&&(this.expandable=!1);null!=this.tbar&&(this.tbar instanceof baseWidget?this.tbCreated=!1:(a=new idev.ui.widgetToolbar(this.tbarConfig),a.widgets=this.tbar,this.tbar=a,this.tbar.height=this.tbarHeight,this.tbar.width=this.width,this.tbar.backgroundCls=
this.tbarCls,this.tbCreated=!0));null!=this.bbar&&(this.bbar instanceof baseWidget?this.bbCreated=!1:(a=new idev.ui.widgetStatusbar(this.bbarConfig),a.widgets=this.bbar,this.bbar=a,this.bbar.height=this.bbarHeight,this.bbar.width=this.width,this.bbCreated=!0));var b=a="",c="",d="";this.title&&(this.title=this.title,a="<div id='{id}-title' class='ui-panel-titlebar {titlecls}' style='max-width:{titlewidth}px;width:{titlewidth}px;height:{titleheight}px;max-height:{titleheight}px;{titlestyle}'><table width='100%' class='ui-panel-title'><tr height={titletextheight}><td width='{iconwidth}px' align='right' valign=top id='{id}-icon'>{icon}</td><td id='{id}-titletext' valign=center>{title}</td><td width='{buttonwidth}px' align='right' valign=top id='{id}-buttons'>{buttons}</td></tr></table></div>",
this.roundCorners&&(this.titleStyle+="border-top-left-radius:"+this.radius+"px;",this.titleStyle+="border-top-right-radius:"+this.radius+"px;",this.titleStyle+="-webkit-border-top-left-radius:"+this.radius+"px;",this.titleStyle+="-webkit-border-top-right-radius:"+this.radius+"px;",this.titleStyle+="-moz-border-top-left-radius:"+this.radius+"px;",this.titleStyle+="-moz-border-top-right-radius:"+this.radius+"px;"));this.tbar&&(b="<div id='{id}-tbar' class='ui-panel-tbar {tbarcls}' style='max-width:{tbarwidth}px;width:{tbarwidth}px;height:{tbarheight}px;{tbarstyle};'></div>",
this.roundCorners&&null==this.title&&(this.tbarStyle+="border-top-left-radius:"+this.radius+"px;",this.tbarStyle+="border-top-right-radius:"+this.radius+"px;",this.tbarStyle+="-webkit-border-top-left-radius:"+this.radius+"px;",this.tbarStyle+="-webkit-border-top-right-radius:"+this.radius+"px;",this.tbarStyle+="-moz-border-top-left-radius:"+this.radius+"px;",this.tbarStyle+="-moz-border-top-right-radius:"+this.radius+"px;"));this.bbar&&(c="<div id='{id}-bbar' class='ui-panel-bbar {bbarcls}' style='max-width:{bbarwidth}px;width:{bbarwidth}px;height:{bbarheight}px;{bbarstyle};'></div>",
this.roundCorners&&(this.bbarStyle+="border-bottom-left-radius:"+this.radius+"px;",this.bbarStyle+="border-bottom-right-radius:"+this.radius+"px;",this.bbarStyle+="-webkit-border-bottom-left-radius:"+this.radius+"px;",this.bbarStyle+="-webkit-border-bottom-right-radius:"+this.radius+"px;",this.bbarStyle+="-moz-border-bottom-left-radius:"+this.radius+"px;",this.bbarStyle+="-moz-border-bottom-right-radius:"+this.radius+"px;"));if(this.expandable&&("west"==this.area||"east"==this.area))d="<div id='{id}-filler' class='ui-panel-filler' style='visibility:hidden;position:absolute;left:{fillerleft}px;top:{titleheight}px;width:24px;height:{fillerheight}px;'></div>";
this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-panel {panelcls}' style='background:transparent;{elementstyle}{style}'>","<div id='{id}-background' class='ui-panel-background {backgroundcls}' style='position:absolute;left:0px;top:0px;width:100%;height:100%;{backgroundstyle}'>","</div>","<div id='{id}-container' style='position:relative;left:0px;top:px;background:transparent;'>",a,b,"<div id='{id}-body' class='{bodycls}' style='width:100%;{bodystyle};height:{bodyheight}px;'>","<div id='{id}-content' class='ui-panel-content {cls}' style='position:relative;{contentstyle}'>",
"{html}","</div>","</div>",c,d,"</div>","</div>");""!=this.backgroundCls&&(this.backgroundCls+="  ie9gradient");""!=this.panelCls&&(this.panelCls+="  ie9gradient");""!=this.bodyCls&&(this.bodyCls+="  ie9gradient");""!=this.titleCls&&(this.titleCls+="  ie9gradient");""!=this.tbarCls&&(this.tbarCls+="  ie9gradient");""!=this.bbarCls&&(this.bbarCls+="  ie9gradient");idev.internal.add(this)},render:function(){var a=this.style,b=this.bodyStyle,c="background:transparent;",d="",f=0,g=1,j=""==this.icon?"":
"<img src='"+this.icon+"' style='width:16px;height:16px;'/>",l=100,m="west"==this.area?this.width-19:0;if(null!=this.renderTo){this.border&&(a+="border:"+this.borderStyle+";");this.modal&&(l=999+10*idev.modals,a+="z-index:"+(l+1)+";");0<this.padding&&(c+="padding:"+this.padding+"px;");this.autoScroll&&!1==idev.isTouch()&&(b+="overflow:auto;");"window"==this.wtype&&(this.expandable=!1);this.closable&&this.title&&(d+="<div id='"+this.id+"-close' class='ui-panel-btn-close'>&nbsp;</div>",f+=16);this.maxisable&&
this.title&&(d+="<div id='"+this.id+"-min' class='ui-panel-btn-max'>&nbsp;</div>",f+=16);this.minisable&&this.title&&(d+="<div id='"+this.id+"-min' class='ui-panel-btn-min'>&nbsp;</div>",f+=16);if(this.expandable)if("west"==this.area)d+="<div id='"+this.id+"-expand' class='ui-panel-btn-collapse-w'>&nbsp;</div>",f+=16;else if("east"==this.area)j+="<div id='"+this.id+"-expand' class='ui-panel-btn-expand-e'></div>",g=16;else{if("south"==this.area)d+="<div id='"+this.id+"-expand' class='ui-panel-btn-expand'>&nbsp;</div>";
else{var k=!1;this.parent&&"accordion"==this.parent.layout&&(k=!0);d=k?d+("<div id='"+this.id+"-expand' class='ui-panel-btn-minus'>&nbsp;</div>"):this.collapsed?d+("<div id='"+this.id+"-expand' class='ui-panel-btn-expand'>&nbsp;</div>"):d+("<div id='"+this.id+"-expand' class='ui-panel-btn-collapse'>&nbsp;</div>")}f+=16}this.bodyheight=this.height;this.title&&(this.bodyheight-=parseInt(this.titleHeight));this.tbar&&(this.bodyheight-=parseInt(this.tbarHeight));this.bbar&&(this.bodyheight-=parseInt(this.bbarHeight));
this.autoScroll||(c+="overflow:hidden;width:"+this.width+"px;height:"+(this.bodyheight-2*this.padding)+"px");this.shadow&&(a+="box-shadow: "+this.shadowSize+"px "+this.shadowSize+"px "+2*this.shadowSize+"px "+this.shadowColor+";");k=[];k.id=this.id;k.cls=this.cls;k.width=this.width;k.height=this.height;k.title=null==this.title?"":this.title;k.bodyheight=this.bodyheight;k.elementstyle=this.elementStyle;k.style=a;k.icon=j;k.iconwidth=g;k.fillerleft=m;k.fillerheight=this.height-this.titleHeight;k.buttons=
d;k.buttonwidth=f;k.bodystyle=b;k.backgroundstyle=this.backgroundStyle;k.backgroundcls=this.backgroundCls;k.contentstyle=c;k.tbarwidth=this.width;k.titlewidth=this.width;k.titleheight=this.titleHeight;k.titletextheight=this.titleHeight-4;k.titlestyle=this.titleStyle;k.tbarheight=this.tbarHeight;k.tbarstyle=this.tbarStyle;k.bbarwidth=this.width;k.bbarheight=this.bbarHeight;k.bbarstyle=this.bbarStyle;k.tbarcls=this.tbarCls;k.bbarcls=this.bbarCls;k.panelcls=this.frame?this.panelCls+" ui-panel-frame":
this.panelCls;k.bodycls=this.bodyCls;k.titlecls=this.titleCls;k.html=this.html;idev.internal.beforeRender(this);a=this.tpl.render(k);this.modal?(b=$(document).width(),c=$(document).height(),this.maskID=idev.internal.nextUIID(),this.maskCls=this.config.maskCls||"ui-mask",$("body").append("<div id='"+this.maskID+"' class='"+this.maskCls+"' style='left:0px;top:0px;width:"+(b-1)+"px;height:"+(c-1)+"px;z-index:"+l+"'>&nbsp;</div>"),$("#"+this.renderTo).append(a),idev.modals++):$("#"+this.renderTo).append(a);
if(this.roundCorners&&(DD_roundies.addRule("#"+this.id,this.radius+"px",!1),$("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+"px"),l=this.radius,DD_roundies.addRule("#"+this.id+"-background",l+"px",!1),$("#"+this.id+"-background").css("border-radius",l+"px"),this.title&&($("#"+this.id+"-title").css("-moz-border-radius-topleft",l+"px"),$("#"+this.id+"-title").css("-moz-border-radius-topright",l+"px")),this.bbar))$("#"+this.id+"-bbar").css("-moz-border-radius-bottomleft",
l+"px"),$("#"+this.id+"-bbar").css("-moz-border-radius-bottomright",l+"px");this.autoScroll&&idev.isTouch()&&idev.utils.delay(500,function(a){a.iScroll=a.hScroll?new iScroll(a.id+"-content",{hScroll:true,bounce:true,momentum:true}):new iScroll(a.id+"-content")},this);if(this.widgets){if("accordion"==this.layout)for(l=0;l<this.widgets.length;l++)this.widgets[l].border=!1;idev.internal.renderWidgets(this.page,this.id+"-content",this.widgets,this.layout,this.labelWidth,this)}this.tbar&&(this.tbar.page=
this.page,this.tbar.parent=this,this.tbar.columnAlign="center",this.tbar.rowHeight=this.tbar.tbarHeight-2,this.tbar.renderTo=this.id+"-tbar",this.tbar.render());this.bbar&&(this.bbar.page=this.page,this.bbar.parent=this,this.bbar.columnAlign="center",this.bbar.rowHeight=this.bbarHeight-2,this.bbar.renderTo=this.id+"-bbar",this.bbar.render());this.draggable&&this.setDraggable(!0);this.minisable&&this.title&&$("#"+this.id+"-min").click(function(){var a=idev.get(this.id.replace("-min",""));a.events.minimise&&
a.events.minimise(this)});this.maxisable&&this.title&&$("#"+this.id+"-max").click(function(){var a=idev.get(this.id.replace("-close",""));a.events.maximise&&a.events.maximise(this)});this.expandable&&(this.expandable&&this.collapsed&&($("#"+this.id).css({height:this.titleHeight+"px"}),this.expanded=!1),$("#"+this.id+"-expand").click(function(){var a=idev.get(this.id.replace("-expand",""));if(a.expanded)a.oncollapse();else a.onexpand()}));this.closable&&this.title&&$("#"+this.id+"-close").click(function(){var a=
idev.get(this.id.replace("-close",""));a.events.close?a.events.close(this)!==false&&a.close():a.close()});idev.internal.afterRender(this);this.rendered=!0;this.collaped&&$delay(100,function(a){a.oncollapse()},this);(this.events.contextMenu||this.events.contextmenu)&&this.addEvent("contextmenu",idev.internal.onContextMenu);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);if((this.autoFocus||""!==this.focusID)&&this.widgets)for(l=
0;l<this.widgets.length;l++)if("input"==this.widgets[l].wtype||"textarea"==this.widgets[l].wtype)if(this.focusID==this.widgets[l].id){$get(this.widgets[l].id).focus();break}else if(this.autoFocus){$get(this.widgets[l].id).focus();break}}},onexpand:function(){this.layoutManager.expand()},oncollapse:function(){this.layoutManager.collapse()},innerHTML:function(a){$("#"+this.id+"-content").empty();$("#"+this.id+"-content").append(a)},close:function(){if(this.events.beforeClose&&!1===this.events.beforeClose(this))return!1;
this.autoDestroy?(this.hide(),this.destroy()):this.hide();this.modal&&($("#"+this.maskID).remove(),idev.modals--);this.events.afterClose&&this.events.afterClose(this);return!0},doLayout:function(){this.layoutManager.doLayout()},ondestroy:function(){this.tbCreated&&this.tbar.destroy();this.bbCreated&&this.bbar.destroy()},removeWidget:function(a,b){var c=this.id+"-content-body",d=0;if(0!=this.widgets.length){if("string"==typeof a)for(var f=0;f<this.widgets.length;f++){if(this.widgets[f].id==a){d=f;
break}}else d=a,a=this.widgets[a].id,c=this.id+"-content-body";f=$get(a);if(null!=f){f.destroy(b);if("row"==this.layout){$("#"+c+"-row"+d).remove();for(f=d+1;f<=this.widgets.length;f++){var g=c+"-row"+f,j=c+"-row"+(f-1);$("#"+g).attr("id",j);g=c+"-cell"+f;j=c+"-cell"+(f-1);$("#"+g).attr("id",j)}}if("column"==this.layout){$("#"+c+"-cell"+d).remove();for(f=d+1;f<=this.widgets.length;f++)g=c+"-cell"+f,j=c+"-cell"+(f-1),$("#"+g).attr("id",j)}if("form"==this.layout){$("#"+c+"-cell"+d).parent().remove();
for(f=d+1;f<=this.widgets.length;f++)g=c+"-cell"+f,j=c+"-cell"+(f-1),$("#"+g).attr("id",j)}}}},addWidget:function(a){var b=this.id;if("frame"==this.layout||"accordion"==this.layout||null==a.wtype)return!1;this.widgets||(this.widgets=[]);if("column"==this.layout){var c=this.id+"-content-row",d=this.id+"-content-body",f="",g="",j=this.widgets.length;a.cellStyle&&(f=a.cellStyle);b=d+"-cell"+j;g="center"==this.columnAlign?g+("<td valign='center' id='"+b+"' style='"+f+"'></td>"):"bottom"==parent.columnAlign?
g+("<td valign='bottom' id='"+b+"' style='"+f+"'></td>"):g+("<td valign='top' id='"+b+"' style='"+f+"'></td>");$("#"+c).append(g)}else if("row"==this.layout)f="",d=this.id+"-content-body",j=this.widgets.length,a.cellStyle&&(f=a.cellStyle),b=d+"-cell"+j,g=""!=this.rowHeight?"<tr id='"+d+"-row"+j+"' style='height:"+this.rowHeight+"px'>":"<tr id='"+d+"-row"+j+"'>",g=this.center?g+("<td style='"+f+"'><center><div id='"+b+"'></div></center></td>"):g+("<td id='"+b+"' style='"+f+"'></td>"),$("#"+d).append(g+
"</tr>");else if("form"==this.layout)f="",d=this.id+"-content-body",j=this.widgets.length,a.cellStyle&&(f=a.cellStyle),b=d+"-cell"+j,g="<tr><td valign='top' width:'"+this.labelWidth+"px' style='width:"+this.labelWidth+"px;"+f+"'><span  id='"+b+"-label' class='ui-labeltext' style='"+a.labelStyle+"'>"+a.label+"</span></td><td id='"+b+"'></td></tr>",null==a.label&&(g="<tr><td id='"+b+"' colspan=2></td><td></td></tr>"),$("#"+d).append(g);else if("table"==this.layout){d=this.id+"-content-body";j=this.widgets.length;
if(0==this.widgets.length%this.columns){g="<tr>";0<parent.rowHeight&&(g="<tr height="+parent.rowHeight+" >");for(c=0;c<this.columns;c++)a.cellStyle&&(f=a.cellStyle),b=d+"-cell"+(j+c),g+="<td valign='top' id='"+b+"' style='"+f+"'></td>";$("#"+d).append(g+"</tr>")}b=d+"-cell"+j}else"fit"==this.layout&&(0<this.widgets.length&&(a.hidden=!0),a.width=this.width-2*this.padding,a.height=this.bodyheight,idev.isIE()&&(a.height=this.bodyheight-2*this.padding),a.hideType="visibility"),b=this.id+"-content";a.parent=
this;a.page=this.page;this.widgets.push(a);idev.isClass(a)?(a.renderTo=b,a.render()):(a.renderTo=b,idev.internal.renderWidget(this.page,a));return!0},setTitle:function(a){this.title&&$("#"+this.id+"-titletext").html(a)},getTitle:function(){return this.title?$("#"+this.id+"-titletext").html():""}}),widgetTextField:baseWidget.extend({init:function(a){22>a.height&&(a.height=22);this._super(a);this.wtype="input";this.inputType=a.inputType||"text";this.inputStyle=a.inputStyle||"";this.inputCls=a.inputCls||
"";this.editable=null==a.editable?!0:a.editable;this.watermark=a.watermark||"";this.watermarkColor=a.watermarkColor||"#aaa";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-frame {cls}' style='{elementstyle};{style};'>","<input id='{id}-input' type='{inputtype}' class='ui-input {inputcls}' style='width:{width}px;height:{height}px;{inputstyle}'  value='{value}'/>","</div>");idev.internal.add(this);""!=this.inputCls&&(this.inputCls+="  ie9gradient")},setValue:function(a){var b=$("#"+
this.id+"-input").val();this.watermark==b&&($("#"+this.id+"-input").val(""),$("#"+this.id+"-input").css("color",""));""==a&&""!=this.watermark?($("#"+this.id+"-input").val(this.watermark),$("#"+this.id+"-input").css("color",this.watermarkColor)):$("#"+this.id+"-input").val(a)},getValue:function(){var a=$("#"+this.id+"-input").val();this.watermark==a&&""!=this.watermark&&(a="");return a},render:function(){if(null!=this.renderTo){var a=this.value,b=this.inputStyle,c=this.style;""!=this.watermark&&""==
a&&(a=this.watermark,b+="color:"+this.watermarkColor+";");""!=this.borderStyle&&(c+=";border:"+this.borderStyle);this.roundCorner||(c+=";border-radius: 0px;");var d=[];d.id=this.id;d.cls=this.cls;d.elementstyle=this.elementStyle;d.style=c;d.value=a;d.width=this.width-4;d.height=this.height-4;d.inputcls=this.inputCls;d.inputstyle=b;this.autoScroll&&(d.inputstyle=this.style+";overflow:auto;");d.inputtype="number"==this.inputType?"text":this.inputType;a=this.tpl.render(d);idev.internal.beforeRender(this);
$("#"+this.renderTo).append(a);this.roundCorners&&(DD_roundies.addRule("#"+this.id,this.radius+"px",!0),$("#"+this.id).css("border-radius",this.radius+"px"));if(this.hidden)this.onhide();idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);$("#"+this.id+"-input").blur(idev.internal.onLostFocus);$("#"+this.id+"-input").focus(idev.internal.onFocus);this.events.change&&$("#"+this.id).change(idev.internal.onChange);
$("#"+this.id).keydown({widget:this},function(a){var b=a.data.widget;if(!b.editable){a.preventDefault();return false}if(b.watermark!=""&&$("#"+b.id+"-input").val()==b.watermark){$("#"+b.id+"-input").val("");$("#"+b.id+"-input").css("color","")}if(b.inputType=="number"&&!(a.keyCode==46||a.keyCode==13||a.keyCode==8||a.keyCode==9||a.keyCode==37||a.keyCode==39||a.keyCode==190))if((a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105)){a.preventDefault();return false}});$("#"+this.id).keyup({widget:this},
function(a){var b=a.data.widget;if(b.wtype=="input"&&a.keyCode==13&&b.events.onenter){b.events.onenter(b);a.preventDefault();return false}b.events.keyup&&b.events.keyup(b,a)});this.events.keypress&&$("#"+this.id).keypress(idev.internal.onKeypress);this.rendered=!0}},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-input").width(a-4);$("#"+this.id+"-input").height(b-4)}}),widgetTextArea:baseWidget.extend({init:function(a){this._super(a);this.wtype="textarea";
this.editable=null==a.editable?!0:a.editable;this.watermark=a.watermark||"";this.inputCls=a.inputCls||"";this.inputStyle=a.inputStyle||"";this.watermarkColor=a.watermarkColor||"#aaa";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-frame {cls}' style='{elementstyle};{style}'>","<textarea id='{id}-input' class='ui-textarea {inputcls}'  style='width:{width}px;height:{height}px;{inputstyle};'>{value}</textarea>","</div>");idev.internal.add(this);""!=this.inputCls&&(this.inputCls+="  ie9gradient")},
setValue:function(a){var b=$("#"+this.id+"-input").val();this.watermark==b&&($("#"+this.id+"-input").val(""),$("#"+this.id+"-input").css("color",""));""==a&&this.watermark?($("#"+this.id+"-input").val(this.watermark),$("#"+this.id+"-input").css("color",this.watermarkColor)):$("#"+this.id+"-input").val(a)},getValue:function(){var a=$("#"+this.id+"-input").val();this.watermark==a&&(a="");return a},render:function(){if(null!=this.renderTo){var a=this.value,b=this.inputStyle,c=this.style;""!=this.watermark&&
""==a&&(a=this.watermark,b+="color:"+this.watermarkColor+";");this.autoScroll&&(b+=";overflow:auto;");""!=this.borderStyle&&(c+=";border:"+this.borderStyle);this.roundCorner||(c+=";border-radius: 0px;");var d=[];d.id=this.id;d.cls=this.cls;d.elementstyle=this.elementStyle;d.style=c;d.inputstyle=b;d.inputcls=this.inputCls;d.width=this.width-10;d.height=this.height-10;d.value=a;a=this.tpl.render(d);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.roundCorners&&(DD_roundies.addRule("#"+
this.id,this.radius+"px",!0),$("#"+this.id).css("border-radius",this.radius+"px"));idev.internal.afterRender(this);$("#"+this.id+"-input").blur(idev.internal.onLostFocus);$("#"+this.id+"-input").focus(idev.internal.onFocus);this.events.change&&$("#"+this.id).change(idev.internal.onChange);$("#"+this.id).keydown({widget:this},function(a){var b=a.data.widget;if(!b.editable){a.preventDefault();return false}if(b.watermark!=""&&$("#"+b.id+"-input").val()==b.watermark){$("#"+b.id+"-input").val("");$("#"+
b.id+"-input").css("color","")}});$("#"+this.id).keyup({widget:this},function(a){var b=a.data.widget;if(b.wtype=="textarea"&&a.keyCode==13&&b.events.onenter){b.events.onenter(b);a.preventDefault();return false}});this.events.keypress&&$("#"+this.id).keypress(idev.internal.onKeypress);this.rendered=!0}},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-input").width(a-10);$("#"+this.id+"-input").height(b-10)}}),widgetComboBox:baseWidget.extend({init:function(a){this._super(a);
this.wtype="combo";this.inputType=a.inputType;this.editable=null==a.editable?!0:a.editable;this.height=null==a.height?22:a.height;null==this.inputType&&(this.inputType="text");null==this.inputStyle&&(this.inputStyle="");this.watermark=a.watermark||"";this.watermarkColor=a.watermarkColor||"#aaa";this.ds=a.ds;this.listTpl=a.listTpl;this.displayField=a.displayField||"";this.inputStyle=a.inputStyle||"";this.valueField=a.valueField||"";this.listEntryHeight=a.listEntryHeight||18;this.visibleEntrys=a.visibleEntrys||
4;this.listHeight=(this.listEntryHeight+4)*this.visibleEntrys;this.iconColor=a.iconColor;this.selectColor=a.selectColor||"#eee";this.dropWidth=null==a.dropWidth?this.width-(this.roundCorners?6:0):a.dropWidth;this.autoSelect=null==a.autoSelect?!0:a.autoSelect;null!=this.ds&&(this.visibleEntrys>this.ds.getCount()&&(this.visibleEntrys=this.ds.getCount()||1,this.listHeight=(this.listEntryHeight+4)*this.visibleEntrys),this.ds.bind(this));this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-frame {cls}' style='{elementstyle};{style};'>",
"<input id='{id}-input' type='{inputtype}' class='ui-input' style='float:left;width:{width}px;height:{height}px;{inputstyle}'  value='{value}'/>","<div id='{id}-button' style='float:right;max-width:{buttonwidth}px;'></div>","<div id='{id}-list' style='z-index:9999;'></div>","</div>");""!=this.displayField&&""==this.valueField&&(this.valueField=this.displayField);""==this.displayField&&(this.displayField=this.ds.getFieldName(0));""==this.valueField&&(this.valueField=this.ds.getFieldName(0));null==
this.listTpl&&(this.listTpl=new idev.wTemplate("<div style='max-height:{entryheight}px;height:{entryheight}px;padding:2px;font-size:10pt;'>{"+this.displayField+"}</div>"));idev.internal.add(this)},setInputValue:function(a){var b=$("#"+this.id+"-input").val();this.watermark==b&&($("#"+this.id+"-input").val(""),$("#"+this.id+"-input").css("color",""));""==a&&""!=this.watermark?($("#"+this.id+"-input").val(this.watermark),$("#"+this.id+"-input").css("color",this.watermarkColor)):$("#"+this.id+"-input").val(a)},
setValue:function(a){if(""==a)this.setInputValue(a),this.list.selected=-1;else if(null!=this.ds){this.editable&&this.setInputValue(a);var b=this.ds.find(this.valueField,a,0,!1,!1);-1!=b&&(a=this.ds.getAt(b).get(this.displayField),this.setInputValue(a),a=this.list,a.autoSelect&&(-1!=a.selected&&($("#"+a.id+"_"+a.selected).addClass(a.entryCls),$("#"+a.id+"_"+a.selected).removeClass(a.selectCls),""!=this.selectColor&&a.updateItem(a.selected,"background-color","transparent")),""!=a.selectCls&&($("#"+
this.id).removeClass(a.entryCls),$("#"+this.id).addClass(a.selectCls)),""!=this.selectColor&&a.updateItem(b,"background-color",this.selectColor)),this.list.selected=b)}},getInputValue:function(){var a=$("#"+this.id+"-input").val();this.watermark==a&&(a="");return a},getValue:function(){return-1==this.list.getSelected()||null==this.ds?"":this.ds.getAt(this.list.getSelected()).get(this.valueField)},render:function(){if(null!=this.renderTo)if(null==this.ds)$debug("No Combo DS");else{var a="",b=this.inputStyle,
c=this.height+2,d=this.style+(this.roundCorners?"":";border-radius: 0px;");idev.isIPad()&&(c+=12);""!=this.watermark&&(a=this.watermark,b+="color:"+this.watermarkColor+";");""!=this.borderStyle&&(d+=";border:"+this.borderStyle);var f=[];f.id=this.id;f.cls=this.cls;f.elementstyle=this.elementStyle;f.style=d;f.value=a;f.width=this.width-c-4;f.height=this.height-4;f.buttonwidth=this.height;f.inputstyle=b;this.autoScroll&&(f.inputstyle=this.style+";overflow:auto;");f.inputtype="number"==this.inputType?
"text":this.inputType;a=this.tpl.render(f);$("#"+this.renderTo).append(a);this.roundCorners&&(DD_roundies.addRule("#"+this.id,this.radius+"px",!0),$("#"+this.id).css("border-radius",this.radius+"px"));$delay(100,function(a){var b=0.85;a.height<34&&(b=b*(a.height/34));a.btn=new idev.ui.widgetButton({parent:a,renderTo:a.id+"-button",width:a.height-1,height:a.height,icon:"arrow",iconAlign:"center",iconRotation:90,iconColor:a.iconColor,iconScale:b,events:{click:function(a){if(a.parent.visible)a.parent.list.hide();
else{if(idev.hideWidget){idev.hideWidget.parent.visible=false;idev.hideWidget.hide()}var b=$("#"+a.parent.id).height(),c=$("#"+a.parent.id).offset(),d=c.left,b=c.top+b;a.parent.roundCorners&&(d=d+4);c=a.parent.list.getScrollPos();$("#"+a.parent.list.id).css("left",d);$("#"+a.parent.list.id).css("top",b);a.parent.list.show();a.parent.list.setScrollPos(c);idev.hideWidget=a.parent.list}a.parent.visible=a.parent.visible?false:true}}});b=[];b.entryheight=a.listEntryHeight;a.btn.render();var c=$("#"+a.id).height(),
d=$("#"+a.id).offset();a.list=new idev.ui.widgetList({parent:a,renderTo:"container",x:d.left+(a.roundCorners?4:0),y:d.top+c+1,width:a.dropWidth,height:a.listHeight,listEntryHeight:a.listEntryHeight,hidden:true,visible:false,cls:"ui-combo-droplist",autoScroll:true,autoSelect:a.autoSelect,ds:a.ds,border:true,tpl:a.listTpl,itemStyle:"border:0px solid #fff;",metaData:b,events:{click:function(a,b,c){var d=a.getStore().getAt(b).get(a.parent.valueField);a.parent.visible=false;c!=-1&&a.updateItem(c,"background-color",
"transparent");a.updateItem(b,"background-color",a.selectColor);a.hide();a.parent.setValue(d);idev.hideWidget=null;a.parent.events.selected&&a.parent.events.selected(a.parent);a.parent.events.change&&b!=c&&a.parent.events.change(a.parent)},hover:function(a,b,c){b.parent.events.hover&&b.parent.events.hover(a,this,c.selected)}}});a.list.render();idev.internal.afterRender(a);a.events.click&&$("#"+a.id).click(idev.internal.onClick);a.events.dblclick&&$("#"+a.id).dblclick(idev.internal.onDblClick);$("#"+
a.id+"-input").blur(idev.internal.onLostFocus);$("#"+a.id+"-input").focus(idev.internal.onFocus);a.events.change&&$("#"+a.id).change(idev.internal.onChange);$("#"+a.id).keydown(function(b){var c=idev.get(a.id);if(!c.editable){b.preventDefault();return false}if(c.watermark!=""&&$("#"+c.id+"-input").val()==c.watermark){$("#"+c.id+"-input").val("");$("#"+c.id+"-input").css("color","")}});$("#"+a.id).keyup(function(b){var c=idev.get(a.id);if(c.wtype=="combo"){if(c.watermark!=""&&$("#"+c.id+"-input").val()==
""){var d=document.getElementById(c.id+"-input");$("#"+c.id+"-input").val(c.watermark);$("#"+c.id+"-input").css("color",c.watermarkColor);if(d.createTextRange){d=d.createTextRange();d.move("character",0);d.select()}else if(d.selectionStart){d.focus();d.setSelectionRange(0,0)}else d.focus()}if(b.keyCode==13&&c.events.onenter){c.events.onenter(c);b.preventDefault();return false}}});$("#"+a.id).keypress(idev.internal.onKeypress);a.setValue(a.value);a.rendered=true},this)}},refresh:function(){this.visibleEntrys>
this.ds.getCount()?(this.visibleEntrys=this.ds.getCount()||1,this.listHeight=(this.listEntryHeight+4)*this.visibleEntrys,$("#"+this.list.id).height(this.listHeight),$("#"+this.list.id).css("max-height",this.listHeight+"px")):1==this.visibleEntrys&&1<this.ds.getCount()&&(this.visibleEntrys=this.ds.getCount()||1,8<this.visibleEntrys&&(this.visibleEntrys=8),this.listHeight=(this.listEntryHeight+4)*this.visibleEntrys,$("#"+this.list.id).height(this.listHeight),$("#"+this.list.id).css("max-height",this.listHeight+
"px"),$("#"+this.list.id+"-wrapper").height(this.listHeight),$("#"+this.list.id+"-wrapper").css("max-height",this.listHeight+"px"))},ondestroy:function(){this.btn.destroy();this.list.destroy()},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-input").width(a-4);$("#"+this.id+"-input").height(b-4)}}),widgetCheckbox:baseWidget.extend({init:function(a){22>a.width&&(a.width=22);22>a.height&&(a.height=22);this._super(a);this.wtype="checkbox";this.checked=null==
a.checked?!1:a.checked;this.text=a.text||"";this.textStyle=a.textStyle||"";this.align=a.align||"left";this.resizer.handlers="n,s,w,e,";this.nvalue=a.nvalue||"";this.resizer.resizeColor="#fff";this.tpl="right"==this.align?new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","<table width=100% style='{style}'>","<tr>","<td width='20px'>","<div id='{id}-input' class='ui-checkbox {cls}' style='width:20px;height:20px' >&nbsp;&nbsp;&nbsp;&nbsp;","</div>","</td>","<td id='{id}-text'>",
"<span style='{textStyle}'>{text}</span>","</td>","</tr>","</table>","</div>"):new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","<table width=100% style='{style}'>","<tr>",""==this.text?"":"<td id='{id}-text'><span style='{textStyle}'>{text}</span></td>","<td width='22px'>","<div id='{id}-input' style='width:20px;height:20px' class='ui-checkbox {cls}'>&nbsp;&nbsp;&nbsp;&nbsp;","</div>","</td>","</tr>","</table>","</div>");idev.internal.add(this)},isChecked:function(){return $("#"+
this.id+"-input").hasClass("ui-checkbox-on")},getValue:function(){return this.isChecked()?this.value:this.nvalue},check:function(a){var b=$("#"+this.id+"-input").hasClass("ui-checkbox-on");a&&!b&&$("#"+this.id+"-input").toggleClass("ui-checkbox-on");!a&&b&&$("#"+this.id+"-input").toggleClass("ui-checkbox-on")},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.cls=this.checked?"ui-checkbox-on":"";a.elementstyle=this.elementStyle;a.textStyle=this.textStyle;a.text=this.text;a=this.tpl.render(a);
idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);$("#"+this.id+"-input").click(function(){var a=idev.get(this.id.replace("-input",""));a.resizer.isResizing()||$(this).toggleClass("ui-checkbox-on");a.events.change&&a.events.change(a)});this.rendered=!0}},doLayout:function(){$("#"+this.id).width();$("#"+this.id).height()}}),widgetSwitch:baseWidget.extend({init:function(a){a.width=94;a.height=27;this._super(a);this.wtype="switch";this.on=null==a.on?!1:a.on;
this.resizer.resizable=!1;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","<div id='{id}-input' class='ui-switch {cls}'>","<img src='"+idev.blankimage+"' style='width:94px;height:27px'/>","</div>","</div>");idev.internal.add(this)},isOn:function(){return $("#"+this.id+"-input").hasClass("ui-switch-on")},setOn:function(a){var b=$("#"+this.id+"-input").hasClass("ui-switch-on");a&&!b&&$("#"+this.id+"-input").toggleClass("ui-switch-on");!a&&b&&$("#"+this.id+"-input").toggleClass("ui-switch-on")},
render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.cls=this.on?"ui-switch-on":"";a.elementstyle=this.elementStyle;a.style=this.style;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);$("#"+this.id+"-input").click(function(){idev.get(this.id.replace("-input","")).resizer.isResizing()||$(this).toggleClass("ui-switch-on")});this.events.change&&$("#"+this.id).click(idev.internal.onChange);this.rendered=!0}},doLayout:function(){$("#"+
this.id).width();$("#"+this.id).height()}}),widgetRadio:baseWidget.extend({init:function(a){this._super(a);this.wtype="radio";this.checked=null==a.checked?!1:a.checked;this.group=null==a.group?"":a.group;this.text=a.text||"";this.textStyle=a.textStyle||"";this.align=a.align||"left";this.resizer.handlers="n,s,w,e,";this.tpl="right"==this.align?new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","<table width=100% style='{style}'>","<tr>","<td width='20px'>","<div id='{id}-input' style='width:20px;height:20;px' group='{group}' class='ui-radio-off {cls}'>&nbsp;&nbsp;&nbsp;&nbsp;",
"</div>","</td>","<td id='{id}-text'>","<span style='{textStyle}'>{text}</span>","</td>","</tr>","</table>","</div>"):new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>","<table width=100% style='{style}'>","<tr>","<td id='{id}-text'>","<span style='{textStyle}'>{text}</span>","</td>","<td width='20px'>","<div id='{id}-input' style='width:20px;height:20;px' group='{group}' class='ui-radio-off {cls}'>&nbsp;&nbsp;&nbsp;&nbsp;","</div>","</td>","</tr>","</table>","</div>");
idev.internal.add(this)},isChecked:function(){return $("#"+this.id+"-input").hasClass("ui-radio-on")},getValue:function(){for(var a=0;a<idev.widgets.length;a++){var b=idev.widgets[a];if("radio"==b.wtype&&b.group==this.group&&b.isChecked())return b.value}},check:function(a){var b=$("#"+this.id+"-input").hasClass("ui-radio-on");a&&!b&&$("#"+this.id+"-input").toggleClass("ui-radio-on");!a&&b&&$("#"+this.id+"-input").toggleClass("ui-radio-on")},handleRadio:function(){if(!this.isChecked()){this.check(!0);
for(var a=0;a<idev.widgets.length;a++){var b=idev.widgets[a];b.id!=this.id&&"radio"==b.wtype&&b.group==this.group&&b.check(!1)}this.events.click&&this.events.click(this)}},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.cls=this.checked?"ui-radio-on":"";a.elementstyle=this.elementStyle;a.style=this.style;a.textStyle=this.textStyle;a.text=this.text;a.group=this.group;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);
$("#"+this.id).click(function(){idev.get(this.id).handleRadio()});this.rendered=!0}},doLayout:function(){$("#"+this.id).width();$("#"+this.id).height()}}),widgetButton:baseWidget.extend({init:function(a){a.hideType="visibility";a.height=null==a.height?38:a.height;this._super(a);var b="",c="",d="#fff",f="#fff",g=16,j="normal",l=6,m,k=!1;this.wtype="button";this.width=null==this.width?80:this.width;this.icon=null==a.icon?"":a.icon;this.iconAlign=null==a.iconAlign?"left":a.iconAlign.toLowerCase();this.text=
null==this.config.text?"":this.config.text;this.color=null==this.config.color?"":this.config.color;this.transparent=null==this.config.transparent?!1:this.config.transparent;if(""==this.color&&!this.transparent)if(_preferences){if(_preferences.button.startcolor&&(b=_preferences.button.startcolor),_preferences.button.endcolor&&(c=_preferences.button.endcolor),_preferences.button.fontcolor&&(d=_preferences.button.fontcolor),_preferences.button.iconcolor&&(f=_preferences.button.iconcolor),_preferences.button.fontsize&&
(g=_preferences.button.fontsize),_preferences.button.fontweight&&(j=_preferences.button.fontweight),_preferences.button.radius&&(l=_preferences.button.radius),_preferences.button.bordercolor&&(m=_preferences.button.bordercolor),_preferences.button.border)k=_preferences.button.border}else this.color="blue";this.radius=null==this.config.radius?l:this.config.radius;this.startColor=null==this.config.startColor?b:this.config.startColor;this.endColor=null==this.config.endColor?c:this.config.endColor;this.fontColor=
null==this.config.fontColor?d:a.fontColor;this.fontSize=null==this.config.fontSize?g:this.config.fontSize;this.fontWeight=null==this.config.fontWeight?j:this.config.fontWeight;this.iconColor=null==this.config.iconColor?f:this.config.iconColor;this.iconRotation=null==this.config.iconRotation?0:this.config.iconRotation;this.iconScale=null==this.config.iconScale?0.6:this.config.iconScale;this.toggle=null==this.config.toggle?!1:this.config.toggle;this.down=!1;this.ix=null==this.config.ix?0:this.config.ix;
this.iy=null==this.config.iy?0:this.config.iy;if(""!=this.color&&(idev.colors.gradientColors(this),null!=this.config.fontColor&&(this.fontColor=this.config.fontColor),null!=this.config.fontSize&&(this.fontSize=this.config.fontSize),null!=this.config.fontWeight))this.fontSize=this.config.fontWeight;m||(m=b);this.borderColor=this.config.borderColor||m;this.path=this.config.path;this.shape=null==this.config.shape?null:this.config.shape.toLowerCase();this.gradient=null==a.gradient?null:this.config.gradient.toLowerCase();
this.rx=null==this.config.rx?0.5:this.config.rx;this.ry=null==this.config.ry?0.5:this.config.ry;this.textXOffset=null==this.config.textXOffset?0:this.config.textXOffset;this.textYOffset=null==this.config.textYOffset?0:this.config.textYOffset;this.border=null==this.config.border?k:this.config.border;this.image=this.config.image;this.imageFill=this.config.imageFill;this.title=this.config.title||"";this.startTColor=null==this.config.startTColor?this.endColor:this.config.startTColor;this.endTColor=null==
this.config.endTColor?this.startColor:this.config.endTColor;if(null!=this.image&&(null==this.image.x&&(this.image.x=0),null==this.image.y&&(this.image.y=0),null==this.image.width&&(this.image.width=20),null==this.image.height))this.image.height=20;this.icon=this.icon.replace("ui-icon-","");this.icon=this.icon.replace("-white","");this.icon=this.icon.replace("-black","");this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element {buttoncls}' style='{elementstyle}{style}' title='{title}'><div id='{id}-body' class='{buttonbodycls}' style='height:{bodyheight}px;'></div></div>");
""!=this.startColor&&""!=this.endColor&&(this.color="");idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a="",b=a="";if(-1!=idev.agent.indexOf("android 2.")||_preferences.useCSS3||null==Raphael)a="ui-button ie9gradient",b="ui-button-body ie9gradient",this.color&&!this.transparent&&(b+="-"+this.color.toLowerCase()),this.transparent&&(b+="-transparent"),""!=this.borderColor&&(this.elementStyle+="border:1px solid "+this.borderColor+";"),this.style+="margin-top:1px;";var c=[];c.id=
this.id;c.width=this.width;c.height=this.height;c.bodyheight=this.height-2;c.elementstyle=this.elementStyle;c.title=this.title;c.style=this.style;c.buttoncls=a;c.buttonbodycls=b;a=this.tpl.render(c);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.utils.delay(100,function(a){if(-1!=idev.agent.indexOf("android 2.")||_preferences.useCSS3||null==Raphael){var b="";""==a.text&&"arrow"==a.icon&&(a.text="<img src='"+_preferences.libpath+"images/arrow.png'>");""==a.text&&"calendar"==a.icon&&
(a.text="<img src='"+_preferences.libpath+"images/calendar.png'>");"#"!=a.fontColor.substr(0,1)&&(a.fontColor="#"+a.fontColor);null!=a.image&&null!=a.image.src&&(b="<img style='float:left;margin:2px;' src='"+a.image.src+"'>");b="<div><span style='position:absolute;top:0px;left:0px;line-height:"+a.height+"px;width:"+a.width+"px;color:"+a.fontColor+";font-size:"+a.fontSize+"px;'>"+b+"<center>"+a.text+"</center></span></div>";$("#"+a.id+"-body").html(b)}else{a.paper=Raphael(a.id,a.width,a.height);a.paper.safari();
a.transparent?a.border&&(a.object=a.paper.rect(1.5,1.5,a.width-2,a.height-2,a.radius),a.object.attr({stroke:a.borderColor,"stroke-width":"0.25",cursor:"pointer"})):(b=a.border?3:2,a.object=null!=a.path?a.paper.path(a.path):"circle"==a.shape?a.paper.circle(a.width/2,a.height/2,a.radius-2):"ellipse"==a.shape?a.paper.ellipse(a.width/2,a.height/2,a.width/2-2,a.height/2-2):a.paper.rect(1.5,1.5,a.width-b,a.height-b,a.radius),a.border?a.object.attr({stroke:a.borderColor,"stroke-width":"0.3",cursor:"pointer"}):
a.object.attr({"stroke-width":"0.05",cursor:"pointer"}),null!=a.imageFill?a.object.attr({fill:"url("+a.imageFill+")"}):"radial"==a.gradient?a.object.attr({fill:"r("+a.rx+","+a.ry+")"+a.endColor.toLowerCase()+"-"+a.startColor.toLowerCase()}):a.object.attr({fill:"90-"+a.startColor.toLowerCase()+"-"+a.endColor.toLowerCase()}));""!=a.text&&(a.transparent&&null!=a.image?(4>a.textXOffset&&(a.textXOffset=4),a.tx=a.paper.text(a.image.width+a.textXOffset,a.height/2+a.textYOffset,a.text).attr({"text-anchor":"start"})):
a.tx=a.paper.text(a.width/2+a.textXOffset,a.height/2+a.textYOffset,a.text),a.enabled?a.tx.attr({fill:a.fontColor,stoke:a.fontColor,"stroke-width":"0.1","font-size":a.fontSize,"font-weight":a.fontWeight,cursor:"pointer"}):a.tx.attr({fill:"#888",stoke:"#222","stroke-width":"0.1","font-size":a.fontSize,"font-weight":a.fontWeight,cursor:"pointer"}));null!=a.image&&null!=a.image.src&&(a.graphic=a.paper.image(a.image.src,a.image.x,a.image.y,a.image.width,a.image.height),"function"==typeof a.events.click&&
a.graphic.attr("cursor","pointer"));b="";""!=a.icon&&(b=eval("icon."+a.icon));if(""!=b)if(a.ic=a.paper.path(b).attr({fill:a.iconColor,stroke:"none"}),"center"==a.iconAlign){a.ic.scale(a.iconScale,a.iconScale);bbox=a.ic.getBBox();var b=a.width/2-(bbox.x+bbox.width/2),c=a.height/2-(bbox.y+bbox.height/2),b=b*(2-a.iconScale),c=c*(2-a.iconScale);a.ic.translate(b+a.ix,c+a.iy);0!=a.iconRotation&&a.ic.rotate(a.iconRotation)}else a.ic.scale(a.iconScale,a.iconScale),"left"==a.iconAlign?a.ic.translate(-4+a.ix,
-4+a.iy):a.ic.translate(a.width+8+a.ix,-4+a.iy),0!=a.iconRotation&&a.ic.rotate(a.iconRotation,16,18);a.hidden&&a.hide()}},this);idev.internal.afterRender(this);"function"==typeof this.events.click&&$("#"+this.id).click(function(a){var b=idev.get(this.id);if(b.toggle){var c=!0;b.events.canToggle&&(c=b.events.canToggle(b));c&&(b.down?(b.down=!1,b.object.attr({fill:"90-"+b.startColor.toLowerCase()+"-"+b.endColor.toLowerCase()})):(b.down=!0,b.object.attr({fill:"90-"+b.startTColor.toLowerCase()+"-"+b.endTColor.toLowerCase()})),
idev.internal.onClick.call(this,a))}else idev.internal.onClick.call(this,a)});this.rendered=!0}},textColor:function(a){this.tx.attr({fill:a,stoke:a})},setText:function(a){this.text=a;this.tx.attr({text:a})},getText:function(){return this.text},isDown:function(){return his.down},toggleButton:function(a){(this.down=a)?this.object.attr({fill:"90-"+this.startTColor.toLowerCase()+"-"+this.endTColor.toLowerCase()}):this.object.attr({fill:"90-"+this.startColor.toLowerCase()+"-"+this.endColor.toLowerCase()})},
reColor:function(a,b){this.object.attr({fill:"90-"+a.toLowerCase()+"-"+b.toLowerCase()})},ondestroy:function(){this.paper&&this.paper.remove()},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();this.object.paper.setSize(a,b);this.object.attr("width",a-2);this.object.attr("height",b-2)}}),widgetButtonFwd:baseWidget.extend({init:function(a){a.hideType="visibility";this._super(a);this.wtype="buttonfwd";this.width=null==this.width?80:this.width;this.height=null==this.height?40:
this.height;this.text=null==a.text?"":a.text;this.color=null==a.color?"blue":a.color;this.radius=null==a.radius?6:a.radius;this.startColor=null==a.startColor?"":a.startColor;this.endColor=null==a.endColor?"":a.endColor;this.fontColor=null==a.fontColor?"#fff":a.fontColor;this.fontSize=null==a.fontSize?16:a.fontSize;this.fontWeight=null==a.fontWeight?"normal":a.fontWeight;this.height=null==a.height?40:a.height;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element {buttoncls}' style='{elementstyle};height:{height}px'></div>");
""!=this.startColor&&""!=this.endColor&&(this.color="");idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.width=this.width;a.height=this.height;a.elementstyle=this.elementStyle;a.buttoncls=-1!=idev.agent.indexOf("android 2.")?"ui-button ie9gradient":"";idev.colors.gradientColors(this);idev.internal.beforeRender(this);a=this.tpl.render(a);$("#"+this.renderTo).append(a);idev.utils.delay(100,function(a){a.paper=Raphael(a.id,a.width,a.height);var c="",d=a.height/
10,f=a.height/2,g=a.radius,j=a.width,l=[];l.push({t:"M",x:1,y:g});l.push({t:"C",x:g,y:1,cx:1,cy:1});l.push({t:"L",x:j-f-d,y:1});l.push({t:"C",x:j-f+d,y:d,cx:j-f,cy:1});l.push({t:"L",x:j-2,y:f});l.push({t:"L",x:j-f+d,y:2*f-d});l.push({t:"C",x:j-f-d,y:2*f-1,cx:j-f,cy:2*f-1});l.push({t:"L",x:g,y:2*f-1});l.push({t:"C",x:1,y:2*f-g-1,cx:1,cy:2*f-1});for(d=0;d<l.length;d++)g=l[d],"C"==g.t?(j=l[d-1],c+=g.t+j.x+" "+j.y+" "+g.cx+" "+g.cy+" "+g.x+" "+g.y):c+=g.t+g.x+" "+g.y;a.rect=a.paper.path(c+"Z");a.border?
a.rect.attr({"stroke-width":"0.25",cursor:"pointer"}):a.rect.attr({"stroke-width":"0.05",cursor:"pointer"});a.rect.attr({fill:"90-"+a.startColor.toLowerCase()+"-"+a.endColor.toLowerCase()});a.border&&a.rect.glow({width:1,color:a.endColor});a.tx=a.paper.text(a.width/2-f/3,a.height/2,a.text);a.enabled?a.tx.attr({fill:a.fontColor,stoke:a.fontColor,"stroke-width":"0.1","font-size":a.fontSize,"font-weight":a.fontWeight,cursor:"pointer"}):a.tx.attr({fill:"#888",stoke:"#222","stroke-width":"0.1","font-size":a.fontSize,
"font-weight":a.fontWeight,cursor:"pointer"});ic=a.paper.path(icon.arrow).attr({fill:"#fff",stroke:"none"});ic.scale(0.6,0.6);ic.translate(a.width+16,a.height/2-14);a.hidden&&a.hide()},this);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.rendered=!0}},textColor:function(a){this.tx.attr({fill:a,stoke:a})},setText:function(a){this.text=a;this.tx.attr({text:a})},getText:function(){return this.text},reColor:function(a,b){this.rect.attr({fill:"90-"+
a.toLowerCase()+"-"+b.toLowerCase()})},doLayout:function(){$("#"+this.id).width();$("#"+this.id).height()}}),widgetButtonRwd:baseWidget.extend({init:function(a){a.hideType="visibility";this._super(a);this.wtype="buttonfwd";this.width=null==this.width?80:this.width;this.height=null==this.height?40:this.height;this.text=null==a.text?"":a.text;this.color=null==a.color?"blue":a.color;this.radius=null==a.radius?6:a.radius;this.startColor=null==a.startColor?"":a.startColor;this.endColor=null==a.endColor?
"":a.endColor;this.fontColor=null==a.fontColor?"#fff":a.fontColor;this.fontSize=null==a.fontSize?16:a.fontSize;this.fontWeight=null==a.fontWeight?"normal":a.fontWeight;this.height=null==a.height?40:a.height;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element {buttoncls}' style='{elementstyle};height:{height}px;'></div>");""!=this.startColor&&""!=this.endColor&&(this.color="");idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.width=this.width;a.height=
this.height;a.elementstyle=this.elementStyle;a.buttoncls=-1!=idev.agent.indexOf("android 2.")?"ui-button ie9gradient":"";idev.colors.gradientColors(this);idev.internal.beforeRender(this);a=this.tpl.render(a);$("#"+this.renderTo).append(a);idev.utils.delay(100,function(a){a.paper=Raphael(a.id,a.width,a.height);var c="",d=a.height/10,f=a.height/2,g=a.radius,j=a.width,l=[];l.push({t:"M",x:1,y:f});l.push({t:"L",x:f-d,y:d});l.push({t:"C",x:f+d,y:1,cx:f,cy:1});l.push({t:"L",x:j-g,y:1});l.push({t:"C",x:j-
1,y:g,cx:j,cy:1});l.push({t:"L",x:j-1,y:2*f-g-1});l.push({t:"C",x:j-g,y:2*f-1,cx:j-1,cy:2*f-1});l.push({t:"L",x:f+d,y:2*f-1});l.push({t:"C",x:f-d,y:2*f-d,cx:f,cy:2*f-1});l.push({t:"L",x:1,y:f});for(d=0;d<l.length;d++)g=l[d],"C"==g.t?(j=l[d-1],c+=g.t+j.x+" "+j.y+" "+g.cx+" "+g.cy+" "+g.x+" "+g.y):c+=g.t+g.x+" "+g.y;a.rect=a.paper.path(c+"Z");a.border?a.rect.attr({"stroke-width":"0.25",cursor:"pointer"}):a.rect.attr({"stroke-width":"0.05",cursor:"pointer"});a.rect.attr({fill:"90-"+a.startColor.toLowerCase()+
"-"+a.endColor.toLowerCase()});a.border&&a.rect.glow({width:1,color:a.endColor});a.tx=a.paper.text(a.width/2+f/4,a.height/2,a.text);a.enabled?a.tx.attr({fill:a.fontColor,stoke:a.fontColor,"stroke-width":"0.1","font-size":a.fontSize,"font-weight":a.fontWeight,cursor:"pointer"}):a.tx.attr({fill:"#888",stoke:"#222","stroke-width":"0.1","font-size":a.fontSize,"font-weight":a.fontWeight,cursor:"pointer"});ic=a.paper.path(icon.arrowleft).attr({fill:"#fff",stroke:"none"});ic.scale(0.6,0.6);ic.translate(-12,
a.height/2-14);a.hidden&&a.hide()},this);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.rendered=!0}},textColor:function(a){this.tx.attr({fill:a,stoke:a})},setText:function(a){this.text=a;this.tx.attr({text:a})},getText:function(){return this.text},reColor:function(a,b){this.rect.attr({fill:"90-"+a.toLowerCase()+"-"+b.toLowerCase()})},doLayout:function(){$("#"+this.id).width();$("#"+this.id).height()}}),widgetLabel:baseWidget.extend({init:function(a){a.height=
a.height||30;this._super(a);this.wtype="label";this.text=null==a.text?"":a.text;""==this.text&&(this.text="");this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-label {cls}' style='{elementstyle};{style}'>","{text}","</div>");idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a=this.style,b=[];if(this.events.click||this.events.dblclick)a+="cursor:pointer";b.id=this.id;b.cls=this.cls;b.elementstyle=this.elementStyle;b.style=a;b.text=this.text;a=this.tpl.render(b);
idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},setText:function(a){this.text=a;$("#"+this.id).empty();$("#"+this.id).html(a)},getText:function(){return this.text},setValue:function(a){this.setText(a)},getValue:function(){return this.getText()},doLayout:function(){$("#"+this.id).width();$("#"+this.id).height()}}),
widgetImage:baseWidget.extend({init:function(a){this._super(a);this.wtype="image";this.src=a.src;this.title=a.title||"";this.html=a.html||"";this.imageWidth=null==a.imageWidth?this.width:a.imageWidth;this.imageHeight=null==a.imageHeight?this.height:a.imageHeight;this.tpl=new idev.wTemplate("<div class='ui-element' id='{id}' style='{style}'>","<img id='{id}-image' class='{cls}' src='{src}' style='width:{width}px;height:{height}px;' title='{title}'/>{html}","</div>");idev.internal.add(this)},render:function(){if(null!=
this.renderTo&&""!=this.src&&"undefined"!=this.src&&null!=this.src){var a="",a=this.style+this.elementStyle;this.events.click&&(a+="cursor:pointer;");var b=[];b.id=this.id;b.cls=this.cls;b.width=null==this.imageWidth?"":this.imageWidth;b.height=null==this.imageHeight?"":this.imageHeight;b.src="BLANK"==this.src.toUpperCase()||""==this.src?_preferences.blankimage:this.src;b.style=a;b.title=this.title;b.html=this.html;a=this.tpl.render(b);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);
idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},setSrc:function(a){$("#"+this.id+"-image").attr({src:"BLANK"==a.toUpperCase()||""==a?_preferences.blankimage:a})},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-image").width(a);$("#"+this.id+"-image").height(b)}}),widgetChart:baseWidget.extend({init:function(a){this._super(a);
this.wtype="chart";this.attr=a.attr;this.series=a.series;this.options=a.options;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}{style};padding:10px;'>","<div id='{id}-chart' style='width:{width}px;height:{height}px;'></div>","</div>");idev.internal.add(this)},render:function(){if(null!=this.renderTo&&null!=this.series&&null!=this.options){var a="",a=[];a.id=this.id;a.width=this.width;a.height=this.height;a.elementstyle=this.elementStyle;a.style="font-size: 16px;font-family: sans-serif;"+
this.style;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.utils.delay(500,function(a){a.chart=$.plot($("#"+a.id+"-chart"),a.series,a.options)},this);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-chart").width(a);$("#"+this.id+"-chart").height(b);
this.chart=$.plot($("#"+this.id+"-chart"),this.data,this.options)}}),widgetSlider:baseWidget.extend({init:function(a){this._super(a);this.wtype="slider";this.height=null==a.height?30:a.height;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};height:{height}px;'>","<div id='{id}-bar' class='ui-sliderbar' style='position:absolute;left:0px;top:{top}px;width:{width}px;height:{barheight}px;'>","</div>","<div id='{id}-slider' class='ui-slider' style='position:absolute;left:0px;top:0px;width:{sliderwidth}px;height:{sliderheight}px;'>",
"</div>","</div>");this.resizer.handlers="n,s,w,e,";idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.width=this.width-2;a.height=this.height;a.barheight=this.height/2;a.sliderheight=this.height-2;a.sliderwidth=this.height/2;a.top=this.height/4;a.elementstyle=this.elementStyle;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);$("#"+
this.id).mousedown(function(a){var c=parseInt($("#"+this.id).css("width").replace("px",""));-1!=a.target.id.indexOf("-slider")&&(idev._sliderWidget=idev.get(this.id),mpos=idev.utils.mousePosition(a),idev._slider=a.target,idev._sliderpos=parseInt(mpos.x),idev._sliding=!0,idev._sliderstart=$(a.target).css("left").replace("px",""),idev._sliderwidth=c-(parseInt($(a.target).css("width").replace("px",""))+2),a.preventDefault())});$("#"+this.id).mousemove(function(a){if(idev._sliding){mpos=idev.utils.mousePosition(a);
var c=parseInt(mpos.x)-idev._sliderpos,c=parseInt(idev._sliderstart)+parseInt(c);0<=c&&c<idev._sliderwidth&&$(idev._slider).css("left",c+"px");a.preventDefault();if(idev._sliderWidget.events.onchange)idev._sliderWidget.events.onchange(idev._sliderWidget,idev._sliderWidget.getValue())}});$("#"+this.id).mouseup(function(){idev._sliding=!1});idev.isTouch()&&(a=document.getElementById(this.id),a.addEventListener("touchstart",function(a){var c=parseInt($("#"+this.id).css("width").replace("px",""));if(-1!=
a.target.id.indexOf("-slider")){var d=a.touches[0];idev._sliderWidget=idev.get(this.id);idev._slider=a.target;idev._sliderpos=d.pageX;idev._sliding=!0;idev._sliderstart=$(a.target).css("left").replace("px","");idev._sliderwidth=c-parseInt($(a.target).css("width").replace("px",""))}}),a.addEventListener("touchmove",function(a){if(idev._sliding){var c=a.touches[0].pageX-idev._sliderpos,c=parseInt(idev._sliderstart)+parseInt(c);0<=c&&c<idev._sliderwidth&&$(idev._slider).css("left",c+"px");a.preventDefault();
if(idev._sliderWidget.events.onchange)idev._sliderWidget.events.onchange(idev._sliderWidget,idev._sliderWidget.getValue())}}),a.addEventListener("touchend",function(){idev._sliding=!1}));this.rendered=!0;this.setValue(this.value)}},getValue:function(){var a=parseInt($("#"+this.id+"-slider").css("left").replace("px","")),b=$("#"+this.id).width(),c=$("#"+this.id).height();return idev.utils.round(a/(b-c/2-2),2)},setValue:function(a){if(!(0>a||1<a)){parseInt($("#"+this.id+"-slider").css("left").replace("px",
""));var b=$("#"+this.id).width(),c=$("#"+this.id).height();$("#"+this.id+"-slider").css("left",(b-c/2-2)*a);if(this.events.onchange)this.events.onchange(this,a)}},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-bar").width(a-2);$("#"+this.id+"-bar").css("top",b/4);$("#"+this.id+"-bar").height(b/2);$("#"+this.id+"-slider").width(b/2);$("#"+this.id+"-slider").height(b-2);this.setValue(this.value)},beforeResize:function(){this.value=this.getValue()}}),widgetProgress:baseWidget.extend({init:function(a){this._super(a);
this.wtype="progressbar";this.height=null==a.height?30:a.height;this.roundCorners=null==a.roundCorners?!1:a.roundCorners;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};height:{height}px;'>","<div id='{id}-bar' class='ui-progressbar ie9gradient' style='position:absolute;left:0px;top:0px;width:{width}px;height:{pheight}px;'>","</div>","<div id='{id}-progress' class='ui-progress ie9gradient' style='position:absolute;left:1px;top:1px;width:{progresswidth}px;height:{progressheight}px;'>",
"</div>","</div>");this.resizer.handlers="n,s,w,e,";idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.width=this.width-2;a.height=this.height;a.pheight=this.height-2;a.progressheight=this.height-2;a.progresswidth=0;a.elementstyle=this.elementStyle;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.roundCorners&&(DD_roundies.addRule("#"+this.id,this.radius+"px",!0),$("#"+this.id).css("border-radius",this.radius+"px"),DD_roundies.addRule("#"+
this.id+"-bar",this.radius+"px",!0),$("#"+this.id+"-bar").css("border-radius",this.radius+"px"),DD_roundies.addRule("#"+this.id+"-progress",this.radius+"px",!0),$("#"+this.id+"-progress").css("border-radius",this.radius+"px"));idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.rendered=!0;this.setValue(this.value)}},getValue:function(){var a=parseInt($("#"+this.id+"-progress").css("width").replace("px",""));return idev.utils.round(a/(this.width-this.height/
2-2),2)},setValue:function(a){if(!(0>a||1<a)){var b=$("#"+this.id).width();parseInt($("#"+this.id+"-progress").css("width").replace("px",""));$("#"+this.id+"-progress").css("width",(b-2)*a)}},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-bar").width(a);$("#"+this.id+"-bar").height(b);$("#"+this.id+"-progress").height(a);this.setValue(this.value)},beforeResize:function(){this.value=this.getValue()}}),widgetIFrame:baseWidget.extend({init:function(a){this._super(a);
this.wtype="iframe";this.src=null==this.config.src?"":a.src;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};{style};'>","<iframe id='{id}-frame' src='{src}' frameborder=0 style='height:{height}px;width:{width}px;overflow:auto;'>","</iframe>","</div>");idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a=[],b=this;a.id=this.id;a.width=this.width;a.height=this.height;a.src=this.src;a.elementstyle=this.elementStyle;a.style=this.style;a=this.tpl.render(a);
idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.rendered=!0;$("#"+this.id+"-frame").load(function(){b.events.loaded&&b.events.loaded(b)})}},getSrc:function(){return this.src},setSrc:function(a){$("#"+this.id+"-frame").attr("src",a)},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();$("#"+this.id+"-frame").width(a);$("#"+this.id+"-frame").height(b)}}),widgetGrid:baseWidget.extend({init:function(a){this._super(a);this.wtype=
"grid";this.ds=a.ds;this.cm=a.cm;this.headerHeight=26;this.offset=null==a.offset?0:a.offset;this.limit=a.limit||65535;this.rowHeight=null==a.rowHeight?25:a.rowHeight;this.selectedRow=-1;this.dsFilter=a.dsFilter;this.editCol=null;this.tbarHeight=a.tbarHeight||30;this.tbarStyle=a.tbarStyle||"";this.tbarCls=a.tbarCls||"";this.tbar=a.tbar;this.bbarCls=a.bbarCls||"";this.bbarHeight=a.bbarHeight||30;this.bbarStyle=a.bbarStyle||"";this.bbar=a.bbar;this.bbCreated=this.tbCreated=!1;this.showHeader=null==a.showHeader?
!0:a.showHeader;this.editClicks=a.editClicks||1;this.showHeader||(this.headerHeight=0);null!=this.tbar?this.tbar instanceof baseWidget?this.tbCreated=!1:(a=new idev.ui.widgetToolbar,a.widgets=this.tbar,a.padding=0,this.tbar=a,this.tbar.height=this.tbarHeight,this.tbar.width=this.width,this.tbCreated=!0):this.tbarHeight=0;null!=this.bbar?this.bbar instanceof baseWidget?this.bbCreated=!1:(a=new idev.ui.widgetStatusbar,a.widgets=this.bbar,a.padding=0,this.bbar=a,this.bbar.height=this.bbarHeight,this.bbar.width=
this.width,this.bbCreated=!0):this.bbarHeight=0;var b=a="";this.tbar&&(a="<div id='{id}-tbar' class='ui-panel-tbar {tbarcls}' style='max-width:{tbarwidth}px;width:{tbarwidth}px;height:{tbarheight}px;{tbarstyle};'></div>");this.bbar&&(b="<div id='{id}-bbar' class='ui-panel-bbar {bbarcls}' style='max-width:{bbarwidth}px;width:{bbarwidth}px;height:{bbarheight}px;{bbarstyle};'></div>");this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-grid' style='{elementstyle}{style}'>",a,"<div id='{id}-body' style='height:{bodyheight}px;'>",
"</div>",b,"</div>");idev.internal.add(this);null!=this.ds&&this.ds.bind(this);""!=this.tbarCls&&(this.tbarCls+="  ie9gradient");""!=this.bbarCls&&(this.bbarCls+="  ie9gradient")},build:function(){for(var a="",b=this.totalwidth=0;b<this.cm.getCount();b++)this.totalwidth+=this.cm.getAt(b).width;if(this.showHeader){a="<table  id='"+this.id+"-grid-header' cellpadding=0 cellspacing=0 width='"+(this.totalwidth+20)+"px'>";a+="<tr>";for(b=0;b<this.cm.getCount();b++){var c=this.cm.getAt(b),d=c.width;0==b?
a+="<td width="+d+" height="+this.headerHeight+" class='ui-grid-header'><div style='float:left;padding-top:4px;width:"+(d-1)+"px;'><center>"+c.header+"</center></div></td>":(b==this.cm.getCount()-1&&(d+=25),a+="<td width="+d+" height="+this.headerHeight+" class='ui-grid-header'><div class='ui-grid-separator' style='float:left;width:1px;height:"+this.headerHeight+"px;'></div><div style='float:none;padding-top:4px;width:"+d+"px;'><center>"+c.header+"</center></div></td>")}this.htmlHeader=a+"</tr></table>"}else this.htmlHeader=
"";for(var a="<table id='"+this.id+"-grid' cellpadding=0 cellspacing=0 class='ui-grid-data' width='"+(this.totalwidth+0)+"px' >",d=0,f=this.offset;f<this.ds.getCount()&&f<this.offset+this.limit;f++){var g=this.ds.getAt(f),b=!0;this.dsFilter&&(b=this.dsFilter.call(this,g));if(b){a+="<tr height='"+this.rowHeight+"'>";for(b=0;b<this.cm.getCount();b++){var c=this.cm.getAt(b),j=[],l="";0==b&&(l+="border-left:none;");b<this.cm.getCount()-1&&(l+="border-right:none;");j.value=null!=c.renderer?c.renderer(g.get(c.field),
g,d,b,c):g.get(c.field);null!=c.style&&(l+=c.style);j.id=this.id;j.style=l+(c.style||"");f%2&&(j.cls="ui-cell-alt");c.noselect&&(j.cls=null);j.row=f;j.col=b;j.width=c.width-5;j.height=this.rowHeight;j=c.render(j,g,f,b);a+="<td id='"+this.id+"_"+f+"_"+b+"' width='"+c.width+"px' class='ui-celldata'>"+j+"</td>"}a+="</tr>";d++}}this.htmlData=a+"</table>"},render:function(){if(null!=this.renderTo&&null!=this.ds&&null!=this.cm){this.border&&(this.style+="border:"+this.borderStyle);this.bodyheight=this.height;
this.tbar&&(this.bodyheight-=parseInt(this.tbarHeight));this.bbar&&(this.bodyheight-=parseInt(this.bbarHeight));var a=[];a.id=this.id;a.width=this.width;a.bodyheight=this.bodyheight;a.tbarheight=this.tbarHeight;a.bbarheight=this.bbarHeight;a.bbarcls=this.bbarCls;a.tbarcls=this.tbarCls;a.height=this.bodyheight-this.headerHeight-this.tbarHeight-this.bbarHeight;a.elementstyle=this.elementStyle;a.style=this.style;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.tbar&&
(this.tbar.columnAlign="center",this.tbar.rowHeight=this.tbar.tbarHeight-2,this.tbar.renderTo=this.id+"-tbar",this.tbar.render());this.bbar&&(this.bbar.columnAlign="center",this.bbar.rowHeight=this.bbar.bbarHeight-2,this.bbar.renderTo=this.id+"-bbar",this.bbar.render());idev.utils.delay(100,function(a){a.refresh(true)},this);if(this.roundCorners&&(DD_roundies.addRule("#"+this.id,this.radius+"px",!0),$("#"+this.id).css("border-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-radius",this.radius+
"px"),$("#"+this.id+"-body").css("border-radius",this.radius+"px"),$("#"+this.id+"-body").css("-moz-border-radius",this.radius+"px"),a=this.radius-1,this.tbar?($("#"+this.id+"-tbar").css("-moz-border-radius-topleft",a+"px"),$("#"+this.id+"-tbar").css("-moz-border-radius-topright",a+"px")):($("#"+this.id+"-header").css("-moz-border-radius-topleft",a+"px"),$("#"+this.id+"-header").css("-moz-border-radius-topright",a+"px")),this.bbar))$("#"+this.id+"-bbar").css("-moz-border-radius-bottomleft",a+"px"),
$("#"+this.id+"-bbar").css("-moz-border-radius-bottomright",a+"px")}},refresh:function(a){var b;if(null!=this.ds&&null!=this.cm){this.events.beforeRefresh&&this.events.beforeRefresh(this);this.events.beforerefresh&&this.events.beforerefresh(this);b=this.showHeader?new idev.wTemplate("<div id='{id}-header' class='ui-grid-header' style='height:{headerheight}px;overflow:none;'>","{header}","</div>","<div id='{id}-data' class='ui-grid-data' style='width:{width}px;height:{height}px;overflow:auto;'>","{data}",
"</div>"):new idev.wTemplate("<div id='{id}-data' class='ui-grid-data' style='width:{width}px;height:{height}px;overflow:auto;'>","{data}","</div>");this.border&&(this.style+="border:"+this.borderStyle);this.build();var c=[];c.id=this.id;c.width=this.width;c.headerwidth=this.width+250;c.height=this.height-this.headerHeight-this.tbarHeight-this.bbarHeight;c.headerheight=this.headerHeight;c.elementstyle=this.elementStyle;c.style=this.style;c.header=this.htmlHeader;c.data=this.htmlData;var d=0,f=0;a&&
(this.selectedRow=-1);-1<this.selectedRow&&(d=$("#"+this.id+"-data").scrollTop(),f=$("#"+this.id+"-data").scrollLeft());a=b.render(c);$("#"+this.id+"-body").html(a);idev.internal.afterRender(this);if(-1<this.selectedRow){for(a=0;a<this.cm.getCount();a++)b=this.cm.getAt(a),b.noselect||(b=this.id+"-cell-"+this.selectedRow+"-"+a,$("#"+b).addClass("ui-cell-select"));if(0<d||0<f)$("#"+this.id+"-data").scrollTop(d),$("#"+this.id+"-data").scrollLeft(f)}(this.events.contextMenu||this.events.contextmenu)&&
this.addEvent("contextmenu",idev.internal.onContextMenu);for(d=this.offset;d<this.ds.getCount()&&d<this.offset+this.limit;d++)for(a=0;a<this.cm.getCount();a++)b=this.id+"-cell-"+d+"-"+a,$("#"+b).click(function(a){var b=this.id.indexOf("-");if(b!=-1){var c=this.id.substr(0,b),d=this.id.substr(b+6),b=d.indexOf("-"),f=d.substr(0,b),b=d.substr(b+1),c=idev.get(c),d=c.cm.getAt(b);if(c.editCol){if(f==c.editCol.editRow&&b==c.editCol.editCol)return;c.editCol.endEdit(f);c.editCol=null}c.selectRow(f);if(c.editClicks==
1&&d.editor){d.edit(f,b);c.editCol=d;$("#"+c.id).focus();$delay(100,function(a){$get(a).focus()},c.editCol.editID)}else{d.events!=null&&d.events.click&&d.events.click(c,f,d,a);c.events.rowclick&&c.events.rowclick(c,f,a);c.events.cellclick&&c.events.cellclick(c,f,b,a)}}}),$("#"+b).dblclick(function(a){var b=this.id.indexOf("-");if(b!=-1){var c=this.id.substr(0,b),d=this.id.substr(b+6),b=d.indexOf("-"),f=d.substr(0,b),b=d.substr(b+1),c=idev.get(c),d=c.cm.getAt(b);if(c.editCol){if(f==c.editCol.editRow&&
b==c.editCol.editCol)return;c.editCol.endEdit();c.editCol=null}c.selectRow(f);if(c.editClicks==2&&d.editor){d.edit(f,b);c.editCol=d;$("#"+c.id).focus();$delay(100,function(a){$get(a).focus()},c.editCol.editID);return}if(d.events!=null){d.events.click&&d.events.click(c,f,b,a);d.events.dblclick&&d.events.dblclick(c,f,b,a)}c.events.dblclick&&c.events.dblclick(c,a)}a.preventDefault();a.stopPropagation();return false});$("#"+this.id+"-data").scroll(function(){var a=this.id.indexOf("-"),a=this.id.substr(0,
a);if(idev.get(a).showHeader){a=this.id.replace("-data","")+"-header";$("#"+this.id).width();pos=this.scrollLeft;$("#"+a).scrollLeft(pos)}});for(a=0;a<this.cm.getCount();a++)b=this.cm.getAt(a),b.parent=this,null!=b.events&&b.events.afterender&&b.events.afterender(this,a);this.events.afterRefresh&&this.events.afterRefresh(this);this.events.afterrefresh&&this.events.afterrefresh(this);this.rendered=!0}},selectRow:function(a){if(-1!=this.selectedRow)for(var b=0;b<this.cm.getCount();b++){var c=this.id+
"-cell-"+this.selectedRow+"-"+b;$("#"+c).removeClass("ui-cell-select")}for(b=0;b<this.cm.getCount();b++)this.cm.getAt(b).noselect||(c=this.id+"-cell-"+a+"-"+b,$("#"+c).addClass("ui-cell-select"));this.selectedRow=a},getSelected:function(){return this.selectedRow},getStore:function(){return this.ds},ondestroy:function(){this.ds&&this.ds.autoDestroy&&delete this.ds;this.tbCreated&&this.tbar.destroy();this.bbCreated&&this.bbar.destroy()},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();
$("#"+this.id+"-data").height(b-this.headerHeight);$("#"+this.id+"-data").width(a)}}),widgetTabPanel:baseWidget.extend({init:function(a){this._super(a);this.wtype="tabpanel";this.tabWidth=a.tabWidth||90;this.tabHeight=a.tabHeight||25;this.tabScrollWidth=a.tabScrollWidth||25;this.tabStyle=a.tabStyle||"";this.contentStyle=a.contentStyle||"";this.activeTab=a.activeTab||0;this.tabScroll=!1;this.startTab=0;this.radius=a.radius||6;var b=a="";this.tabWidth*this.widgets.length>this.width&&(a="<li id='{id}-tableft' style='width:"+
this.tabScrollWidth+"px;height:{tabheight}px;'><div id='{id}-tableft-body' class='ui-tab-scroll'>&laquo;</div></li>",b="<li id='{id}-tabright' style='float:right;width:"+this.tabScrollWidth+"px;height:{tabheight}px;'><div id='{id}-tabright-body' class='ui-tab-scroll ui-tab-scroll-active'>&raquo;</div></li>",this.tabScroll=!0);this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};{style}'>","<ul class='ui-tabs' style='height:"+(this.tabHeight-2)+"px;width:{contentwidth}px;'>",
a,"{tabs}",b,"</ul>","<div id='{id}-panels' class='ui-tab-content' style='width:{contentwidth}px;height:{contentheight}px;{contentstyle}'>","{panels}","</div>","</div>");idev.internal.add(this)},render:function(){if(null!=this.renderTo&&null!=this.widgets){for(var a="",b="",c=0,d=this.visibleTabs=0;d<this.widgets.length;d++){null==this.widgets[d].tabTitle&&(this.widgets[d].tabTitle=this.widgets[d].title||"");var f=this.widgets[d].tabTitle,c=c+this.tabWidth,f="<div class='ui-tab' style='position:relative;height:"+
(this.tabHeight-2)+"px;'><div style='position:absolute;left:1px;width:"+(this.tabWidth-2)+"px;'><center>"+f+"</center></div><div id='"+this.id+"-tabclose"+d+"' class='ui-tab-btn-close' style='display:none;position:absolute;top:0px;right:2px;'></div></div>";c>this.width-2*this.tabScrollWidth?a+="<li class='ui-tab' style='display:none;width:"+this.tabWidth+"px;height:"+(this.tabHeight-2)+"px;"+this.tabStyle+";' id='"+this.id+"-tab"+d+"' >"+f+"</li>":(this.visibleTabs++,a+="<li style='width:"+this.tabWidth+
"px;height:"+(this.tabHeight-2)+"px;"+this.tabStyle+";' id='"+this.id+"-tab"+d+"' >"+f+"</li>");b+="<div class='ui-tab-content' style='display:none;width:{width}px;height:{height}px;' id='"+this.id+"-panel"+d+"'>";b+="</div>"}c=[];c.id=this.id;c.width=this.width-2;c.height=this.height-this.tabHeight;c.contentwidth=this.width-2;c.contentheight=this.height-this.tabHeight-2;c.elementstyle=this.elementStyle;c.style=this.style;c.contentstyle=this.contentStyle;c.tabheight=this.tabHeight;c.tabwidth=this.tabWidth;
c.tabs=a;c.panels=b;a=this.tpl.render(c);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.utils.delay(100,function(a){for(var b=0;b<a.widgets.length;b++){var c=a.widgets[b];c.renderTo=a.id+"-panel"+b;c.width=a.width-2;c.deferredRender=!0;c.title=null;c.height=a.height-a.tabHeight-2}a.showTab(a.activeTab);for(b=0;b<a.widgets.length;b++)$("#"+a.id+"-tab"+b).click(a,function(a){var b=this.id.replace(a.data.id+"-tab","");a.data.showTab(b);return!1}),$("#"+a.id+"-tabclose"+b).click(a,
function(a){var b=this.id.replace(a.data.id+"-tabclose","");a.data.closeTab(b)});$("#"+a.id+"-tableft").click(function(){a.showTab("left");return!1});$("#"+a.id+"-tabright").click(function(){a.showTab("right");return!1})},this);idev.internal.afterRender(this);this.roundCorners&&(DD_roundies.addRule("#"+this.id,"0 0 "+this.radius+"px "+this.radius+"px",!0),$("#"+this.id).css("border-bottom-left-radius",this.radius+"px"),$("#"+this.id).css("border-bottom-right-radius",this.radius+"px"),$("#"+this.id).css("-moz-border-bottom-left-radius",
this.radius+"px"),$("#"+this.id).css("-moz-border-bottom-right-radius",this.radius+"px"),a=this.radius,this.border&&a--,DD_roundies.addRule("#"+this.id+"-panels","0 0 "+a+"px "+a+"px",!0),$("#"+this.id+"-panels").css("border-bottom-left-radius",a+"px"),$("#"+this.id+"-panels").css("border-bottom-right-radius",a+"px"),$("#"+this.id+"-panels").css("-moz-border-bottom-left-radius",a+"px"),$("#"+this.id+"-panels").css("-moz-border-bottom-right-radius",a+"px"));this.events.click&&$("#"+this.id).click(idev.internal.onClick);
this.rendered=!0}},addTab:function(a){var a=idev.utils.clone(a),b=this,c=this.widgets.length,d="";null!=a.title&&(d=a.title);null!=a.tabTitle&&(d=a.tabTitle);a.tabTitle=d;d="";a.title="<div class='ui-tab' style='position:relative;height:"+(this.tabHeight-2)+"px;'><div style='position:absolute;left:1px;width:"+(this.tabWidth-2)+"px;'><center>"+a.tabTitle+"</center></div><div id='"+this.id+"-tabclose"+c+"' class='ui-tab-btn-close' style='display:none;position:absolute;top:0px;right:2px;'></div></div>";
var d=this.widgets.length+1>=this.startTab+this.visibleTabs?"<li style='display:none;width:"+this.tabWidth+"px;height:"+(this.tabHeight-2)+"px;"+this.tabStyle+";' id='"+this.id+"-tab"+c+"' >"+a.title+"</li>":"<li style='width:"+this.tabWidth+"px;"+this.tabStyle+";' id='"+this.id+"-tab"+this.widgets.length+"' >"+a.title+"</li>",f="<div class='ui-tab-content' style='display:none;' id='"+this.id+"-panel"+this.widgets.length+"'></div>";a.renderTo=this.id+"-panel"+c;a.title=null;a.width=this.width-2;a.deferredRender=
!0;a.height=this.height-this.tabHeight-2;$("#"+this.id+"-tabright").before(d);$("#"+this.id+"-panels").append(f);$("#"+this.id+"-tab"+c).click(this,function(a){var b=this.id.replace(a.data.id+"-tab","");a.data.showTab(b);return false});$("#"+this.id+"-tabclose"+c).click(this,function(a){a=this.id.replace(a.data.id+"-tabclose","");b.closeTab(a);return false});this.widgets.push(a);this.showTab(c)},closeTab:function(a){"string"==typeof a&&(a=parseInt(a));if(0>a||a>=this.widgets.length)return!1;if(!(this.events.beforeCloseTab&&
!1===this.events.beforeCloseTab(this,a))){var b=this.id+"-tab"+a;$("#"+b).remove();if(!(null!=this.widgets[a].id&&!1===this.events.beforeCloseTab(this,a))){b=this.id+"-panel"+a;$("#"+b).remove();for(var c=a+1;c<this.widgets.length;c++){var b=this.id+"-tab"+c,d=this.id+"-tab"+(c-1),f=this.widgets[c];$("#"+b).attr("id",d);b=this.id+"-panel"+c;d=this.id+"-panel"+(c-1);$("#"+b).attr("id",d);f.renderTo=d;b=this.id+"-tabclose"+c;d=this.id+"-tabclose"+(c-1);$("#"+b).attr("id",d)}this.widgets.splice(a,1);
b="";this.startTab+this.visibleTabs-1>=this.widgets.length?(this.startTab--,0<=this.startTab?(b=this.id+"-tab"+this.startTab,$("#"+b).css("display","block")):(this.startTab=0,$("#"+this.id+"-tableft").hide(),$("#"+this.id+"-tabright").hide())):(b=this.id+"-tab"+(this.startTab+this.visibleTabs-1),$("#"+b).css("display","block"));if(a==this.activeTab){a==this.widgets.length&&a--;if(0==this.widgets.length)return;this.showTab(a)}this.events.afterCloseTab&&this.events.afterCloseTab(this,a);return!0}}},
showTab:function(a){var b="#"+this.id+"-tableft-body",c="#"+this.id+"-tabright-body";if(0!=this.widgets.length)if("left"==a){if(0!=this.startTab){this.startTab--;var d=this.id+"-tab"+this.startTab,f=this.id+"-tab"+(this.startTab+this.visibleTabs);$("#"+f).css("display","none");$("#"+d).css("display","block");$(c).addClass("ui-tab-scroll-active");0==this.startTab&&$(b).removeClass("ui-tab-scroll-active")}}else if("right"==a)this.startTab+1+this.visibleTabs>this.widgets.length||(f=this.id+"-tab"+this.startTab,
d=this.id+"-tab"+(this.startTab+this.visibleTabs),$("#"+f).css("display","none"),$("#"+d).css("display","block"),$(b).addClass("ui-tab-scroll-active"),this.startTab+1+this.visibleTabs==this.widgets.length&&$(c).removeClass("ui-tab-scroll-active"),this.startTab++);else if(!(a>this.widgets.length)&&!(0>a)){for(;a<this.startTab;)this.startTab--,d=this.id+"-tab"+this.startTab,f=this.id+"-tab"+(this.startTab+this.visibleTabs),$("#"+f).css("display","none"),$("#"+d).css("display","block"),$(c).addClass("ui-tab-scroll-active"),
0==this.startTab&&$(b).removeClass("ui-tab-scroll-active");for(;a>this.startTab+this.visibleTabs-1;)f=this.id+"-tab"+this.startTab,d=this.id+"-tab"+(this.startTab+this.visibleTabs),$("#"+f).css("display","none"),$("#"+d).css("display","block"),$(b).addClass("ui-tab-scroll-active"),this.startTab+1+this.visibleTabs==this.widgets.length&&$(c).removeClass("ui-tab-scroll-active"),this.startTab++;b=this.id+"-panel"+this.activeTab;$("#"+this.id+"-tabclose"+this.activeTab).css("display","none");this.activeTab=
a;for(c=0;c<this.widgets.length;c++)$("#"+this.id+"-tab"+c).removeClass("active");$("#"+b).css("display","none");$("#"+this.id+"-tab"+this.activeTab).addClass("active").show();this.widgets[a].closable&&$("#"+this.id+"-tabclose"+a).css("display","block");activeTab=this.id+"-panel"+this.activeTab;this.widgets[a].deferredRender?(a=this.widgets[a],a.deferredRender=!1,a.parent=this,idev.internal.renderWidget(this.page,a),$("#"+activeTab).show(),a=$get(a.id)):($("#"+activeTab).show(),a=$get(this.widgets[a].id));
a.events&&a.events.show&&a.events.show(a);this.events.showTab&&this.events.showTab(this,activeTab)}},doLayout:function(){$("#"+this.id).width();$("#"+this.id).height()}}),widgetIcon:baseWidget.extend({init:function(a){a.hideType="visibility";null==a.width&&(a.width=24);null==a.height&&(a.height=24);this._super(a);this.wtype="icon";this.icon=null==a.icon?"":a.icon;this.background=null==a.background?!1:a.background;this.resizer.resizable=!1;this.color=a.color||"black";this.backgroundColor=a.backgroundColor||
"#ddd";this.scale=a.scale||0.7;this.xoffset=null==a.xoffset?-5:a.xoffset;this.yoffset=null==a.yoffset?-5:a.yoffset;this.title=a.title||"";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element {cls}' style='{elementstyle};{style}' title='{title}'>","</div>");idev.internal.add(this)},drawIcon:function(){this.paper=Raphael(this.id,this.width,this.height);this.paper.safari();var a="";""!=this.icon&&(a=eval("icon."+this.icon));if(""!=a&&(this.background&&this.paper.circle(this.width/2,this.height/
2,this.width/2-2).attr({fill:this.backgroundColor,stroke:"none"}),this.ic=this.paper.path(a).attr({fill:this.color,stroke:"none"})))this.ic.scale(this.scale,this.scale),this.ic.translate(this.xoffset,this.yoffset);"function"==typeof this.events.click&&$("#"+this.id).click(idev.internal.onClick);"function"==typeof this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick)},render:function(){if(null!=this.renderTo&&""!=this.icon){var a=[];a.id=this.id;a.width=this.width;a.height=this.height;
a.elementstyle=this.elementStyle;a.style=this.style+(this.events.click?"cursor:pointer;":"");a.cls="";a.title=this.title;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.utils.delay(100,function(a){a.drawIcon();idev.internal.afterRender(a)},this);this.rendered=!0}},refresh:function(){this.paper&&this.paper.remove();this.drawIcon()},doLayout:function(){$("#"+this.id).width();$("#"+this.id).height()}}),widgetElement:baseWidget.extend({init:function(a){this._super(a);
this.wtype="element";this.data=a.data;this.tpl=a.tpl;"string"==typeof this.tpl&&(this.tpl=new idev.wTemplate(this.tpl));this.bodyStyle=this.config.bodyStyle||"";idev.internal.add(this)},render:function(){if(null!=this.renderTo&&null!=this.tpl){var a=[];a.id=this.id;a.bodystyle=this.bodyStyle;a.width=this.width;a.height=this.height;a.text=this.text;a.color=this.color;if(null!=this.data)for(var b=0;b<this.data.length;b++)a.push(this.data[b]);b="<div id='{id}' class='ui-element'>";b="<div id='{id}' class='ui-element' style='"+
this.elementStyle+";"+this.style+"'>";a=b+this.tpl.render(a)+"</div>";a=a.replace("{id}",this.id);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.roundCorners&&(DD_roundies.addRule("#"+this.id,this.radius+"px",!0),$("#"+this.id).css("border-radius",this.radius+"px"));idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},doLayout:function(){$("#"+
this.id).width();$("#"+this.id).height()}}),widgetComposite:baseWidget.extend({init:function(a){this._super(a);this.wtype="composite";this.data=a.data;this.bodyStyle=this.config.bodyStyle||"";this.layout=null==a.layout?"column":a.layout;if("fit"==this.layout||"frame"==this.layout||"accordion"==this.layout)this.layout="column";this.labelwidth=null==a.labelwidth?70:a.labelwidth;this.cls=a.cls||"";idev.internal.add(this)},render:function(){if(null!=this.renderTo&&null!=this.tpl){var a=[];a.id=this.id;
a.bodystyle=this.bodyStyle;a.width=this.width;a.height=this.height;a.text=this.text;a.color=this.color;if(null!=this.data)for(var b=0;b<this.data.length;b++)a.push(this.data[b]);sHTML="<div id='{id}' class='ui-element "+this.cls+"' style='"+this.elementStyle+";"+this.style+"'></div>";sHTML=sHTML.replace("{id}",this.id);idev.internal.beforeRender(this);$("#"+this.renderTo).append(sHTML);this.roundCorners&&(DD_roundies.addRule("#"+this.id,this.radius+"px",!0),$("#"+this.id).css("border-radius",this.radius+
"px"));this.widgets&&idev.internal.renderWidgets(this.page,this.id,this.widgets,this.layout,this.labelwidth,this);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);this.rendered=!0}},doLayout:function(){$("#"+this.id).width();$("#"+this.id).height()}}),widgetSpacer:baseWidget.extend({init:function(a){this._super(a);this.wtype="spacer";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}{style}'>",
"<img src='"+idev.blankimage+"' style='width:{width}px;height:{height}px;'/>","</div>");idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.elementstyle=this.elementStyle;a.style=this.style;a.width=this.width||1;a.height=this.height||1;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);this.rendered=!0}}}),widgetHTML:baseWidget.extend({init:function(a){this._super(a);this.wtype="html";this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle}'>",
"{html}","</div>");idev.internal.add(this)},render:function(){if(null!=this.renderTo&&null!=this.html){var a=[];a.id=this.id;a.elementstyle=this.elementStyle;a.html=this.html;a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.rendered=!0}}}),widgetCanvas:baseWidget.extend({init:function(a){this._super(a);this.wtype="canvas";this.paper=null;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element{cls}' style='width:{width}px;height:{height}px;{style}'>",
"{text}","</div>");idev.internal.add(this)},render:function(){var a=this.style+this.elementStyle;if(null!=this.renderTo){var b=[];b.id=this.id;b.cls=this.cls;b.style=a;b.width=this.width;b.height=this.height;a=this.tpl.render(b);$("#"+this.renderTo).append(a);idev.internal.beforeRender(this);this.paper=new Raphael(document.getElementById(this.id),this.width,this.height);idev.internal.afterRender(this);this.events.click&&$("#"+this.id).click(idev.internal.onClick);this.events.dblclick&&$("#"+this.id).dblclick(idev.internal.onDblClick);
this.rendered=!0}},getPaper:function(){return this.paper},doLayout:function(){$("#"+this.id).width();$("#"+this.id).height()}}),widgetListItem:baseWidget.extend({init:function(a){this._super(a);this.wtype="listitem";this.icon=null==a.icon?"":a.icon;this.image=null==a.image?"":a.image;this.text=null==a.text?"":a.text;this.textStyle=null==a.textStyle?"":a.textStyle;this.widgetWidth=null==a.widgetWidth?30:a.widgetWidth;this.widget=a.widget;this.index=a.index;this.itemHeight=null==a.itemHeight?40:a.itemHeight;
this.background=a.background;this.selectable=null==a.selectable?!0:a.selectable;this.width=(idev.isWebkit()||idev.isFF())&&!idev.isPalm()?this.width-2:this.width-4;this.html+=this.text;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element {cls}' style='width:{width}px;padding:2px;{style}'>","<table cellspacing=0 cellpadding=0 height={itemheight}><tr>","<tr>","{item}","</tr>","</table>","</div>");idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a="",b,c=this.style;b="ui-listbox-item ie9gradient";
this.parent&&this.index==this.parent.items.length-1&&(b="ui-listbox-item-last");""!=this.image&&(a="<td width='50px'><img src='"+this.image+"' style=''></td>");this.widget?a="icon"!=this.widget.wtype?"<td d='"+this.id+"-text'align='left' valign=center width='"+(this.width-this.widgetWidth)+"'' ><div style='"+this.textStyle+"'>"+this.html+"</div></td><td id='"+this.id+"-widget' width="+this.widgetWidth+" valign=top style='padding-top:5;'></td>":"<td d='"+this.id+"-text'align='left' valign=center width='"+
(this.width-this.widgetWidth)+"'><div style='"+this.textStyle+"'>"+this.html+"</div></td><td id='"+this.id+"-widget' width="+this.widgetWidth+"></td>":(this.widget={wtype:"icon",icon:this.icon,background:this.background},a="<td id='"+this.id+"-text' align='left' valign=center width='"+(this.width-this.widgetWidth)+"'><div style='"+this.textStyle+"'>"+this.html+"</div></td><td id='"+this.id+"-widget' width="+this.widgetWidth+"></td>");var d=[];d.id=this.id;d.cls=b;d.width=this.width;d.itemheight=this.itemHeight;
d.style=c+"background-position:bottom;background-repeat: repeat-x;";d.item=a;a=this.tpl.render(d);$("#"+this.renderTo+"-body").append(a);this.widget&&null!=this.widget.wtype&&("icon"==this.widget.wtype?""!=this.widget.icon&&(this.widget.renderTo=this.id+"-widget",this.widget.id=idev.internal.renderWidget(this.page,this.widget)):(this.widget.renderTo=this.id+"-widget",this.widget.id=idev.internal.renderWidget(this.page,this.widget)));$("#"+this.id).click(function(a){var b=idev.get(this.id);if(b.enabled){b.select();
b.events&&b.events.click&&b.events.click(b,b.index,a)}});$("#"+this.id).dblclick(function(){var a=idev.get(this.id);if(a.enabled){a.select();a.events&&a.events.dblclick&&a.events.dblclick(a,a.index,e)}});this.rendered=!0}},select:function(){if(!this.selectable)return!1;null!=this.parent.selected&&$("#"+this.parent.selected).removeClass("ui-listbox-select");$("#"+this.id).addClass("ui-listbox-select");this.parent.selected=this.id;return!0},syncWidth:function(){var a=$("#"+this.parent.id).width();$("#"+
this.id).width(a);$("#"+this.id+"-text").width(a-this.widgetWidth)}}),widgetListbox:baseWidget.extend({init:function(a){this._super(a);this.wtype="listbox";this.title=null==a.title?"":a.title;this.titleHeight=null==a.titleHeight?22:a.titleHeight;this.titleStyle=null==a.titleStyle?"":a.titleStyle;this.items=a.items;this.background=null==a.background?!0:a.background;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element ui-listbox {extracls} {cls}' style='{elementstyle};{style}'>","<div id='{id}-header' class='{headercls}' style='width:{width}px;height:{titleheight}px;{titlestyle}'>",
"<center>","{title}","</center>","</div>","<div id='{id}-body' class='{bodycls}' style='width:{width}px;'>","</div>","</div>");idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.width=this.width;a.height=this.height;a.titleheight=this.titleHeight;a.titlestyle=this.titleStyle;a.extracls="curved ie9gradient";a.cls=this.cls;a.elementstyle=this.elementStyle;a.style=this.style;a.headercls="ui-listbox-header ie9gradient";a.title=this.title;a.bodycls="ui-listbox-body";
a=this.tpl.render(a);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);if(this.items)for(a=0;a<this.items.length;a++){var b=this.items[a];""!=b.text&&(b.index=a,b.background=this.background,b.wgt=this.add(b))}idev.internal.afterRender(this);this.rendered=!0}},add:function(a){a.renderTo=this.id;null==a.width&&(a.width=this.width);a.page=this.page;a.parent=this;a=new idev.ui.widgetListItem(a);a.parent=this;a.render();return a},get:function(a){return 0>a||a>=this.items.length?null:this.items[a].wgt},
doLayout:function(){var a=$("#"+this.id).width();$("#"+this.id).height();$("#"+this.id+"-header").width(a);$("#"+this.id+"-body").width(a);for(a=0;a<this.items.length;a++)this.items[a].wgt.syncWidth()}}),widgetList:baseWidget.extend({init:function(a){this._super(a);this.wtype="list";this.tpl=null==a.tpl?"":a.tpl;this.offset=a.offset||0;this.limit=a.limit||65535;this.selected=-1;this.dsFilter=a.dsFilter;this.itemStyle=a.itemStyle||"";this.itemCls=a.itemCls||"";this.backgroundStyle=a.backgroundStyle||
"";this.metaData=a.metaData;this.autoSelect=a.autoSelect;this.selectColor=a.selectColor;this.selectCls=a.selectCls||"";this.renderer=a.renderer;if(""!=this.selectColor||""!=this.selectCls)this.autoSelect=!0;this.template=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};'>","<div id='{id}-background' style='position:absolute;left:0px;top:0px;width:{width}px;max-width:{width}px;height:{height}px;max-height:{height}px;{backgroundstyle}'>","</div>","<div id='{id}-wrapper' class='ui-list {cls}' style='position:absolute;left:0px;top:0px;width:{wwidth}px;max-width:{wwidth}px;height:{height}px;max-height:{height}px;{style};'>",
"<div id='{id}-scroller'>","{items}","</div>","</div>","</div>");this.itemtpl=new idev.wTemplate("<div id='{id}' class='ui-listentry {itemcls}' style='width:{width}px;max-width:{width}px;{itemstyle}'>","{entry}","</div>");idev.internal.add(this);null!=this.ds&&this.ds.bind(this);""!=this.itemCls&&(this.itemCls+="  ie9gradient");""!=this.selectCls&&(this.selectCls+="  ie9gradient")},buildList:function(){for(var a="",b=[],c=this.offset;c<this.ds.getCount()&&c<this.offset+this.limit;c++){var d="",f=
"",g=this.ds.getAt(c),d=!0;this.dsFilter&&(d=this.dsFilter.call(this,g));if(d){for(var d="object"==typeof this.tpl?this.tpl.render(this.data):this.tpl,j=0;j<this.ds.fieldCount();j++)for(var l=this.ds.getFieldName(j),m=20;-1!=d.indexOf("{"+l+"}")&&0<m;)d=d.replace("{"+l+"}",""==g.get(l)?"&nbsp;":g.get(l)),m--;if(this.data)for(key in this.data)if(j=this.data[key],"string"==typeof j||"number"==typeof j)d=idev.utils.replaceAll(d,"{"+key+"}",this.data[key]);this.renderer&&(d=this.renderer(d,this,g,c));
b.id=this.id+"_"+c;b.width=this.width;b.entry=d;b.itemstyle=this.itemStyle;b.itemcls=this.itemCls;this.events.click&&(f="cursor:pointer;");b.style=f;a+=this.itemtpl.render(b)}}return a},refresh:function(){var a=this.id;this.events.beforeRefresh&&this.events.beforeRefresh(this);this.events.beforerefresh&&this.events.beforerefresh(this);var b=this.buildList();$("#"+a+"-scroller").html(b);for(a=0;a<this.ds.getCount();a++)$("#"+this.id+"_"+a).click(idev.internal.onClick);if(this.events.dblClick)for(a=
0;a<this.ds.getCount();a++)$("#"+this.id+"_"+a).dblClick(idev.internal.onDblClick);this.autoScroll&&idev.isTouch()&&setTimeout(function(){this.iScroll.refresh()},500);this.selected=-1;this.scrollPos=0;this.events.afterRefresh&&this.events.afterRefresh(this);this.events.afterrefresh&&this.events.afterrefresh(this)},render:function(){if(null!=this.renderTo&&null!=this.ds){var a=this.style;this.border&&(a+="border: 1px solid "+this.borderColor+";");this.autoScroll&&!idev.isTouch()&&(a+="overflow:auto;overflow-x:hidden; overflow-y:auto;");
var b=[];b.id=this.id;b.style=a;b.cls=this.cls;b.elementstyle=this.elementStyle;b.backgroundstyle=this.backgroundStyle;b.width=this.width;b.wwidth=this.width-(this.border?2:0);b.height=this.height-(this.border?2:0)-2;b.items="";a=this.template.render(b);idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);this.autoScroll&&idev.isTouch()&&$delay(1E3,function(a){a.iScroll=new iScroll(document.getElementById(a.id+"-scroller"),{bounce:!1})},this);this.roundCorners&&
(DD_roundies.addRule("#"+this.id,this.radius+"px",!0),$("#"+this.id).css("border-radius",this.radius+"px"),a=this.radius,this.border&&a--,DD_roundies.addRule("#"+this.id+"-background",a+"px",!0),$("#"+this.id+"-background").css("border-radius",a+"px"));this.rendered=!0;this.refresh()}},getStore:function(){return this.ds},getSelected:function(){return this.selected},getItemId:function(a){return this.id+a},updateItem:function(a,b,c){$("#"+this.id+"_"+a).css(b,c)},setScrollPos:function(a){$("#"+this.id+
"-wrapper").scrollTop(a);this.scrollPos=$("#"+this.id+"-wrapper").scrollTop()},getScrollPos:function(){return this.scrollPos},onhide:function(){this.scrollPos=$("#"+this.id+"-wrapper").scrollTop()},ondestroy:function(){this.ds&&this.ds.autoDestroy&&delete this.ds},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();this.resize(a,b);$("#"+this.id+"-wrapper").css("width",a);$("#"+this.id+"-wrapper").css("max-width",a);$("#"+this.id+"-wrapper").css("height",b);$("#"+this.id+"-wrapper").css("max-height",
b);this.refresh()}}),widgetDataView:baseWidget.extend({init:function(a){this._super(a);this.wtype="dataview";this.tpl=null!=a.template?a.template:null==a.tpl?"<div class='ui-listentry'></div>":a.tpl;this.columns=null==a.columns?2:a.columns;this.roundCorners=null==a.roundCorners?!1:a.roundCorners;this.radius=idev.convertNulls(this.config.radius,4);this.autoSelect=a.autoSelect;this.selectColor=a.selectColor||"";this.selectCls=a.selectCls||"";this.entryCls=a.entryCls||"";if(""!=this.selectColor||""!=
this.selectCls)this.autoSelect=!0;this.offset=a.offset||0;this.limit=a.limit||65535;this.entryWidth=a.entryWidth;this.entryHeight=a.entryHeight;this.swipeDelay=null==a.swipeDelay?3E3:a.swipeDelay;this.selected=-1;this.dsFilter=a.dsFilter;this.basetpl=new idev.wTemplate("<div id='{id}' class='ui-element {cls}' style='{elementstyle};{style}'>","<div id='{id}-wrapper' class='ui-dataview' style='position:relative;left:0px;top:0px;width:{width}px;max-width:{width}px;height:{height}px;max-height:{height}px;{bodystyle}'>",
"<div id='{id}-scroller'  class='ui-scroller' style=''>","{items}","</div>","</div>","</div>");if("string"==typeof this.tpl&&(this.entryWidth&&(this.tpl=this.tpl.replace("{entrywidth}",this.entryWidth)),this.entryHeight))this.tpl=this.tpl.replace("{entryheight}",this.entryHeight);a.autoHeight&&(this.height=null);idev.internal.add(this);null!=this.ds&&this.ds.bind(this);""!=this.selectCls&&(this.selectCls+="  ie9gradient");""!=this.entryCls&&(this.entryCls+="  ie9gradient")},buildList:function(){var a,
b=0,c="";if(this.events.click||this.events.dblclick)c+="cursor:pointer;";a="<table><tr>";for(var d=this.offset;d<this.ds.getCount()&&d<this.offset+this.limit;d++){var f="",g=this.ds.getAt(d),f=!0;this.dsFilter&&(f=this.dsFilter.call(this,g));if(f){"string"==typeof this.tpl?f=this.tpl:(f=this.tpl.get(),this.entryWidth&&(f=f.replace("{entrywidth}",this.entryWidth)),this.entryHeight&&(f=f.replace("{entryheight}",this.entryHeight)));for(var j=0;j<this.ds.fieldCount();j++)var l=this.ds.getFieldName(j),
f=idev.utils.replaceAll(f,"{"+l+"}",g.get(l));if(this.data)for(key in this.data)if(j=this.data[key],"string"==typeof j||"number"==typeof j)f=idev.utils.replaceAll(f,"{"+key+"}",this.data[key]);a+="<td valign=top><div id='"+this.id+"_"+d+"' class='ui-dataview-wrapper' style='"+c+"'>"+f+"</div></td>";b++;b==this.columns&&(a+="</tr>",a+="<tr>",b=0)}}return a+"</tr></table>"},refresh:function(){var a=this.id;this.events.beforeRefresh&&this.events.beforeRefresh(this);this.events.beforerefresh&&this.events.beforerefresh(this);
var b=this.buildList();$("#"+a+"-scroller").html(b);this.autoScroll&&idev.isTouch()&&(a=this.id+"-scroller",$delay(500,function(a){a.iScroll.refresh()},this));for(a=0;a<this.ds.getCount();a++)$("#"+this.id+"_"+a).addClass(this.entryCls),$("#"+this.id+"_"+a).click(idev.internal.onClick);if(this.events.dblclick)for(a=0;a<this.ds.getCount();a++)$("#"+this.id+"_"+a).dblclick(idev.internal.onDblClick);this.selected=-1;this.events.afterRefresh&&this.events.afterRefresh(this);this.events.afterrefresh&&this.events.afterrefresh(this)},
render:function(){if(null!=this.renderTo&&null!=this.ds){var a=this.style,b="";this.border&&(a+="border: 1px solid "+this.borderColor+";");this.autoScroll&&!idev.isTouch()&&(b+=";overflow:auto;");var c=[],d=this.width-(this.border?1:0),f=this.height-(this.border?1:0);this.roundCorners&&(d-=this.radius,f-=this.radius,b+="margin:2px;");c.id=this.id;c.cls=this.cls;c.style=a;c.bodystyle=b;c.width=d;c.height=f;c.elementstyle=this.elementStyle;c.items=this.buildList();a=this.basetpl.render(c);delete c;
idev.internal.beforeRender(this);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);for(c=0;c<this.ds.getCount();c++)$("#"+this.id+"_"+c).addClass(this.entryCls),$("#"+this.id+"_"+c).click(idev.internal.onClick);if(this.events.dblclick)for(c=0;c<this.ds.getCount();c++)$("#"+this.id+"_"+c).dblclick(idev.internal.onDblClick);this.roundCorners&&(DD_roundies.addRule("#"+this.id,this.radius+"px",!0),$("#"+this.id).css("border-radius",this.radius+"px"),c=this.radius,this.border&&c--,DD_roundies.addRule("#"+
this.id+"-wrapper",c+"px",!0),$("#"+this.id+"-wrapper").css("border-radius",c+"px"));this.autoScroll&&idev.isTouch()&&idev.utils.delay(1E3,function(a){a.iScroll=new iScroll(document.getElementById(a.id+"-scroller"))},this);this.rendered=!0}},updateItem:function(a,b,c){$("#"+this.id+"_"+a).css(b,c)},getSelected:function(){return this.selected},select:function(a){-1!=this.selected&&($("#"+this.id+"_"+this.selected).addClass(this.entryCls),$("#"+this.id+"_"+this.selected).removeClass(this.selectCls));
-1!=a&&($("#"+this.id+"_"+a).removeClass(this.entryCls),$("#"+this.id+"_"+a).addClass(this.selectCls));this.selected=a},getStore:function(){return this.ds},ondestroy:function(){this.ds&&this.ds.autoDestroy&&delete this.ds},doLayout:function(){var a=$("#"+this.id).width(),b=$("#"+this.id).height();this.resize();$("#"+this.id+"-wrapper").css("width",a);$("#"+this.id+"-wrapper").css("max-width",a);$("#"+this.id+"-wrapper").css("height",b);$("#"+this.id+"-wrapper").css("max-height",b);this.refresh()}}),
widgetSound:baseWidget.extend({init:function(a){a.width=0;a.height=0;this._super(a);this.wtype="sound";this.src=a.src;this.tpl=new idev.wTemplate("<div id='{id}' class='ui-element' style='{elementstyle};'>","<audio id='{id}-player' src='{src}'></audio>","</div>");idev.internal.add(this)},render:function(){if(null!=this.renderTo){var a=[];a.id=this.id;a.elementstyle=this.elementStyle;a.style=this.style;a.src=this.src;a=this.tpl.render(a);$("#"+this.renderTo).append(a);idev.internal.afterRender(this);
this.rendered=!0}},play:function(){var a=$("#"+this.id+"-player"),b=a.get(0);b.pause();a.currentTime-=30;b.play()}})},ux:{loadCSS:function(a,b){try{null==b&&(b=idev.internal.callback),idev.internal.addStyleSheet(_preferences.libpath+"ux/"+a,b)}catch(c){$debug(c.message)}},loadScript:function(a,b,c){try{null==b&&(b=idev.internal.callback),-1!=a.indexOf("http://")||-1!=a.indexOf("https://")?idev.internal.addScript(a,b,c):idev.internal.addScript(_preferences.libpath+"ux/"+a,b,c)}catch(d){$debug(d.message)}}},
extensions:function(){this.ui.widgetToolbar=this.ui.widgetPanel.extend({init:function(a){this._super(a);this.wtype="toolbar";this.layout="column";this.columnAlign="center";this.defaultType="button";this.padding=this.padding||2;this.panelCls=this.cls;""==this.panelCls&&(this.panelCls="ui-toolbar");this.backgroundCls=this.backgroundCls;""==this.backgroundCls&&(this.backgroundCls="ui-toolbar");idev.internal.add(this)}});this.register("toolbar",this.ui.widgetToolbar);this.ui.widgetStatusbar=this.ui.widgetPanel.extend({init:function(a){this._super(a);
this.wtype="statusbar";this.layout="column";this.defaultType="button";this.columnAlign="center";this.padding=2;this.panelCls=this.cls;""==this.panelCls&&(this.panelCls="ui-statusbar");idev.internal.add(this)}});this.register("statusbar",this.ui.widgetStatusbar);this.ui.widgetWindow=this.ui.widgetPanel.extend({init:function(a){null==a.x&&(a.x=$("#container").width()/2-a.width/2);null==a.y&&(a.y=$("#container").height()/2-a.height/2);a.renderTo="container";a.frame=!0;a.closable=idev.convertNulls(a.closable,
!0);this._super(a);this.wtype="window";this.hidden=!0;this.draggable=idev.convertNulls(a.draggable,!0);this.roundCorners=this.autoDestroy=!0;this.radius=idev.convertNulls(a.radius,6);this.panelCls=a.panelCls||"ui-window";this.bodyCls=a.bodyCls||"";this.backgroundCls=a.backgroundCls||"ui-window-background";this.bodyStyle=a.bodyStyle||"";this.titleHeight=a.titleHeight||30;this.titleStyle=a.titleStyle;this.tbarCls=a.tbarCls;this.bbarCls=a.bbarCls;this.shadow=a.shadow;this.shadowSize=a.shadowSize;this.shadowColor=
a.shadowColor;a.bbarHeight&&(this.bbarHeight=a.bbarHeight);this.titleCls=idev.convertNulls(a.titleCls,"");this.cls=a.cls||"";if(this.autoClose=idev.convertNulls(a.autoClose,!1))this.modal=!0;""!=this.backgroundCls&&(this.backgroundCls+=" ie9gradient");""!=this.panelCls&&(this.panelCls+=" ie9gradient");""!=this.bodyCls&&(this.bodyCls+=" ie9gradient");""!=this.titleCls&&(this.titleCls+=" ie9gradient");""!=this.tbarCls&&(this.tbarCls+=" ie9gradient");""!=this.bbarCls&&(this.bbarCls+=" ie9gradient");
idev.internal.add(this);this.render()},render:function(){this._super();if(this.autoClose){var a=this;$("#"+this.maskID).click(function(){a.close()})}}})},onReady:function(a){if(_preferences.config.noScale){var b=document.getElementsByTagName("meta");if(null==_preferences.config.noScaleTarget)for(var c=0;c<b.length;c++){if("viewport"==b[c].name){b[c].content="width=450, height=640, user-scalable=no";break}}else if(navigator.userAgent.match(_preferences.config.noScaleTarget))for(c=0;c<b.length;c++)if("viewport"==
b[c].name){b[c].content="width=450, height=640, user-scalable=no";break}}idev.blankimage=_preferences.blankimage;idev.controlHeight=idev.app.controlHeight;idev.callback=a}});$debug=function(a){try{console&&console.log(a)}catch(b){}};$msg=function(a){return idev.ui.message({text:a,type:"ok"})};$popup=function(a,b,c,d,f,g,j,l){return idev.ui.message({text:a,icon:b,x:c,y:d,animate:f,ax:g,ay:j,type:"",delay:l})};$error=function(a){return idev.ui.message({text:a,icon:"error"})};
$warning=function(a){return idev.ui.message({text:a,icon:"warning"})};$info=function(a){return idev.ui.message({text:a,icon:"information"})};$yesno=function(a,b){return idev.ui.message({text:a,icon:"question",type:"yesno",callback:b})};$tr=function(a){return _language.translate(a)};$delay=function(a,b,c){return idev.utils.delay(a,b,c)};$get=function(a){return idev.get(a)};$int=function(a){return idev.utils.round(a,0)};$round=function(a,b){return idev.utils.round(a,b)};
$ec=function(a){return idev.utils.scrypt(a,idev.rkey,!0)};$dc=function(a){return idev.utils.scrypt(a,idev.rkey,!1)};var idev=new idevCore;idev.internal.loadDependants();